GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 1


   1               		.file	"ucos_ii.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__  = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.global	OSIntEnter
  10               		.type	OSIntEnter, @function
  11               	OSIntEnter:
  12               	/* prologue: function */
  13               	/* frame size = 0 */
  14 0000 8091 0000 		lds r24,OSRunning
  15 0004 8130      		cpi r24,lo8(1)
  16 0006 01F0      		breq .L5
  17               	.L3:
  18 0008 0895      		ret
  19               	.L5:
  20 000a 8091 0000 		lds r24,OSIntNesting
  21 000e 8F3F      		cpi r24,lo8(-1)
  22 0010 01F0      		breq .L3
  23 0012 8F5F      		subi r24,lo8(-(1))
  24 0014 8093 0000 		sts OSIntNesting,r24
  25 0018 0895      		ret
  26               		.size	OSIntEnter, .-OSIntEnter
  27               	.global	OSSchedLock
  28               		.type	OSSchedLock, @function
  29               	OSSchedLock:
  30               	/* prologue: function */
  31               	/* frame size = 0 */
  32 001a 8091 0000 		lds r24,OSRunning
  33 001e 8130      		cpi r24,lo8(1)
  34 0020 01F0      		breq .L10
  35 0022 0895      		ret
  36               	.L10:
  37               	/* #APP */
  38               	 ;  222 "c:/WinAVR-work/lab2/source/os_core.c" 1
  39 0024 F894      		cli
  40               	 ;  0 "" 2
  41               	/* #NOAPP */
  42 0026 8091 0000 		lds r24,OSLockNesting
  43 002a 8F3F      		cpi r24,lo8(-1)
  44 002c 01F0      		breq .L8
  45 002e 8F5F      		subi r24,lo8(-(1))
  46 0030 8093 0000 		sts OSLockNesting,r24
  47               	.L8:
  48               	/* #APP */
  49               	 ;  226 "c:/WinAVR-work/lab2/source/os_core.c" 1
  50 0034 7894      		sei
  51               	 ;  0 "" 2
  52               	/* #NOAPP */
  53 0036 0895      		ret
  54               		.size	OSSchedLock, .-OSSchedLock
  55               	.global	OSVersion
  56               		.type	OSVersion, @function
  57               	OSVersion:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 2


  58               	/* prologue: function */
  59               	/* frame size = 0 */
  60 0038 8CEF      		ldi r24,lo8(252)
  61 003a 90E0      		ldi r25,hi8(252)
  62               	/* epilogue start */
  63 003c 0895      		ret
  64               		.size	OSVersion, .-OSVersion
  65               	.global	OS_Dummy
  66               		.type	OS_Dummy, @function
  67               	OS_Dummy:
  68               	/* prologue: function */
  69               	/* frame size = 0 */
  70               	/* epilogue start */
  71 003e 0895      		ret
  72               		.size	OS_Dummy, .-OS_Dummy
  73               	.global	OS_EventTaskRdy
  74               		.type	OS_EventTaskRdy, @function
  75               	OS_EventTaskRdy:
  76 0040 FF92      		push r15
  77 0042 0F93      		push r16
  78 0044 1F93      		push r17
  79 0046 CF93      		push r28
  80 0048 DF93      		push r29
  81               	/* prologue: function */
  82               	/* frame size = 0 */
  83 004a EC01      		movw r28,r24
  84 004c 8B01      		movw r16,r22
  85 004e F42E      		mov r15,r20
  86 0050 3981      		ldd r19,Y+1
  87 0052 E32F      		mov r30,r19
  88 0054 F0E0      		ldi r31,lo8(0)
  89 0056 E050      		subi r30,lo8(-(OSUnMapTbl))
  90 0058 F040      		sbci r31,hi8(-(OSUnMapTbl))
  91 005a 2081      		ld r18,Z
  92 005c 422F      		mov r20,r18
  93 005e 50E0      		ldi r21,lo8(0)
  94 0060 FA01      		movw r30,r20
  95 0062 E050      		subi r30,lo8(-(OSMapTbl))
  96 0064 F040      		sbci r31,hi8(-(OSMapTbl))
  97 0066 7081      		ld r23,Z
  98 0068 DC01      		movw r26,r24
  99 006a A40F      		add r26,r20
 100 006c B51F      		adc r27,r21
 101 006e 1696      		adiw r26,6
 102 0070 9C91      		ld r25,X
 103 0072 1697      		sbiw r26,6
 104 0074 E92F      		mov r30,r25
 105 0076 F0E0      		ldi r31,lo8(0)
 106 0078 E050      		subi r30,lo8(-(OSUnMapTbl))
 107 007a F040      		sbci r31,hi8(-(OSUnMapTbl))
 108 007c 8081      		ld r24,Z
 109 007e E82F      		mov r30,r24
 110 0080 F0E0      		ldi r31,lo8(0)
 111 0082 E050      		subi r30,lo8(-(OSMapTbl))
 112 0084 F040      		sbci r31,hi8(-(OSMapTbl))
 113 0086 6081      		ld r22,Z
 114 0088 220F      		lsl r18
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 3


 115 008a 220F      		lsl r18
 116 008c 220F      		lsl r18
 117 008e 280F      		add r18,r24
 118 0090 862F      		mov r24,r22
 119 0092 8095      		com r24
 120 0094 8923      		and r24,r25
 121 0096 1696      		adiw r26,6
 122 0098 8C93      		st X,r24
 123 009a 8823      		tst r24
 124 009c 01F4      		brne .L16
 125 009e 872F      		mov r24,r23
 126 00a0 8095      		com r24
 127 00a2 3823      		and r19,r24
 128 00a4 3983      		std Y+1,r19
 129               	.L16:
 130 00a6 E22F      		mov r30,r18
 131 00a8 F0E0      		ldi r31,lo8(0)
 132 00aa EE0F      		lsl r30
 133 00ac FF1F      		rol r31
 134 00ae E050      		subi r30,lo8(-(OSTCBPrioTbl))
 135 00b0 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 136 00b2 0190      		ld __tmp_reg__,Z+
 137 00b4 F081      		ld r31,Z
 138 00b6 E02D      		mov r30,__tmp_reg__
 139 00b8 128E      		std Z+26,__zero_reg__
 140 00ba 118E      		std Z+25,__zero_reg__
 141 00bc 138A      		std Z+19,__zero_reg__
 142 00be 128A      		std Z+18,__zero_reg__
 143 00c0 158B      		std Z+21,r17
 144 00c2 048B      		std Z+20,r16
 145 00c4 8F2D      		mov r24,r15
 146 00c6 8095      		com r24
 147 00c8 938D      		ldd r25,Z+27
 148 00ca 8923      		and r24,r25
 149 00cc 838F      		std Z+27,r24
 150 00ce 8823      		tst r24
 151 00d0 01F4      		brne .L17
 152 00d2 8091 0000 		lds r24,OSRdyGrp
 153 00d6 872B      		or r24,r23
 154 00d8 8093 0000 		sts OSRdyGrp,r24
 155 00dc FA01      		movw r30,r20
 156 00de E050      		subi r30,lo8(-(OSRdyTbl))
 157 00e0 F040      		sbci r31,hi8(-(OSRdyTbl))
 158 00e2 8081      		ld r24,Z
 159 00e4 682B      		or r22,r24
 160 00e6 6083      		st Z,r22
 161               	.L17:
 162 00e8 822F      		mov r24,r18
 163               	/* epilogue start */
 164 00ea DF91      		pop r29
 165 00ec CF91      		pop r28
 166 00ee 1F91      		pop r17
 167 00f0 0F91      		pop r16
 168 00f2 FF90      		pop r15
 169 00f4 0895      		ret
 170               		.size	OS_EventTaskRdy, .-OS_EventTaskRdy
 171               	.global	OS_EventTaskWait
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 4


 172               		.type	OS_EventTaskWait, @function
 173               	OS_EventTaskWait:
 174 00f6 CF93      		push r28
 175 00f8 DF93      		push r29
 176               	/* prologue: function */
 177               	/* frame size = 0 */
 178 00fa EC01      		movw r28,r24
 179 00fc A091 0000 		lds r26,OSTCBCur
 180 0100 B091 0000 		lds r27,(OSTCBCur)+1
 181 0104 5396      		adiw r26,18+1
 182 0106 9C93      		st X,r25
 183 0108 8E93      		st -X,r24
 184 010a 5297      		sbiw r26,18
 185 010c 5E96      		adiw r26,30
 186 010e 8C91      		ld r24,X
 187 0110 5E97      		sbiw r26,30
 188 0112 482F      		mov r20,r24
 189 0114 50E0      		ldi r21,lo8(0)
 190 0116 5F96      		adiw r26,31
 191 0118 3C91      		ld r19,X
 192 011a 5F97      		sbiw r26,31
 193 011c FA01      		movw r30,r20
 194 011e E050      		subi r30,lo8(-(OSRdyTbl))
 195 0120 F040      		sbci r31,hi8(-(OSRdyTbl))
 196 0122 832F      		mov r24,r19
 197 0124 8095      		com r24
 198 0126 9081      		ld r25,Z
 199 0128 8923      		and r24,r25
 200 012a 8083      		st Z,r24
 201 012c 8823      		tst r24
 202 012e 01F4      		brne .L23
 203 0130 9096      		adiw r26,32
 204 0132 2C91      		ld r18,X
 205 0134 922F      		mov r25,r18
 206 0136 9095      		com r25
 207 0138 8091 0000 		lds r24,OSRdyGrp
 208 013c 8923      		and r24,r25
 209 013e 8093 0000 		sts OSRdyGrp,r24
 210               	.L21:
 211 0142 FE01      		movw r30,r28
 212 0144 E40F      		add r30,r20
 213 0146 F51F      		adc r31,r21
 214 0148 8681      		ldd r24,Z+6
 215 014a 832B      		or r24,r19
 216 014c 8683      		std Z+6,r24
 217 014e 8981      		ldd r24,Y+1
 218 0150 822B      		or r24,r18
 219 0152 8983      		std Y+1,r24
 220               	/* epilogue start */
 221 0154 DF91      		pop r29
 222 0156 CF91      		pop r28
 223 0158 0895      		ret
 224               	.L23:
 225 015a 9096      		adiw r26,32
 226 015c 2C91      		ld r18,X
 227 015e 00C0      		rjmp .L21
 228               		.size	OS_EventTaskWait, .-OS_EventTaskWait
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 5


 229               	.global	OS_EventTO
 230               		.type	OS_EventTO, @function
 231               	OS_EventTO:
 232 0160 CF93      		push r28
 233 0162 DF93      		push r29
 234               	/* prologue: function */
 235               	/* frame size = 0 */
 236 0164 EC01      		movw r28,r24
 237 0166 A091 0000 		lds r26,OSTCBCur
 238 016a B091 0000 		lds r27,(OSTCBCur)+1
 239 016e 5E96      		adiw r26,30
 240 0170 8C91      		ld r24,X
 241 0172 5E97      		sbiw r26,30
 242 0174 FE01      		movw r30,r28
 243 0176 E80F      		add r30,r24
 244 0178 F11D      		adc r31,__zero_reg__
 245 017a 5F96      		adiw r26,31
 246 017c 8C91      		ld r24,X
 247 017e 5F97      		sbiw r26,31
 248 0180 8095      		com r24
 249 0182 9681      		ldd r25,Z+6
 250 0184 8923      		and r24,r25
 251 0186 8683      		std Z+6,r24
 252 0188 8823      		tst r24
 253 018a 01F4      		brne .L25
 254 018c 9096      		adiw r26,32
 255 018e 9C91      		ld r25,X
 256 0190 9097      		sbiw r26,32
 257 0192 9095      		com r25
 258 0194 8981      		ldd r24,Y+1
 259 0196 8923      		and r24,r25
 260 0198 8983      		std Y+1,r24
 261               	.L25:
 262 019a 5B96      		adiw r26,27
 263 019c 1C92      		st X,__zero_reg__
 264 019e 5B97      		sbiw r26,27
 265 01a0 5396      		adiw r26,18+1
 266 01a2 1C92      		st X,__zero_reg__
 267 01a4 1E92      		st -X,__zero_reg__
 268 01a6 5297      		sbiw r26,18
 269               	/* epilogue start */
 270 01a8 DF91      		pop r29
 271 01aa CF91      		pop r28
 272 01ac 0895      		ret
 273               		.size	OS_EventTO, .-OS_EventTO
 274               	.global	OS_EventWaitListInit
 275               		.type	OS_EventWaitListInit, @function
 276               	OS_EventWaitListInit:
 277               	/* prologue: function */
 278               	/* frame size = 0 */
 279 01ae FC01      		movw r30,r24
 280 01b0 1182      		std Z+1,__zero_reg__
 281 01b2 1682      		std Z+6,__zero_reg__
 282 01b4 1782      		std Z+7,__zero_reg__
 283               	/* epilogue start */
 284 01b6 0895      		ret
 285               		.size	OS_EventWaitListInit, .-OS_EventWaitListInit
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 6


 286               	.global	OSFlagAccept
 287               		.type	OSFlagAccept, @function
 288               	OSFlagAccept:
 289               	/* prologue: function */
 290               	/* frame size = 0 */
 291 01b8 FC01      		movw r30,r24
 292 01ba D901      		movw r26,r18
 293 01bc 0097      		sbiw r24,0
 294 01be 01F0      		breq .L50
 295 01c0 8081      		ld r24,Z
 296 01c2 8530      		cpi r24,lo8(5)
 297 01c4 01F0      		breq .L32
 298 01c6 81E0      		ldi r24,lo8(1)
 299 01c8 8C93      		st X,r24
 300 01ca 80E0      		ldi r24,lo8(0)
 301 01cc 0895      		ret
 302               	.L32:
 303 01ce 47FD      		sbrc r20,7
 304 01d0 00C0      		rjmp .L33
 305 01d2 20E0      		ldi r18,lo8(0)
 306               	.L34:
 307 01d4 1C92      		st X,__zero_reg__
 308               	/* #APP */
 309               	 ;  106 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 310 01d6 F894      		cli
 311               	 ;  0 "" 2
 312               	/* #NOAPP */
 313 01d8 4130      		cpi r20,lo8(1)
 314 01da 01F0      		breq .L37
 315 01dc 4130      		cpi r20,lo8(1)
 316 01de 00F0      		brlo .L36
 317 01e0 4230      		cpi r20,lo8(2)
 318 01e2 01F0      		breq .L38
 319 01e4 4330      		cpi r20,lo8(3)
 320 01e6 01F0      		breq .L51
 321               	/* #APP */
 322               	 ;  163 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 323 01e8 7894      		sei
 324               	 ;  0 "" 2
 325               	/* #NOAPP */
 326 01ea 87E9      		ldi r24,lo8(-105)
 327 01ec 8C93      		st X,r24
 328 01ee 80E0      		ldi r24,lo8(0)
 329 01f0 0895      		ret
 330               	.L36:
 331 01f2 9381      		ldd r25,Z+3
 332 01f4 892F      		mov r24,r25
 333 01f6 8095      		com r24
 334 01f8 8623      		and r24,r22
 335 01fa 8617      		cp r24,r22
 336 01fc 01F4      		brne .+2
 337 01fe 00C0      		rjmp .L52
 338 0200 88E9      		ldi r24,lo8(-104)
 339 0202 8C93      		st X,r24
 340 0204 9381      		ldd r25,Z+3
 341               	.L45:
 342 0206 892F      		mov r24,r25
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 7


 343               	/* #APP */
 344               	 ;  145 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 345 0208 7894      		sei
 346               	 ;  0 "" 2
 347               	/* #NOAPP */
 348 020a 0895      		ret
 349               	.L50:
 350 020c 86E9      		ldi r24,lo8(-106)
 351 020e 8C93      		st X,r24
 352 0210 80E0      		ldi r24,lo8(0)
 353 0212 0895      		ret
 354               	.L33:
 355 0214 4F77      		andi r20,lo8(127)
 356 0216 21E0      		ldi r18,lo8(1)
 357 0218 00C0      		rjmp .L34
 358               	.L37:
 359 021a 9381      		ldd r25,Z+3
 360 021c 892F      		mov r24,r25
 361 021e 8095      		com r24
 362 0220 8623      		and r24,r22
 363 0222 01F0      		breq .L46
 364 0224 2130      		cpi r18,lo8(1)
 365 0226 01F4      		brne .L47
 366 0228 892B      		or r24,r25
 367 022a 8383      		std Z+3,r24
 368 022c 982F      		mov r25,r24
 369 022e 00C0      		rjmp .L47
 370               	.L51:
 371 0230 9381      		ldd r25,Z+3
 372 0232 6923      		and r22,r25
 373 0234 01F0      		breq .L42
 374 0236 2130      		cpi r18,lo8(1)
 375 0238 01F4      		brne .L43
 376 023a 862F      		mov r24,r22
 377 023c 8095      		com r24
 378 023e 8923      		and r24,r25
 379 0240 8383      		std Z+3,r24
 380 0242 982F      		mov r25,r24
 381 0244 00C0      		rjmp .L43
 382               	.L38:
 383 0246 9381      		ldd r25,Z+3
 384 0248 862F      		mov r24,r22
 385 024a 8923      		and r24,r25
 386 024c 8617      		cp r24,r22
 387 024e 01F0      		breq .L53
 388 0250 88E9      		ldi r24,lo8(-104)
 389 0252 8C93      		st X,r24
 390 0254 9381      		ldd r25,Z+3
 391               	.L41:
 392 0256 892F      		mov r24,r25
 393               	/* #APP */
 394               	 ;  118 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 395 0258 7894      		sei
 396               	 ;  0 "" 2
 397               	/* #NOAPP */
 398 025a 0895      		ret
 399               	.L42:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 8


 400 025c 88E9      		ldi r24,lo8(-104)
 401 025e 8C93      		st X,r24
 402 0260 9381      		ldd r25,Z+3
 403               	.L43:
 404 0262 892F      		mov r24,r25
 405               	/* #APP */
 406               	 ;  131 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 407 0264 7894      		sei
 408               	 ;  0 "" 2
 409               	/* #NOAPP */
 410 0266 0895      		ret
 411               	.L46:
 412 0268 88E9      		ldi r24,lo8(-104)
 413 026a 8C93      		st X,r24
 414 026c 9381      		ldd r25,Z+3
 415               	.L47:
 416 026e 892F      		mov r24,r25
 417               	/* #APP */
 418               	 ;  158 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 419 0270 7894      		sei
 420               	 ;  0 "" 2
 421               	/* #NOAPP */
 422 0272 0895      		ret
 423               	.L53:
 424 0274 2130      		cpi r18,lo8(1)
 425 0276 01F4      		brne .L41
 426 0278 862F      		mov r24,r22
 427 027a 8095      		com r24
 428 027c 8923      		and r24,r25
 429 027e 8383      		std Z+3,r24
 430 0280 982F      		mov r25,r24
 431 0282 00C0      		rjmp .L41
 432               	.L52:
 433 0284 2130      		cpi r18,lo8(1)
 434 0286 01F0      		breq .+2
 435 0288 00C0      		rjmp .L45
 436 028a 892F      		mov r24,r25
 437 028c 862B      		or r24,r22
 438 028e 8383      		std Z+3,r24
 439 0290 982F      		mov r25,r24
 440 0292 00C0      		rjmp .L45
 441               		.size	OSFlagAccept, .-OSFlagAccept
 442               	.global	OSFlagCreate
 443               		.type	OSFlagCreate, @function
 444               	OSFlagCreate:
 445               	/* prologue: function */
 446               	/* frame size = 0 */
 447 0294 282F      		mov r18,r24
 448 0296 DB01      		movw r26,r22
 449 0298 8091 0000 		lds r24,OSIntNesting
 450 029c 8823      		tst r24
 451 029e 01F4      		brne .L59
 452               	/* #APP */
 453               	 ;  205 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 454 02a0 F894      		cli
 455               	 ;  0 "" 2
 456               	/* #NOAPP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 9


 457 02a2 E091 0000 		lds r30,OSFlagFreeList
 458 02a6 F091 0000 		lds r31,(OSFlagFreeList)+1
 459 02aa 3097      		sbiw r30,0
 460 02ac 01F0      		breq .L57
 461 02ae 8181      		ldd r24,Z+1
 462 02b0 9281      		ldd r25,Z+2
 463 02b2 9093 0000 		sts (OSFlagFreeList)+1,r25
 464 02b6 8093 0000 		sts OSFlagFreeList,r24
 465 02ba 85E0      		ldi r24,lo8(5)
 466 02bc 8083      		st Z,r24
 467 02be 2383      		std Z+3,r18
 468 02c0 1282      		std Z+2,__zero_reg__
 469 02c2 1182      		std Z+1,__zero_reg__
 470               	/* #APP */
 471               	 ;  213 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 472 02c4 7894      		sei
 473               	 ;  0 "" 2
 474               	/* #NOAPP */
 475 02c6 1C92      		st X,__zero_reg__
 476               	.L56:
 477 02c8 CF01      		movw r24,r30
 478               	/* epilogue start */
 479 02ca 0895      		ret
 480               	.L57:
 481               	/* #APP */
 482               	 ;  216 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 483 02cc 7894      		sei
 484               	 ;  0 "" 2
 485               	/* #NOAPP */
 486 02ce 8AE9      		ldi r24,lo8(-102)
 487 02d0 8C93      		st X,r24
 488 02d2 CF01      		movw r24,r30
 489 02d4 0895      		ret
 490               	.L59:
 491 02d6 8DE8      		ldi r24,lo8(-115)
 492 02d8 8C93      		st X,r24
 493 02da E0E0      		ldi r30,lo8(0)
 494 02dc F0E0      		ldi r31,hi8(0)
 495 02de 00C0      		rjmp .L56
 496               		.size	OSFlagCreate, .-OSFlagCreate
 497               	.global	OSFlagQuery
 498               		.type	OSFlagQuery, @function
 499               	OSFlagQuery:
 500               	/* prologue: function */
 501               	/* frame size = 0 */
 502 02e0 FC01      		movw r30,r24
 503 02e2 DB01      		movw r26,r22
 504 02e4 0097      		sbiw r24,0
 505 02e6 01F0      		breq .L65
 506 02e8 8081      		ld r24,Z
 507 02ea 8530      		cpi r24,lo8(5)
 508 02ec 01F0      		breq .L63
 509 02ee 81E0      		ldi r24,lo8(1)
 510 02f0 8C93      		st X,r24
 511 02f2 80E0      		ldi r24,lo8(0)
 512 02f4 0895      		ret
 513               	.L63:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 10


 514               	/* #APP */
 515               	 ;  685 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 516 02f6 F894      		cli
 517               	 ;  0 "" 2
 518               	/* #NOAPP */
 519 02f8 8381      		ldd r24,Z+3
 520               	/* #APP */
 521               	 ;  687 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 522 02fa 7894      		sei
 523               	 ;  0 "" 2
 524               	/* #NOAPP */
 525 02fc 1C92      		st X,__zero_reg__
 526 02fe 0895      		ret
 527               	.L65:
 528 0300 86E9      		ldi r24,lo8(-106)
 529 0302 8C93      		st X,r24
 530 0304 80E0      		ldi r24,lo8(0)
 531 0306 0895      		ret
 532               		.size	OSFlagQuery, .-OSFlagQuery
 533               		.type	OS_FlagBlock, @function
 534               	OS_FlagBlock:
 535 0308 EF92      		push r14
 536 030a FF92      		push r15
 537 030c 0F93      		push r16
 538 030e 1F93      		push r17
 539 0310 CF93      		push r28
 540 0312 DF93      		push r29
 541               	/* prologue: function */
 542               	/* frame size = 0 */
 543 0314 7C01      		movw r14,r24
 544 0316 FB01      		movw r30,r22
 545 0318 A091 0000 		lds r26,OSTCBCur
 546 031c B091 0000 		lds r27,(OSTCBCur)+1
 547 0320 5B96      		adiw r26,27
 548 0322 8C91      		ld r24,X
 549 0324 5B97      		sbiw r26,27
 550 0326 8062      		ori r24,lo8(32)
 551 0328 5B96      		adiw r26,27
 552 032a 8C93      		st X,r24
 553 032c 5B97      		sbiw r26,27
 554 032e 5A96      		adiw r26,25+1
 555 0330 1C93      		st X,r17
 556 0332 0E93      		st -X,r16
 557 0334 5997      		sbiw r26,25
 558 0336 5796      		adiw r26,22+1
 559 0338 7C93      		st X,r23
 560 033a 6E93      		st -X,r22
 561 033c 5697      		sbiw r26,22
 562 033e 4087      		std Z+8,r20
 563 0340 2187      		std Z+9,r18
 564 0342 B583      		std Z+5,r27
 565 0344 A483      		std Z+4,r26
 566 0346 E701      		movw r28,r14
 567 0348 8981      		ldd r24,Y+1
 568 034a 9A81      		ldd r25,Y+2
 569 034c 9183      		std Z+1,r25
 570 034e 8083      		st Z,r24
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 11


 571 0350 1382      		std Z+3,__zero_reg__
 572 0352 1282      		std Z+2,__zero_reg__
 573 0354 F782      		std Z+7,r15
 574 0356 E682      		std Z+6,r14
 575 0358 8981      		ldd r24,Y+1
 576 035a 9A81      		ldd r25,Y+2
 577 035c 0097      		sbiw r24,0
 578 035e 01F0      		breq .L67
 579 0360 EC01      		movw r28,r24
 580 0362 7B83      		std Y+3,r23
 581 0364 6A83      		std Y+2,r22
 582               	.L67:
 583 0366 E701      		movw r28,r14
 584 0368 FA83      		std Y+2,r31
 585 036a E983      		std Y+1,r30
 586 036c 5E96      		adiw r26,30
 587 036e EC91      		ld r30,X
 588 0370 5E97      		sbiw r26,30
 589 0372 F0E0      		ldi r31,lo8(0)
 590 0374 E050      		subi r30,lo8(-(OSRdyTbl))
 591 0376 F040      		sbci r31,hi8(-(OSRdyTbl))
 592 0378 5F96      		adiw r26,31
 593 037a 8C91      		ld r24,X
 594 037c 5F97      		sbiw r26,31
 595 037e 8095      		com r24
 596 0380 9081      		ld r25,Z
 597 0382 8923      		and r24,r25
 598 0384 8083      		st Z,r24
 599 0386 8823      		tst r24
 600 0388 01F4      		brne .L69
 601 038a 9096      		adiw r26,32
 602 038c 9C91      		ld r25,X
 603 038e 9095      		com r25
 604 0390 8091 0000 		lds r24,OSRdyGrp
 605 0394 8923      		and r24,r25
 606 0396 8093 0000 		sts OSRdyGrp,r24
 607               	.L69:
 608               	/* epilogue start */
 609 039a DF91      		pop r29
 610 039c CF91      		pop r28
 611 039e 1F91      		pop r17
 612 03a0 0F91      		pop r16
 613 03a2 FF90      		pop r15
 614 03a4 EF90      		pop r14
 615 03a6 0895      		ret
 616               		.size	OS_FlagBlock, .-OS_FlagBlock
 617               	.global	OS_FlagInit
 618               		.type	OS_FlagInit, @function
 619               	OS_FlagInit:
 620               	/* prologue: function */
 621               	/* frame size = 0 */
 622 03a8 20E0      		ldi r18,lo8(OSFlagTbl)
 623 03aa 30E0      		ldi r19,hi8(OSFlagTbl)
 624 03ac F901      		movw r30,r18
 625               	.L71:
 626 03ae CF01      		movw r24,r30
 627 03b0 0496      		adiw r24,4
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 12


 628 03b2 1082      		st Z,__zero_reg__
 629 03b4 9283      		std Z+2,r25
 630 03b6 8183      		std Z+1,r24
 631 03b8 FC01      		movw r30,r24
 632 03ba 80E0      		ldi r24,hi8(OSFlagTbl+16)
 633 03bc E030      		cpi r30,lo8(OSFlagTbl+16)
 634 03be F807      		cpc r31,r24
 635 03c0 01F4      		brne .L71
 636 03c2 1282      		std Z+2,__zero_reg__
 637 03c4 1182      		std Z+1,__zero_reg__
 638 03c6 3093 0000 		sts (OSFlagFreeList)+1,r19
 639 03ca 2093 0000 		sts OSFlagFreeList,r18
 640               	/* epilogue start */
 641 03ce 0895      		ret
 642               		.size	OS_FlagInit, .-OS_FlagInit
 643               	.global	OS_FlagUnlink
 644               		.type	OS_FlagUnlink, @function
 645               	OS_FlagUnlink:
 646 03d0 CF93      		push r28
 647 03d2 DF93      		push r29
 648               	/* prologue: function */
 649               	/* frame size = 0 */
 650 03d4 EC01      		movw r28,r24
 651 03d6 EA81      		ldd r30,Y+2
 652 03d8 FB81      		ldd r31,Y+3
 653 03da A881      		ld r26,Y
 654 03dc B981      		ldd r27,Y+1
 655 03de 3097      		sbiw r30,0
 656 03e0 01F0      		breq .L78
 657 03e2 B183      		std Z+1,r27
 658 03e4 A083      		st Z,r26
 659 03e6 1097      		sbiw r26,0
 660 03e8 01F0      		breq .L76
 661 03ea 1396      		adiw r26,2+1
 662 03ec FC93      		st X,r31
 663 03ee EE93      		st -X,r30
 664 03f0 1297      		sbiw r26,2
 665               	.L76:
 666 03f2 EC81      		ldd r30,Y+4
 667 03f4 FD81      		ldd r31,Y+5
 668 03f6 178A      		std Z+23,__zero_reg__
 669 03f8 168A      		std Z+22,__zero_reg__
 670               	/* epilogue start */
 671 03fa DF91      		pop r29
 672 03fc CF91      		pop r28
 673 03fe 0895      		ret
 674               	.L78:
 675 0400 EE81      		ldd r30,Y+6
 676 0402 FF81      		ldd r31,Y+7
 677 0404 B283      		std Z+2,r27
 678 0406 A183      		std Z+1,r26
 679 0408 1097      		sbiw r26,0
 680 040a 01F0      		breq .L76
 681 040c 1396      		adiw r26,2+1
 682 040e 1C92      		st X,__zero_reg__
 683 0410 1E92      		st -X,__zero_reg__
 684 0412 1297      		sbiw r26,2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 13


 685 0414 EC81      		ldd r30,Y+4
 686 0416 FD81      		ldd r31,Y+5
 687 0418 178A      		std Z+23,__zero_reg__
 688 041a 168A      		std Z+22,__zero_reg__
 689 041c DF91      		pop r29
 690 041e CF91      		pop r28
 691 0420 0895      		ret
 692               		.size	OS_FlagUnlink, .-OS_FlagUnlink
 693               		.type	OS_FlagTaskRdy, @function
 694               	OS_FlagTaskRdy:
 695 0422 1F93      		push r17
 696 0424 CF93      		push r28
 697 0426 DF93      		push r29
 698               	/* prologue: function */
 699               	/* frame size = 0 */
 700 0428 EC01      		movw r28,r24
 701 042a AC81      		ldd r26,Y+4
 702 042c BD81      		ldd r27,Y+5
 703 042e 5A96      		adiw r26,25+1
 704 0430 1C92      		st X,__zero_reg__
 705 0432 1E92      		st -X,__zero_reg__
 706 0434 5997      		sbiw r26,25
 707 0436 5896      		adiw r26,24
 708 0438 6C93      		st X,r22
 709 043a 5897      		sbiw r26,24
 710 043c 5B96      		adiw r26,27
 711 043e 8C91      		ld r24,X
 712 0440 5B97      		sbiw r26,27
 713 0442 8F7D      		andi r24,lo8(-33)
 714 0444 5B96      		adiw r26,27
 715 0446 8C93      		st X,r24
 716 0448 5B97      		sbiw r26,27
 717 044a 8823      		tst r24
 718 044c 01F4      		brne .L83
 719 044e 8091 0000 		lds r24,OSRdyGrp
 720 0452 9096      		adiw r26,32
 721 0454 9C91      		ld r25,X
 722 0456 9097      		sbiw r26,32
 723 0458 892B      		or r24,r25
 724 045a 8093 0000 		sts OSRdyGrp,r24
 725 045e 5E96      		adiw r26,30
 726 0460 EC91      		ld r30,X
 727 0462 5E97      		sbiw r26,30
 728 0464 F0E0      		ldi r31,lo8(0)
 729 0466 E050      		subi r30,lo8(-(OSRdyTbl))
 730 0468 F040      		sbci r31,hi8(-(OSRdyTbl))
 731 046a 8081      		ld r24,Z
 732 046c 5F96      		adiw r26,31
 733 046e 9C91      		ld r25,X
 734 0470 892B      		or r24,r25
 735 0472 8083      		st Z,r24
 736 0474 11E0      		ldi r17,lo8(1)
 737 0476 CE01      		movw r24,r28
 738 0478 0E94 0000 		call OS_FlagUnlink
 739 047c 812F      		mov r24,r17
 740               	/* epilogue start */
 741 047e DF91      		pop r29
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 14


 742 0480 CF91      		pop r28
 743 0482 1F91      		pop r17
 744 0484 0895      		ret
 745               	.L83:
 746 0486 10E0      		ldi r17,lo8(0)
 747 0488 CE01      		movw r24,r28
 748 048a 0E94 0000 		call OS_FlagUnlink
 749 048e 812F      		mov r24,r17
 750 0490 DF91      		pop r29
 751 0492 CF91      		pop r28
 752 0494 1F91      		pop r17
 753 0496 0895      		ret
 754               		.size	OS_FlagTaskRdy, .-OS_FlagTaskRdy
 755               	.global	OSMboxAccept
 756               		.type	OSMboxAccept, @function
 757               	OSMboxAccept:
 758               	/* prologue: function */
 759               	/* frame size = 0 */
 760 0498 FC01      		movw r30,r24
 761 049a 0097      		sbiw r24,0
 762 049c 01F4      		brne .L88
 763               	.L85:
 764 049e 20E0      		ldi r18,lo8(0)
 765 04a0 30E0      		ldi r19,hi8(0)
 766               	.L86:
 767 04a2 C901      		movw r24,r18
 768               	/* epilogue start */
 769 04a4 0895      		ret
 770               	.L88:
 771 04a6 8081      		ld r24,Z
 772 04a8 8130      		cpi r24,lo8(1)
 773 04aa 01F4      		brne .L85
 774               	/* #APP */
 775               	 ;  54 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 776 04ac F894      		cli
 777               	 ;  0 "" 2
 778               	/* #NOAPP */
 779 04ae 2481      		ldd r18,Z+4
 780 04b0 3581      		ldd r19,Z+5
 781 04b2 1582      		std Z+5,__zero_reg__
 782 04b4 1482      		std Z+4,__zero_reg__
 783               	/* #APP */
 784               	 ;  57 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 785 04b6 7894      		sei
 786               	 ;  0 "" 2
 787               	/* #NOAPP */
 788 04b8 00C0      		rjmp .L86
 789               		.size	OSMboxAccept, .-OSMboxAccept
 790               	.global	OSMboxCreate
 791               		.type	OSMboxCreate, @function
 792               	OSMboxCreate:
 793               	/* prologue: function */
 794               	/* frame size = 0 */
 795 04ba 9C01      		movw r18,r24
 796 04bc 8091 0000 		lds r24,OSIntNesting
 797 04c0 8823      		tst r24
 798 04c2 01F4      		brne .L94
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 15


 799               	/* #APP */
 800               	 ;  89 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 801 04c4 F894      		cli
 802               	 ;  0 "" 2
 803               	/* #NOAPP */
 804 04c6 E091 0000 		lds r30,OSEventFreeList
 805 04ca F091 0000 		lds r31,(OSEventFreeList)+1
 806 04ce 3097      		sbiw r30,0
 807 04d0 01F0      		breq .L92
 808 04d2 8481      		ldd r24,Z+4
 809 04d4 9581      		ldd r25,Z+5
 810 04d6 9093 0000 		sts (OSEventFreeList)+1,r25
 811 04da 8093 0000 		sts OSEventFreeList,r24
 812               	.L92:
 813               	/* #APP */
 814               	 ;  94 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 815 04de 7894      		sei
 816               	 ;  0 "" 2
 817               	/* #NOAPP */
 818 04e0 3097      		sbiw r30,0
 819 04e2 01F0      		breq .L91
 820 04e4 81E0      		ldi r24,lo8(1)
 821 04e6 8083      		st Z,r24
 822 04e8 1382      		std Z+3,__zero_reg__
 823 04ea 1282      		std Z+2,__zero_reg__
 824 04ec 3583      		std Z+5,r19
 825 04ee 2483      		std Z+4,r18
 826 04f0 1182      		std Z+1,__zero_reg__
 827 04f2 1682      		std Z+6,__zero_reg__
 828 04f4 1782      		std Z+7,__zero_reg__
 829               	.L91:
 830 04f6 CF01      		movw r24,r30
 831               	/* epilogue start */
 832 04f8 0895      		ret
 833               	.L94:
 834 04fa E0E0      		ldi r30,lo8(0)
 835 04fc F0E0      		ldi r31,hi8(0)
 836 04fe CF01      		movw r24,r30
 837 0500 0895      		ret
 838               		.size	OSMboxCreate, .-OSMboxCreate
 839               	.global	OSMboxQuery
 840               		.type	OSMboxQuery, @function
 841               	OSMboxQuery:
 842               	/* prologue: function */
 843               	/* frame size = 0 */
 844 0502 FC01      		movw r30,r24
 845 0504 DB01      		movw r26,r22
 846 0506 0097      		sbiw r24,0
 847 0508 01F0      		breq .L100
 848 050a 8081      		ld r24,Z
 849 050c 8130      		cpi r24,lo8(1)
 850 050e 01F0      		breq .L98
 851 0510 81E0      		ldi r24,lo8(1)
 852 0512 0895      		ret
 853               	.L98:
 854               	/* #APP */
 855               	 ;  452 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 16


 856 0514 F894      		cli
 857               	 ;  0 "" 2
 858               	/* #NOAPP */
 859 0516 8181      		ldd r24,Z+1
 860 0518 1496      		adiw r26,4
 861 051a 8C93      		st X,r24
 862 051c 1497      		sbiw r26,4
 863 051e 8681      		ldd r24,Z+6
 864 0520 1296      		adiw r26,2
 865 0522 8C93      		st X,r24
 866 0524 1297      		sbiw r26,2
 867 0526 8781      		ldd r24,Z+7
 868 0528 1396      		adiw r26,3
 869 052a 8C93      		st X,r24
 870 052c 1397      		sbiw r26,3
 871 052e 8481      		ldd r24,Z+4
 872 0530 9581      		ldd r25,Z+5
 873 0532 8D93      		st X+,r24
 874 0534 9C93      		st X,r25
 875               	/* #APP */
 876               	 ;  489 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 877 0536 7894      		sei
 878               	 ;  0 "" 2
 879               	/* #NOAPP */
 880 0538 80E0      		ldi r24,lo8(0)
 881 053a 0895      		ret
 882               	.L100:
 883 053c 84E0      		ldi r24,lo8(4)
 884 053e 0895      		ret
 885               		.size	OSMboxQuery, .-OSMboxQuery
 886               	.global	OSMemCreate
 887               		.type	OSMemCreate, @function
 888               	OSMemCreate:
 889 0540 2F92      		push r2
 890 0542 3F92      		push r3
 891 0544 4F92      		push r4
 892 0546 5F92      		push r5
 893 0548 6F92      		push r6
 894 054a 7F92      		push r7
 895 054c 8F92      		push r8
 896 054e 9F92      		push r9
 897 0550 AF92      		push r10
 898 0552 BF92      		push r11
 899 0554 CF92      		push r12
 900 0556 DF92      		push r13
 901 0558 EF92      		push r14
 902 055a FF92      		push r15
 903 055c 0F93      		push r16
 904 055e 1F93      		push r17
 905 0560 CF93      		push r28
 906 0562 DF93      		push r29
 907               	/* prologue: function */
 908               	/* frame size = 0 */
 909 0564 2C01      		movw r4,r24
 910 0566 5A01      		movw r10,r20
 911 0568 6B01      		movw r12,r22
 912 056a 3801      		movw r6,r16
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 17


 913 056c 4901      		movw r8,r18
 914 056e 1701      		movw r2,r14
 915 0570 0097      		sbiw r24,0
 916 0572 01F4      		brne .+2
 917 0574 00C0      		rjmp .L112
 918 0576 4230      		cpi r20,lo8(2)
 919 0578 5105      		cpc r21,__zero_reg__
 920 057a 6105      		cpc r22,__zero_reg__
 921 057c 7105      		cpc r23,__zero_reg__
 922 057e 00F4      		brsh .+2
 923 0580 00C0      		rjmp .L113
 924 0582 0230      		cpi r16,lo8(2)
 925 0584 1105      		cpc r17,__zero_reg__
 926 0586 2105      		cpc r18,__zero_reg__
 927 0588 3105      		cpc r19,__zero_reg__
 928 058a 00F4      		brsh .+2
 929 058c 00C0      		rjmp .L114
 930               	/* #APP */
 931               	 ;  73 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 932 058e F894      		cli
 933               	 ;  0 "" 2
 934               	/* #NOAPP */
 935 0590 6091 0000 		lds r22,OSMemFreeList
 936 0594 7091 0000 		lds r23,(OSMemFreeList)+1
 937 0598 6115      		cp r22,__zero_reg__
 938 059a 7105      		cpc r23,__zero_reg__
 939 059c 01F0      		breq .L106
 940 059e FB01      		movw r30,r22
 941 05a0 8281      		ldd r24,Z+2
 942 05a2 9381      		ldd r25,Z+3
 943 05a4 9093 0000 		sts (OSMemFreeList)+1,r25
 944 05a8 8093 0000 		sts OSMemFreeList,r24
 945               	.L106:
 946               	/* #APP */
 947               	 ;  78 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 948 05ac 7894      		sei
 949               	 ;  0 "" 2
 950               	/* #NOAPP */
 951 05ae 6115      		cp r22,__zero_reg__
 952 05b0 7105      		cpc r23,__zero_reg__
 953 05b2 01F4      		brne .+2
 954 05b4 00C0      		rjmp .L115
 955 05b6 E201      		movw r28,r4
 956 05b8 A601      		movw r20,r12
 957 05ba 9501      		movw r18,r10
 958 05bc 2150      		subi r18,lo8(-(-1))
 959 05be 3040      		sbci r19,hi8(-(-1))
 960 05c0 4040      		sbci r20,hlo8(-(-1))
 961 05c2 5040      		sbci r21,hhi8(-(-1))
 962 05c4 01F0      		breq .L108
 963 05c6 7301      		movw r14,r6
 964 05c8 8201      		movw r16,r4
 965 05ca 060D      		add r16,r6
 966 05cc 171D      		adc r17,r7
 967 05ce F801      		movw r30,r16
 968 05d0 80E0      		ldi r24,lo8(0)
 969 05d2 90E0      		ldi r25,hi8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 18


 970 05d4 A0E0      		ldi r26,hlo8(0)
 971 05d6 B0E0      		ldi r27,hhi8(0)
 972               	.L109:
 973 05d8 F983      		std Y+1,r31
 974 05da E883      		st Y,r30
 975 05dc EF01      		movw r28,r30
 976 05de EE0D      		add r30,r14
 977 05e0 FF1D      		adc r31,r15
 978 05e2 0196      		adiw r24,1
 979 05e4 A11D      		adc r26,__zero_reg__
 980 05e6 B11D      		adc r27,__zero_reg__
 981 05e8 8217      		cp r24,r18
 982 05ea 9307      		cpc r25,r19
 983 05ec A407      		cpc r26,r20
 984 05ee B507      		cpc r27,r21
 985 05f0 00F0      		brlo .L109
 986 05f2 8EEF      		ldi r24,lo8(-2)
 987 05f4 9FEF      		ldi r25,hi8(-2)
 988 05f6 AFEF      		ldi r26,hlo8(-2)
 989 05f8 BFEF      		ldi r27,hhi8(-2)
 990 05fa A80E      		add r10,r24
 991 05fc B91E      		adc r11,r25
 992 05fe CA1E      		adc r12,r26
 993 0600 DB1E      		adc r13,r27
 994 0602 EA9C      		mul r14,r10
 995 0604 E001      		movw r28,r0
 996 0606 EB9C      		mul r14,r11
 997 0608 D00D      		add r29,r0
 998 060a FA9C      		mul r15,r10
 999 060c D00D      		add r29,r0
 1000 060e 1124      		clr r1
 1001 0610 82E0      		ldi r24,lo8(2)
 1002 0612 90E0      		ldi r25,hi8(2)
 1003 0614 A0E0      		ldi r26,hlo8(2)
 1004 0616 B0E0      		ldi r27,hhi8(2)
 1005 0618 A80E      		add r10,r24
 1006 061a B91E      		adc r11,r25
 1007 061c CA1E      		adc r12,r26
 1008 061e DB1E      		adc r13,r27
 1009 0620 C00F      		add r28,r16
 1010 0622 D11F      		adc r29,r17
 1011               	.L108:
 1012 0624 1982      		std Y+1,__zero_reg__
 1013 0626 1882      		st Y,__zero_reg__
 1014 0628 DB01      		movw r26,r22
 1015 062a 1196      		adiw r26,1
 1016 062c 5C92      		st X,r5
 1017 062e 4E92      		st -X,r4
 1018 0630 1396      		adiw r26,2+1
 1019 0632 5C92      		st X,r5
 1020 0634 4E92      		st -X,r4
 1021 0636 1297      		sbiw r26,2
 1022 0638 FB01      		movw r30,r22
 1023 063a A486      		std Z+12,r10
 1024 063c B586      		std Z+13,r11
 1025 063e C686      		std Z+14,r12
 1026 0640 D786      		std Z+15,r13
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 19


 1027 0642 1896      		adiw r26,8
 1028 0644 AD92      		st X+,r10
 1029 0646 BD92      		st X+,r11
 1030 0648 CD92      		st X+,r12
 1031 064a DC92      		st X,r13
 1032 064c 1B97      		sbiw r26,8+3
 1033 064e 6482      		std Z+4,r6
 1034 0650 7582      		std Z+5,r7
 1035 0652 8682      		std Z+6,r8
 1036 0654 9782      		std Z+7,r9
 1037 0656 D101      		movw r26,r2
 1038 0658 1C92      		st X,__zero_reg__
 1039               	.L103:
 1040 065a CB01      		movw r24,r22
 1041               	/* epilogue start */
 1042 065c DF91      		pop r29
 1043 065e CF91      		pop r28
 1044 0660 1F91      		pop r17
 1045 0662 0F91      		pop r16
 1046 0664 FF90      		pop r15
 1047 0666 EF90      		pop r14
 1048 0668 DF90      		pop r13
 1049 066a CF90      		pop r12
 1050 066c BF90      		pop r11
 1051 066e AF90      		pop r10
 1052 0670 9F90      		pop r9
 1053 0672 8F90      		pop r8
 1054 0674 7F90      		pop r7
 1055 0676 6F90      		pop r6
 1056 0678 5F90      		pop r5
 1057 067a 4F90      		pop r4
 1058 067c 3F90      		pop r3
 1059 067e 2F90      		pop r2
 1060 0680 0895      		ret
 1061               	.L113:
 1062 0682 8FE6      		ldi r24,lo8(111)
 1063 0684 F701      		movw r30,r14
 1064 0686 8083      		st Z,r24
 1065 0688 60E0      		ldi r22,lo8(0)
 1066 068a 70E0      		ldi r23,hi8(0)
 1067 068c 00C0      		rjmp .L103
 1068               	.L114:
 1069 068e 80E7      		ldi r24,lo8(112)
 1070 0690 D701      		movw r26,r14
 1071 0692 8C93      		st X,r24
 1072 0694 60E0      		ldi r22,lo8(0)
 1073 0696 70E0      		ldi r23,hi8(0)
 1074 0698 00C0      		rjmp .L103
 1075               	.L112:
 1076 069a 86E7      		ldi r24,lo8(118)
 1077 069c D701      		movw r26,r14
 1078 069e 8C93      		st X,r24
 1079 06a0 60E0      		ldi r22,lo8(0)
 1080 06a2 70E0      		ldi r23,hi8(0)
 1081 06a4 00C0      		rjmp .L103
 1082               	.L115:
 1083 06a6 8EE6      		ldi r24,lo8(110)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 20


 1084 06a8 D101      		movw r26,r2
 1085 06aa 8C93      		st X,r24
 1086 06ac 00C0      		rjmp .L103
 1087               		.size	OSMemCreate, .-OSMemCreate
 1088               	.global	OSMemGet
 1089               		.type	OSMemGet, @function
 1090               	OSMemGet:
 1091 06ae CF93      		push r28
 1092 06b0 DF93      		push r29
 1093               	/* prologue: function */
 1094               	/* frame size = 0 */
 1095 06b2 FC01      		movw r30,r24
 1096 06b4 EB01      		movw r28,r22
 1097 06b6 0097      		sbiw r24,0
 1098 06b8 01F0      		breq .L121
 1099               	/* #APP */
 1100               	 ;  134 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1101 06ba F894      		cli
 1102               	 ;  0 "" 2
 1103               	/* #NOAPP */
 1104 06bc 2485      		ldd r18,Z+12
 1105 06be 3585      		ldd r19,Z+13
 1106 06c0 4685      		ldd r20,Z+14
 1107 06c2 5785      		ldd r21,Z+15
 1108 06c4 2115      		cp r18,__zero_reg__
 1109 06c6 3105      		cpc r19,__zero_reg__
 1110 06c8 4105      		cpc r20,__zero_reg__
 1111 06ca 5105      		cpc r21,__zero_reg__
 1112 06cc 01F0      		breq .L119
 1113 06ce A281      		ldd r26,Z+2
 1114 06d0 B381      		ldd r27,Z+3
 1115 06d2 8D91      		ld r24,X+
 1116 06d4 9C91      		ld r25,X
 1117 06d6 1197      		sbiw r26,1
 1118 06d8 9383      		std Z+3,r25
 1119 06da 8283      		std Z+2,r24
 1120 06dc 2150      		subi r18,lo8(-(-1))
 1121 06de 3040      		sbci r19,hi8(-(-1))
 1122 06e0 4040      		sbci r20,hlo8(-(-1))
 1123 06e2 5040      		sbci r21,hhi8(-(-1))
 1124 06e4 2487      		std Z+12,r18
 1125 06e6 3587      		std Z+13,r19
 1126 06e8 4687      		std Z+14,r20
 1127 06ea 5787      		std Z+15,r21
 1128               	/* #APP */
 1129               	 ;  139 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1130 06ec 7894      		sei
 1131               	 ;  0 "" 2
 1132               	/* #NOAPP */
 1133 06ee 1882      		st Y,__zero_reg__
 1134               	.L118:
 1135 06f0 CD01      		movw r24,r26
 1136               	/* epilogue start */
 1137 06f2 DF91      		pop r29
 1138 06f4 CF91      		pop r28
 1139 06f6 0895      		ret
 1140               	.L119:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 21


 1141               	/* #APP */
 1142               	 ;  143 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1143 06f8 7894      		sei
 1144               	 ;  0 "" 2
 1145               	/* #NOAPP */
 1146 06fa 81E7      		ldi r24,lo8(113)
 1147 06fc 8883      		st Y,r24
 1148 06fe A0E0      		ldi r26,lo8(0)
 1149 0700 B0E0      		ldi r27,hi8(0)
 1150 0702 00C0      		rjmp .L118
 1151               	.L121:
 1152 0704 84E7      		ldi r24,lo8(116)
 1153 0706 8883      		st Y,r24
 1154 0708 A0E0      		ldi r26,lo8(0)
 1155 070a B0E0      		ldi r27,hi8(0)
 1156 070c 00C0      		rjmp .L118
 1157               		.size	OSMemGet, .-OSMemGet
 1158               	.global	OSMemPut
 1159               		.type	OSMemPut, @function
 1160               	OSMemPut:
 1161 070e CF93      		push r28
 1162 0710 DF93      		push r29
 1163               	/* prologue: function */
 1164               	/* frame size = 0 */
 1165 0712 FC01      		movw r30,r24
 1166 0714 EB01      		movw r28,r22
 1167 0716 0097      		sbiw r24,0
 1168 0718 01F0      		breq .L128
 1169 071a 6115      		cp r22,__zero_reg__
 1170 071c 7105      		cpc r23,__zero_reg__
 1171 071e 01F0      		breq .L129
 1172               	/* #APP */
 1173               	 ;  181 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1174 0720 F894      		cli
 1175               	 ;  0 "" 2
 1176               	/* #NOAPP */
 1177 0722 2485      		ldd r18,Z+12
 1178 0724 3585      		ldd r19,Z+13
 1179 0726 4685      		ldd r20,Z+14
 1180 0728 5785      		ldd r21,Z+15
 1181 072a 8085      		ldd r24,Z+8
 1182 072c 9185      		ldd r25,Z+9
 1183 072e A285      		ldd r26,Z+10
 1184 0730 B385      		ldd r27,Z+11
 1185 0732 2817      		cp r18,r24
 1186 0734 3907      		cpc r19,r25
 1187 0736 4A07      		cpc r20,r26
 1188 0738 5B07      		cpc r21,r27
 1189 073a 00F0      		brlo .L126
 1190               	/* #APP */
 1191               	 ;  183 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1192 073c 7894      		sei
 1193               	 ;  0 "" 2
 1194               	/* #NOAPP */
 1195 073e 82E7      		ldi r24,lo8(114)
 1196               	.L124:
 1197               	/* epilogue start */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 22


 1198 0740 DF91      		pop r29
 1199 0742 CF91      		pop r28
 1200 0744 0895      		ret
 1201               	.L126:
 1202 0746 8281      		ldd r24,Z+2
 1203 0748 9381      		ldd r25,Z+3
 1204 074a 9983      		std Y+1,r25
 1205 074c 8883      		st Y,r24
 1206 074e 7383      		std Z+3,r23
 1207 0750 6283      		std Z+2,r22
 1208 0752 2F5F      		subi r18,lo8(-(1))
 1209 0754 3F4F      		sbci r19,hi8(-(1))
 1210 0756 4F4F      		sbci r20,hlo8(-(1))
 1211 0758 5F4F      		sbci r21,hhi8(-(1))
 1212 075a 2487      		std Z+12,r18
 1213 075c 3587      		std Z+13,r19
 1214 075e 4687      		std Z+14,r20
 1215 0760 5787      		std Z+15,r21
 1216               	/* #APP */
 1217               	 ;  189 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1218 0762 7894      		sei
 1219               	 ;  0 "" 2
 1220               	/* #NOAPP */
 1221 0764 80E0      		ldi r24,lo8(0)
 1222 0766 DF91      		pop r29
 1223 0768 CF91      		pop r28
 1224 076a 0895      		ret
 1225               	.L129:
 1226 076c 83E7      		ldi r24,lo8(115)
 1227 076e DF91      		pop r29
 1228 0770 CF91      		pop r28
 1229 0772 0895      		ret
 1230               	.L128:
 1231 0774 84E7      		ldi r24,lo8(116)
 1232 0776 00C0      		rjmp .L124
 1233               		.size	OSMemPut, .-OSMemPut
 1234               	.global	OSMemQuery
 1235               		.type	OSMemQuery, @function
 1236               	OSMemQuery:
 1237 0778 CF93      		push r28
 1238 077a DF93      		push r29
 1239               	/* prologue: function */
 1240               	/* frame size = 0 */
 1241 077c EC01      		movw r28,r24
 1242 077e FB01      		movw r30,r22
 1243 0780 0097      		sbiw r24,0
 1244 0782 01F0      		breq .L135
 1245 0784 6115      		cp r22,__zero_reg__
 1246 0786 7105      		cpc r23,__zero_reg__
 1247 0788 01F0      		breq .L136
 1248               	/* #APP */
 1249               	 ;  227 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1250 078a F894      		cli
 1251               	 ;  0 "" 2
 1252               	/* #NOAPP */
 1253 078c 8881      		ld r24,Y
 1254 078e 9981      		ldd r25,Y+1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 23


 1255 0790 9183      		std Z+1,r25
 1256 0792 8083      		st Z,r24
 1257 0794 8A81      		ldd r24,Y+2
 1258 0796 9B81      		ldd r25,Y+3
 1259 0798 9383      		std Z+3,r25
 1260 079a 8283      		std Z+2,r24
 1261 079c 8C81      		ldd r24,Y+4
 1262 079e 9D81      		ldd r25,Y+5
 1263 07a0 AE81      		ldd r26,Y+6
 1264 07a2 BF81      		ldd r27,Y+7
 1265 07a4 8483      		std Z+4,r24
 1266 07a6 9583      		std Z+5,r25
 1267 07a8 A683      		std Z+6,r26
 1268 07aa B783      		std Z+7,r27
 1269 07ac 8885      		ldd r24,Y+8
 1270 07ae 9985      		ldd r25,Y+9
 1271 07b0 AA85      		ldd r26,Y+10
 1272 07b2 BB85      		ldd r27,Y+11
 1273 07b4 8087      		std Z+8,r24
 1274 07b6 9187      		std Z+9,r25
 1275 07b8 A287      		std Z+10,r26
 1276 07ba B387      		std Z+11,r27
 1277 07bc 2C85      		ldd r18,Y+12
 1278 07be 3D85      		ldd r19,Y+13
 1279 07c0 4E85      		ldd r20,Y+14
 1280 07c2 5F85      		ldd r21,Y+15
 1281 07c4 2487      		std Z+12,r18
 1282 07c6 3587      		std Z+13,r19
 1283 07c8 4687      		std Z+14,r20
 1284 07ca 5787      		std Z+15,r21
 1285               	/* #APP */
 1286               	 ;  233 "c:/WinAVR-work/lab2/source/os_mem.c" 1
 1287 07cc 7894      		sei
 1288               	 ;  0 "" 2
 1289               	/* #NOAPP */
 1290 07ce 821B      		sub r24,r18
 1291 07d0 930B      		sbc r25,r19
 1292 07d2 A40B      		sbc r26,r20
 1293 07d4 B50B      		sbc r27,r21
 1294 07d6 808B      		std Z+16,r24
 1295 07d8 918B      		std Z+17,r25
 1296 07da A28B      		std Z+18,r26
 1297 07dc B38B      		std Z+19,r27
 1298 07de 80E0      		ldi r24,lo8(0)
 1299               	.L132:
 1300               	/* epilogue start */
 1301 07e0 DF91      		pop r29
 1302 07e2 CF91      		pop r28
 1303 07e4 0895      		ret
 1304               	.L136:
 1305 07e6 85E7      		ldi r24,lo8(117)
 1306 07e8 DF91      		pop r29
 1307 07ea CF91      		pop r28
 1308 07ec 0895      		ret
 1309               	.L135:
 1310 07ee 84E7      		ldi r24,lo8(116)
 1311 07f0 00C0      		rjmp .L132
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 24


 1312               		.size	OSMemQuery, .-OSMemQuery
 1313               	.global	OS_MemInit
 1314               		.type	OS_MemInit, @function
 1315               	OS_MemInit:
 1316               	/* prologue: function */
 1317               	/* frame size = 0 */
 1318 07f2 80E0      		ldi r24,lo8(OSMemTbl)
 1319 07f4 90E0      		ldi r25,hi8(OSMemTbl)
 1320 07f6 FC01      		movw r30,r24
 1321               	.L139:
 1322 07f8 DF01      		movw r26,r30
 1323 07fa 5096      		adiw r26,16
 1324 07fc B383      		std Z+3,r27
 1325 07fe A283      		std Z+2,r26
 1326 0800 1182      		std Z+1,__zero_reg__
 1327 0802 1082      		st Z,__zero_reg__
 1328 0804 1486      		std Z+12,__zero_reg__
 1329 0806 1586      		std Z+13,__zero_reg__
 1330 0808 1686      		std Z+14,__zero_reg__
 1331 080a 1786      		std Z+15,__zero_reg__
 1332 080c 1086      		std Z+8,__zero_reg__
 1333 080e 1186      		std Z+9,__zero_reg__
 1334 0810 1286      		std Z+10,__zero_reg__
 1335 0812 1386      		std Z+11,__zero_reg__
 1336 0814 1482      		std Z+4,__zero_reg__
 1337 0816 1582      		std Z+5,__zero_reg__
 1338 0818 1682      		std Z+6,__zero_reg__
 1339 081a 1782      		std Z+7,__zero_reg__
 1340 081c 20E0      		ldi r18,hi8(OSMemTbl+64)
 1341 081e A030      		cpi r26,lo8(OSMemTbl+64)
 1342 0820 B207      		cpc r27,r18
 1343 0822 01F0      		breq .L138
 1344 0824 FD01      		movw r30,r26
 1345 0826 00C0      		rjmp .L139
 1346               	.L138:
 1347 0828 138A      		std Z+19,__zero_reg__
 1348 082a 128A      		std Z+18,__zero_reg__
 1349 082c 1D92      		st X+,__zero_reg__
 1350 082e 1C92      		st X,__zero_reg__
 1351 0830 148E      		std Z+28,__zero_reg__
 1352 0832 158E      		std Z+29,__zero_reg__
 1353 0834 168E      		std Z+30,__zero_reg__
 1354 0836 178E      		std Z+31,__zero_reg__
 1355 0838 108E      		std Z+24,__zero_reg__
 1356 083a 118E      		std Z+25,__zero_reg__
 1357 083c 128E      		std Z+26,__zero_reg__
 1358 083e 138E      		std Z+27,__zero_reg__
 1359 0840 148A      		std Z+20,__zero_reg__
 1360 0842 158A      		std Z+21,__zero_reg__
 1361 0844 168A      		std Z+22,__zero_reg__
 1362 0846 178A      		std Z+23,__zero_reg__
 1363 0848 9093 0000 		sts (OSMemFreeList)+1,r25
 1364 084c 8093 0000 		sts OSMemFreeList,r24
 1365               	/* epilogue start */
 1366 0850 0895      		ret
 1367               		.size	OS_MemInit, .-OS_MemInit
 1368               	.global	OSMutexAccept
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 25


 1369               		.type	OSMutexAccept, @function
 1370               	OSMutexAccept:
 1371 0852 CF93      		push r28
 1372 0854 DF93      		push r29
 1373               	/* prologue: function */
 1374               	/* frame size = 0 */
 1375 0856 DC01      		movw r26,r24
 1376 0858 EB01      		movw r28,r22
 1377 085a 8091 0000 		lds r24,OSIntNesting
 1378 085e 8823      		tst r24
 1379 0860 01F4      		brne .L148
 1380 0862 1097      		sbiw r26,0
 1381 0864 01F0      		breq .L149
 1382 0866 8C91      		ld r24,X
 1383 0868 8430      		cpi r24,lo8(4)
 1384 086a 01F0      		breq .L145
 1385 086c 81E0      		ldi r24,lo8(1)
 1386 086e 8883      		st Y,r24
 1387 0870 80E0      		ldi r24,lo8(0)
 1388               	.L143:
 1389               	/* epilogue start */
 1390 0872 DF91      		pop r29
 1391 0874 CF91      		pop r28
 1392 0876 0895      		ret
 1393               	.L148:
 1394 0878 82E0      		ldi r24,lo8(2)
 1395 087a 8883      		st Y,r24
 1396 087c 80E0      		ldi r24,lo8(0)
 1397 087e DF91      		pop r29
 1398 0880 CF91      		pop r28
 1399 0882 0895      		ret
 1400               	.L149:
 1401 0884 84E0      		ldi r24,lo8(4)
 1402 0886 8883      		st Y,r24
 1403 0888 80E0      		ldi r24,lo8(0)
 1404 088a 00C0      		rjmp .L143
 1405               	.L145:
 1406               	/* #APP */
 1407               	 ;  80 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1408 088c F894      		cli
 1409               	 ;  0 "" 2
 1410               	/* #NOAPP */
 1411 088e 1296      		adiw r26,2
 1412 0890 2D91      		ld r18,X+
 1413 0892 3C91      		ld r19,X
 1414 0894 1397      		sbiw r26,2+1
 1415 0896 2F3F      		cpi r18,lo8(-1)
 1416 0898 01F0      		breq .L150
 1417               	/* #APP */
 1418               	 ;  89 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1419 089a 7894      		sei
 1420               	 ;  0 "" 2
 1421               	/* #NOAPP */
 1422 089c 1882      		st Y,__zero_reg__
 1423 089e 80E0      		ldi r24,lo8(0)
 1424 08a0 DF91      		pop r29
 1425 08a2 CF91      		pop r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 26


 1426 08a4 0895      		ret
 1427               	.L150:
 1428 08a6 E091 0000 		lds r30,OSTCBCur
 1429 08aa F091 0000 		lds r31,(OSTCBCur)+1
 1430 08ae 848D      		ldd r24,Z+28
 1431 08b0 90E0      		ldi r25,lo8(0)
 1432 08b2 2070      		andi r18,lo8(-256)
 1433 08b4 822B      		or r24,r18
 1434 08b6 932B      		or r25,r19
 1435 08b8 1396      		adiw r26,2+1
 1436 08ba 9C93      		st X,r25
 1437 08bc 8E93      		st -X,r24
 1438 08be 1297      		sbiw r26,2
 1439 08c0 1596      		adiw r26,4+1
 1440 08c2 FC93      		st X,r31
 1441 08c4 EE93      		st -X,r30
 1442 08c6 1497      		sbiw r26,4
 1443               	/* #APP */
 1444               	 ;  85 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1445 08c8 7894      		sei
 1446               	 ;  0 "" 2
 1447               	/* #NOAPP */
 1448 08ca 1882      		st Y,__zero_reg__
 1449 08cc 81E0      		ldi r24,lo8(1)
 1450 08ce 00C0      		rjmp .L143
 1451               		.size	OSMutexAccept, .-OSMutexAccept
 1452               	.global	OSMutexCreate
 1453               		.type	OSMutexCreate, @function
 1454               	OSMutexCreate:
 1455 08d0 CF93      		push r28
 1456 08d2 DF93      		push r29
 1457               	/* prologue: function */
 1458               	/* frame size = 0 */
 1459 08d4 982F      		mov r25,r24
 1460 08d6 EB01      		movw r28,r22
 1461 08d8 8091 0000 		lds r24,OSIntNesting
 1462 08dc 8823      		tst r24
 1463 08de 01F0      		breq .+2
 1464 08e0 00C0      		rjmp .L158
 1465 08e2 9C30      		cpi r25,lo8(12)
 1466 08e4 00F0      		brlo .+2
 1467 08e6 00C0      		rjmp .L159
 1468               	/* #APP */
 1469               	 ;  147 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1470 08e8 F894      		cli
 1471               	 ;  0 "" 2
 1472               	/* #NOAPP */
 1473 08ea 292F      		mov r18,r25
 1474 08ec 30E0      		ldi r19,lo8(0)
 1475 08ee D901      		movw r26,r18
 1476 08f0 AA0F      		lsl r26
 1477 08f2 BB1F      		rol r27
 1478 08f4 A050      		subi r26,lo8(-(OSTCBPrioTbl))
 1479 08f6 B040      		sbci r27,hi8(-(OSTCBPrioTbl))
 1480 08f8 8D91      		ld r24,X+
 1481 08fa 9C91      		ld r25,X
 1482 08fc 1197      		sbiw r26,1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 27


 1483 08fe 892B      		or r24,r25
 1484 0900 01F4      		brne .L160
 1485 0902 81E0      		ldi r24,lo8(1)
 1486 0904 90E0      		ldi r25,hi8(1)
 1487 0906 1196      		adiw r26,1
 1488 0908 9C93      		st X,r25
 1489 090a 8E93      		st -X,r24
 1490 090c E091 0000 		lds r30,OSEventFreeList
 1491 0910 F091 0000 		lds r31,(OSEventFreeList)+1
 1492 0914 3097      		sbiw r30,0
 1493 0916 01F0      		breq .L161
 1494 0918 8481      		ldd r24,Z+4
 1495 091a 9581      		ldd r25,Z+5
 1496 091c 9093 0000 		sts (OSEventFreeList)+1,r25
 1497 0920 8093 0000 		sts OSEventFreeList,r24
 1498               	/* #APP */
 1499               	 ;  162 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1500 0924 7894      		sei
 1501               	 ;  0 "" 2
 1502               	/* #NOAPP */
 1503 0926 84E0      		ldi r24,lo8(4)
 1504 0928 8083      		st Z,r24
 1505 092a 922F      		mov r25,r18
 1506 092c 8827      		clr r24
 1507 092e 8F6F      		ori r24,lo8(255)
 1508 0930 9383      		std Z+3,r25
 1509 0932 8283      		std Z+2,r24
 1510 0934 1582      		std Z+5,__zero_reg__
 1511 0936 1482      		std Z+4,__zero_reg__
 1512 0938 1182      		std Z+1,__zero_reg__
 1513 093a 1682      		std Z+6,__zero_reg__
 1514 093c 1782      		std Z+7,__zero_reg__
 1515 093e 1882      		st Y,__zero_reg__
 1516               	.L153:
 1517 0940 CF01      		movw r24,r30
 1518               	/* epilogue start */
 1519 0942 DF91      		pop r29
 1520 0944 CF91      		pop r28
 1521 0946 0895      		ret
 1522               	.L160:
 1523               	/* #APP */
 1524               	 ;  149 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1525 0948 7894      		sei
 1526               	 ;  0 "" 2
 1527               	/* #NOAPP */
 1528 094a 88E2      		ldi r24,lo8(40)
 1529 094c 8883      		st Y,r24
 1530 094e E0E0      		ldi r30,lo8(0)
 1531 0950 F0E0      		ldi r31,hi8(0)
 1532 0952 CF01      		movw r24,r30
 1533 0954 DF91      		pop r29
 1534 0956 CF91      		pop r28
 1535 0958 0895      		ret
 1536               	.L161:
 1537 095a 1D92      		st X+,__zero_reg__
 1538 095c 1C92      		st X,__zero_reg__
 1539               	/* #APP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 28


 1540               	 ;  157 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1541 095e 7894      		sei
 1542               	 ;  0 "" 2
 1543               	/* #NOAPP */
 1544 0960 84E0      		ldi r24,lo8(4)
 1545 0962 8883      		st Y,r24
 1546 0964 00C0      		rjmp .L153
 1547               	.L158:
 1548 0966 8DE8      		ldi r24,lo8(-115)
 1549 0968 8883      		st Y,r24
 1550 096a E0E0      		ldi r30,lo8(0)
 1551 096c F0E0      		ldi r31,hi8(0)
 1552 096e 00C0      		rjmp .L153
 1553               	.L159:
 1554 0970 8AE2      		ldi r24,lo8(42)
 1555 0972 8883      		st Y,r24
 1556 0974 E0E0      		ldi r30,lo8(0)
 1557 0976 F0E0      		ldi r31,hi8(0)
 1558 0978 00C0      		rjmp .L153
 1559               		.size	OSMutexCreate, .-OSMutexCreate
 1560               	.global	OSMutexQuery
 1561               		.type	OSMutexQuery, @function
 1562               	OSMutexQuery:
 1563               	/* prologue: function */
 1564               	/* frame size = 0 */
 1565 097a FC01      		movw r30,r24
 1566 097c DB01      		movw r26,r22
 1567 097e 8091 0000 		lds r24,OSIntNesting
 1568 0982 8823      		tst r24
 1569 0984 01F4      		brne .L170
 1570 0986 3097      		sbiw r30,0
 1571 0988 01F0      		breq .L171
 1572 098a 8081      		ld r24,Z
 1573 098c 8430      		cpi r24,lo8(4)
 1574 098e 01F0      		breq .L166
 1575 0990 81E0      		ldi r24,lo8(1)
 1576 0992 0895      		ret
 1577               	.L166:
 1578               	/* #APP */
 1579               	 ;  497 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1580 0994 F894      		cli
 1581               	 ;  0 "" 2
 1582               	/* #NOAPP */
 1583 0996 9281      		ldd r25,Z+2
 1584 0998 8381      		ldd r24,Z+3
 1585 099a 1596      		adiw r26,5
 1586 099c 8C93      		st X,r24
 1587 099e 1597      		sbiw r26,5
 1588 09a0 1496      		adiw r26,4
 1589 09a2 9C93      		st X,r25
 1590 09a4 1497      		sbiw r26,4
 1591 09a6 9F3F      		cpi r25,lo8(-1)
 1592 09a8 01F0      		breq .L172
 1593 09aa 1396      		adiw r26,3
 1594 09ac 1C92      		st X,__zero_reg__
 1595 09ae 1397      		sbiw r26,3
 1596               	.L168:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 29


 1597 09b0 8181      		ldd r24,Z+1
 1598 09b2 1296      		adiw r26,2
 1599 09b4 8C93      		st X,r24
 1600 09b6 1297      		sbiw r26,2
 1601 09b8 8681      		ldd r24,Z+6
 1602 09ba 8C93      		st X,r24
 1603 09bc 8781      		ldd r24,Z+7
 1604 09be 1196      		adiw r26,1
 1605 09c0 8C93      		st X,r24
 1606               	/* #APP */
 1607               	 ;  539 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 1608 09c2 7894      		sei
 1609               	 ;  0 "" 2
 1610               	/* #NOAPP */
 1611 09c4 80E0      		ldi r24,lo8(0)
 1612 09c6 0895      		ret
 1613               	.L170:
 1614 09c8 86E0      		ldi r24,lo8(6)
 1615 09ca 0895      		ret
 1616               	.L172:
 1617 09cc 81E0      		ldi r24,lo8(1)
 1618 09ce 1396      		adiw r26,3
 1619 09d0 8C93      		st X,r24
 1620 09d2 1397      		sbiw r26,3
 1621 09d4 00C0      		rjmp .L168
 1622               	.L171:
 1623 09d6 84E0      		ldi r24,lo8(4)
 1624 09d8 0895      		ret
 1625               		.size	OSMutexQuery, .-OSMutexQuery
 1626               	.global	OSQAccept
 1627               		.type	OSQAccept, @function
 1628               	OSQAccept:
 1629               	/* prologue: function */
 1630               	/* frame size = 0 */
 1631 09da FC01      		movw r30,r24
 1632 09dc 0097      		sbiw r24,0
 1633 09de 01F4      		brne .L179
 1634               	.L174:
 1635 09e0 20E0      		ldi r18,lo8(0)
 1636 09e2 30E0      		ldi r19,hi8(0)
 1637               	.L177:
 1638 09e4 C901      		movw r24,r18
 1639               	/* epilogue start */
 1640 09e6 0895      		ret
 1641               	.L179:
 1642 09e8 8081      		ld r24,Z
 1643 09ea 8230      		cpi r24,lo8(2)
 1644 09ec 01F4      		brne .L174
 1645               	/* #APP */
 1646               	 ;  56 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1647 09ee F894      		cli
 1648               	 ;  0 "" 2
 1649               	/* #NOAPP */
 1650 09f0 A481      		ldd r26,Z+4
 1651 09f2 B581      		ldd r27,Z+5
 1652 09f4 1C96      		adiw r26,12
 1653 09f6 8D91      		ld r24,X+
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 30


 1654 09f8 9C91      		ld r25,X
 1655 09fa 1D97      		sbiw r26,12+1
 1656 09fc 0097      		sbiw r24,0
 1657 09fe 01F0      		breq .L180
 1658 0a00 1896      		adiw r26,8
 1659 0a02 ED91      		ld r30,X+
 1660 0a04 FC91      		ld r31,X
 1661 0a06 1997      		sbiw r26,8+1
 1662 0a08 2191      		ld r18,Z+
 1663 0a0a 3191      		ld r19,Z+
 1664 0a0c 1996      		adiw r26,8+1
 1665 0a0e FC93      		st X,r31
 1666 0a10 EE93      		st -X,r30
 1667 0a12 1897      		sbiw r26,8
 1668 0a14 0197      		sbiw r24,1
 1669 0a16 1D96      		adiw r26,12+1
 1670 0a18 9C93      		st X,r25
 1671 0a1a 8E93      		st -X,r24
 1672 0a1c 1C97      		sbiw r26,12
 1673 0a1e 1496      		adiw r26,4
 1674 0a20 8D91      		ld r24,X+
 1675 0a22 9C91      		ld r25,X
 1676 0a24 1597      		sbiw r26,4+1
 1677 0a26 E817      		cp r30,r24
 1678 0a28 F907      		cpc r31,r25
 1679 0a2a 01F4      		brne .L176
 1680 0a2c 1296      		adiw r26,2
 1681 0a2e 8D91      		ld r24,X+
 1682 0a30 9C91      		ld r25,X
 1683 0a32 1397      		sbiw r26,2+1
 1684 0a34 1996      		adiw r26,8+1
 1685 0a36 9C93      		st X,r25
 1686 0a38 8E93      		st -X,r24
 1687 0a3a 1897      		sbiw r26,8
 1688 0a3c 00C0      		rjmp .L176
 1689               	.L180:
 1690 0a3e 20E0      		ldi r18,lo8(0)
 1691 0a40 30E0      		ldi r19,hi8(0)
 1692               	.L176:
 1693               	/* #APP */
 1694               	 ;  67 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1695 0a42 7894      		sei
 1696               	 ;  0 "" 2
 1697               	/* #NOAPP */
 1698 0a44 00C0      		rjmp .L177
 1699               		.size	OSQAccept, .-OSQAccept
 1700               	.global	OSQCreate
 1701               		.type	OSQCreate, @function
 1702               	OSQCreate:
 1703               	/* prologue: function */
 1704               	/* frame size = 0 */
 1705 0a46 9C01      		movw r18,r24
 1706 0a48 8091 0000 		lds r24,OSIntNesting
 1707 0a4c 8823      		tst r24
 1708 0a4e 01F0      		breq .+2
 1709 0a50 00C0      		rjmp .L187
 1710               	/* #APP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 31


 1711               	 ;  103 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1712 0a52 F894      		cli
 1713               	 ;  0 "" 2
 1714               	/* #NOAPP */
 1715 0a54 E091 0000 		lds r30,OSEventFreeList
 1716 0a58 F091 0000 		lds r31,(OSEventFreeList)+1
 1717 0a5c 3097      		sbiw r30,0
 1718 0a5e 01F0      		breq .L184
 1719 0a60 8481      		ldd r24,Z+4
 1720 0a62 9581      		ldd r25,Z+5
 1721 0a64 9093 0000 		sts (OSEventFreeList)+1,r25
 1722 0a68 8093 0000 		sts OSEventFreeList,r24
 1723               	.L184:
 1724               	/* #APP */
 1725               	 ;  108 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1726 0a6c 7894      		sei
 1727               	 ;  0 "" 2
 1728               	/* #NOAPP */
 1729 0a6e 3097      		sbiw r30,0
 1730 0a70 01F0      		breq .L183
 1731               	/* #APP */
 1732               	 ;  110 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1733 0a72 F894      		cli
 1734               	 ;  0 "" 2
 1735               	/* #NOAPP */
 1736 0a74 A091 0000 		lds r26,OSQFreeList
 1737 0a78 B091 0000 		lds r27,(OSQFreeList)+1
 1738 0a7c 1097      		sbiw r26,0
 1739 0a7e 01F0      		breq .L185
 1740 0a80 8D91      		ld r24,X+
 1741 0a82 9C91      		ld r25,X
 1742 0a84 1197      		sbiw r26,1
 1743 0a86 9093 0000 		sts (OSQFreeList)+1,r25
 1744 0a8a 8093 0000 		sts OSQFreeList,r24
 1745               	/* #APP */
 1746               	 ;  114 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1747 0a8e 7894      		sei
 1748               	 ;  0 "" 2
 1749               	/* #NOAPP */
 1750 0a90 1396      		adiw r26,2+1
 1751 0a92 3C93      		st X,r19
 1752 0a94 2E93      		st -X,r18
 1753 0a96 1297      		sbiw r26,2
 1754 0a98 CB01      		movw r24,r22
 1755 0a9a 880F      		lsl r24
 1756 0a9c 991F      		rol r25
 1757 0a9e 820F      		add r24,r18
 1758 0aa0 931F      		adc r25,r19
 1759 0aa2 1596      		adiw r26,4+1
 1760 0aa4 9C93      		st X,r25
 1761 0aa6 8E93      		st -X,r24
 1762 0aa8 1497      		sbiw r26,4
 1763 0aaa 1796      		adiw r26,6+1
 1764 0aac 3C93      		st X,r19
 1765 0aae 2E93      		st -X,r18
 1766 0ab0 1697      		sbiw r26,6
 1767 0ab2 1996      		adiw r26,8+1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 32


 1768 0ab4 3C93      		st X,r19
 1769 0ab6 2E93      		st -X,r18
 1770 0ab8 1897      		sbiw r26,8
 1771 0aba 1B96      		adiw r26,10+1
 1772 0abc 7C93      		st X,r23
 1773 0abe 6E93      		st -X,r22
 1774 0ac0 1A97      		sbiw r26,10
 1775 0ac2 1D96      		adiw r26,12+1
 1776 0ac4 1C92      		st X,__zero_reg__
 1777 0ac6 1E92      		st -X,__zero_reg__
 1778 0ac8 1C97      		sbiw r26,12
 1779 0aca 82E0      		ldi r24,lo8(2)
 1780 0acc 8083      		st Z,r24
 1781 0ace 1382      		std Z+3,__zero_reg__
 1782 0ad0 1282      		std Z+2,__zero_reg__
 1783 0ad2 B583      		std Z+5,r27
 1784 0ad4 A483      		std Z+4,r26
 1785 0ad6 1182      		std Z+1,__zero_reg__
 1786 0ad8 1682      		std Z+6,__zero_reg__
 1787 0ada 1782      		std Z+7,__zero_reg__
 1788               	.L183:
 1789 0adc CF01      		movw r24,r30
 1790               	/* epilogue start */
 1791 0ade 0895      		ret
 1792               	.L185:
 1793 0ae0 8091 0000 		lds r24,OSEventFreeList
 1794 0ae4 9091 0000 		lds r25,(OSEventFreeList)+1
 1795 0ae8 9583      		std Z+5,r25
 1796 0aea 8483      		std Z+4,r24
 1797 0aec F093 0000 		sts (OSEventFreeList)+1,r31
 1798 0af0 E093 0000 		sts OSEventFreeList,r30
 1799               	/* #APP */
 1800               	 ;  128 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1801 0af4 7894      		sei
 1802               	 ;  0 "" 2
 1803               	/* #NOAPP */
 1804               	.L187:
 1805 0af6 E0E0      		ldi r30,lo8(0)
 1806 0af8 F0E0      		ldi r31,hi8(0)
 1807 0afa CF01      		movw r24,r30
 1808 0afc 0895      		ret
 1809               		.size	OSQCreate, .-OSQCreate
 1810               	.global	OSQFlush
 1811               		.type	OSQFlush, @function
 1812               	OSQFlush:
 1813               	/* prologue: function */
 1814               	/* frame size = 0 */
 1815 0afe FC01      		movw r30,r24
 1816 0b00 0097      		sbiw r24,0
 1817 0b02 01F0      		breq .L193
 1818 0b04 8081      		ld r24,Z
 1819 0b06 8230      		cpi r24,lo8(2)
 1820 0b08 01F0      		breq .L191
 1821 0b0a 81E0      		ldi r24,lo8(1)
 1822 0b0c 0895      		ret
 1823               	.L191:
 1824               	/* #APP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 33


 1825               	 ;  281 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1826 0b0e F894      		cli
 1827               	 ;  0 "" 2
 1828               	/* #NOAPP */
 1829 0b10 0480      		ldd __tmp_reg__,Z+4
 1830 0b12 F581      		ldd r31,Z+5
 1831 0b14 E02D      		mov r30,__tmp_reg__
 1832 0b16 8281      		ldd r24,Z+2
 1833 0b18 9381      		ldd r25,Z+3
 1834 0b1a 9783      		std Z+7,r25
 1835 0b1c 8683      		std Z+6,r24
 1836 0b1e 9187      		std Z+9,r25
 1837 0b20 8087      		std Z+8,r24
 1838 0b22 1586      		std Z+13,__zero_reg__
 1839 0b24 1486      		std Z+12,__zero_reg__
 1840               	/* #APP */
 1841               	 ;  286 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1842 0b26 7894      		sei
 1843               	 ;  0 "" 2
 1844               	/* #NOAPP */
 1845 0b28 80E0      		ldi r24,lo8(0)
 1846 0b2a 0895      		ret
 1847               	.L193:
 1848 0b2c 84E0      		ldi r24,lo8(4)
 1849 0b2e 0895      		ret
 1850               		.size	OSQFlush, .-OSQFlush
 1851               	.global	OSQQuery
 1852               		.type	OSQQuery, @function
 1853               	OSQQuery:
 1854 0b30 CF93      		push r28
 1855 0b32 DF93      		push r29
 1856               	/* prologue: function */
 1857               	/* frame size = 0 */
 1858 0b34 FC01      		movw r30,r24
 1859 0b36 DB01      		movw r26,r22
 1860 0b38 0097      		sbiw r24,0
 1861 0b3a 01F0      		breq .L201
 1862 0b3c 8081      		ld r24,Z
 1863 0b3e 8230      		cpi r24,lo8(2)
 1864 0b40 01F0      		breq .L197
 1865 0b42 81E0      		ldi r24,lo8(1)
 1866               	/* epilogue start */
 1867 0b44 DF91      		pop r29
 1868 0b46 CF91      		pop r28
 1869 0b48 0895      		ret
 1870               	.L197:
 1871               	/* #APP */
 1872               	 ;  637 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1873 0b4a F894      		cli
 1874               	 ;  0 "" 2
 1875               	/* #NOAPP */
 1876 0b4c 8181      		ldd r24,Z+1
 1877 0b4e 1896      		adiw r26,8
 1878 0b50 8C93      		st X,r24
 1879 0b52 1897      		sbiw r26,8
 1880 0b54 8681      		ldd r24,Z+6
 1881 0b56 1696      		adiw r26,6
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 34


 1882 0b58 8C93      		st X,r24
 1883 0b5a 1697      		sbiw r26,6
 1884 0b5c 8781      		ldd r24,Z+7
 1885 0b5e 1796      		adiw r26,7
 1886 0b60 8C93      		st X,r24
 1887 0b62 1797      		sbiw r26,7
 1888 0b64 C481      		ldd r28,Z+4
 1889 0b66 D581      		ldd r29,Z+5
 1890 0b68 2C85      		ldd r18,Y+12
 1891 0b6a 3D85      		ldd r19,Y+13
 1892 0b6c 2115      		cp r18,__zero_reg__
 1893 0b6e 3105      		cpc r19,__zero_reg__
 1894 0b70 01F4      		brne .L202
 1895 0b72 1196      		adiw r26,1
 1896 0b74 1C92      		st X,__zero_reg__
 1897 0b76 1E92      		st -X,__zero_reg__
 1898               	.L199:
 1899 0b78 1396      		adiw r26,2+1
 1900 0b7a 3C93      		st X,r19
 1901 0b7c 2E93      		st -X,r18
 1902 0b7e 1297      		sbiw r26,2
 1903 0b80 8A85      		ldd r24,Y+10
 1904 0b82 9B85      		ldd r25,Y+11
 1905 0b84 1596      		adiw r26,4+1
 1906 0b86 9C93      		st X,r25
 1907 0b88 8E93      		st -X,r24
 1908 0b8a 1497      		sbiw r26,4
 1909               	/* #APP */
 1910               	 ;  680 "c:/WinAVR-work/lab2/source/os_q.c" 1
 1911 0b8c 7894      		sei
 1912               	 ;  0 "" 2
 1913               	/* #NOAPP */
 1914 0b8e 80E0      		ldi r24,lo8(0)
 1915 0b90 DF91      		pop r29
 1916 0b92 CF91      		pop r28
 1917 0b94 0895      		ret
 1918               	.L202:
 1919 0b96 E885      		ldd r30,Y+8
 1920 0b98 F985      		ldd r31,Y+9
 1921 0b9a 8081      		ld r24,Z
 1922 0b9c 9181      		ldd r25,Z+1
 1923 0b9e 1196      		adiw r26,1
 1924 0ba0 9C93      		st X,r25
 1925 0ba2 8E93      		st -X,r24
 1926 0ba4 00C0      		rjmp .L199
 1927               	.L201:
 1928 0ba6 84E0      		ldi r24,lo8(4)
 1929 0ba8 DF91      		pop r29
 1930 0baa CF91      		pop r28
 1931 0bac 0895      		ret
 1932               		.size	OSQQuery, .-OSQQuery
 1933               	.global	OS_QInit
 1934               		.type	OS_QInit, @function
 1935               	OS_QInit:
 1936               	/* prologue: function */
 1937               	/* frame size = 0 */
 1938 0bae 80E0      		ldi r24,lo8(OSQTbl+14)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 35


 1939 0bb0 90E0      		ldi r25,hi8(OSQTbl+14)
 1940 0bb2 9093 0000 		sts (OSQTbl)+1,r25
 1941 0bb6 8093 0000 		sts OSQTbl,r24
 1942 0bba 0E96      		adiw r24,14
 1943 0bbc 9093 0000 		sts (OSQTbl+14)+1,r25
 1944 0bc0 8093 0000 		sts OSQTbl+14,r24
 1945 0bc4 0E96      		adiw r24,14
 1946 0bc6 9093 0000 		sts (OSQTbl+28)+1,r25
 1947 0bca 8093 0000 		sts OSQTbl+28,r24
 1948 0bce 0E96      		adiw r24,14
 1949 0bd0 9093 0000 		sts (OSQTbl+42)+1,r25
 1950 0bd4 8093 0000 		sts OSQTbl+42,r24
 1951 0bd8 C897      		sbiw r24,56
 1952 0bda 1092 0000 		sts (OSQTbl+56)+1,__zero_reg__
 1953 0bde 1092 0000 		sts OSQTbl+56,__zero_reg__
 1954 0be2 9093 0000 		sts (OSQFreeList)+1,r25
 1955 0be6 8093 0000 		sts OSQFreeList,r24
 1956               	/* epilogue start */
 1957 0bea 0895      		ret
 1958               		.size	OS_QInit, .-OS_QInit
 1959               	.global	OSSemAccept
 1960               		.type	OSSemAccept, @function
 1961               	OSSemAccept:
 1962               	/* prologue: function */
 1963               	/* frame size = 0 */
 1964 0bec FC01      		movw r30,r24
 1965 0bee 0097      		sbiw r24,0
 1966 0bf0 01F0      		breq .L206
 1967 0bf2 8081      		ld r24,Z
 1968 0bf4 8330      		cpi r24,lo8(3)
 1969 0bf6 01F0      		breq .L210
 1970               	.L206:
 1971 0bf8 20E0      		ldi r18,lo8(0)
 1972 0bfa 30E0      		ldi r19,hi8(0)
 1973 0bfc C901      		movw r24,r18
 1974               	/* epilogue start */
 1975 0bfe 0895      		ret
 1976               	.L210:
 1977               	/* #APP */
 1978               	 ;  55 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 1979 0c00 F894      		cli
 1980               	 ;  0 "" 2
 1981               	/* #NOAPP */
 1982 0c02 2281      		ldd r18,Z+2
 1983 0c04 3381      		ldd r19,Z+3
 1984 0c06 2115      		cp r18,__zero_reg__
 1985 0c08 3105      		cpc r19,__zero_reg__
 1986 0c0a 01F0      		breq .L207
 1987 0c0c 2150      		subi r18,lo8(-(-1))
 1988 0c0e 3040      		sbci r19,hi8(-(-1))
 1989 0c10 3383      		std Z+3,r19
 1990 0c12 2283      		std Z+2,r18
 1991 0c14 2F5F      		subi r18,lo8(-(1))
 1992 0c16 3F4F      		sbci r19,hi8(-(1))
 1993               	.L207:
 1994               	/* #APP */
 1995               	 ;  60 "c:/WinAVR-work/lab2/source/os_sem.c" 1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 36


 1996 0c18 7894      		sei
 1997               	 ;  0 "" 2
 1998               	/* #NOAPP */
 1999 0c1a C901      		movw r24,r18
 2000 0c1c 0895      		ret
 2001               		.size	OSSemAccept, .-OSSemAccept
 2002               	.global	OSSemCreate
 2003               		.type	OSSemCreate, @function
 2004               	OSSemCreate:
 2005               	/* prologue: function */
 2006               	/* frame size = 0 */
 2007 0c1e 9C01      		movw r18,r24
 2008 0c20 8091 0000 		lds r24,OSIntNesting
 2009 0c24 8823      		tst r24
 2010 0c26 01F4      		brne .L216
 2011               	/* #APP */
 2012               	 ;  94 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 2013 0c28 F894      		cli
 2014               	 ;  0 "" 2
 2015               	/* #NOAPP */
 2016 0c2a E091 0000 		lds r30,OSEventFreeList
 2017 0c2e F091 0000 		lds r31,(OSEventFreeList)+1
 2018 0c32 3097      		sbiw r30,0
 2019 0c34 01F0      		breq .L214
 2020 0c36 8481      		ldd r24,Z+4
 2021 0c38 9581      		ldd r25,Z+5
 2022 0c3a 9093 0000 		sts (OSEventFreeList)+1,r25
 2023 0c3e 8093 0000 		sts OSEventFreeList,r24
 2024               	.L214:
 2025               	/* #APP */
 2026               	 ;  99 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 2027 0c42 7894      		sei
 2028               	 ;  0 "" 2
 2029               	/* #NOAPP */
 2030 0c44 3097      		sbiw r30,0
 2031 0c46 01F0      		breq .L213
 2032 0c48 83E0      		ldi r24,lo8(3)
 2033 0c4a 8083      		st Z,r24
 2034 0c4c 3383      		std Z+3,r19
 2035 0c4e 2283      		std Z+2,r18
 2036 0c50 1582      		std Z+5,__zero_reg__
 2037 0c52 1482      		std Z+4,__zero_reg__
 2038 0c54 1182      		std Z+1,__zero_reg__
 2039 0c56 1682      		std Z+6,__zero_reg__
 2040 0c58 1782      		std Z+7,__zero_reg__
 2041               	.L213:
 2042 0c5a CF01      		movw r24,r30
 2043               	/* epilogue start */
 2044 0c5c 0895      		ret
 2045               	.L216:
 2046 0c5e E0E0      		ldi r30,lo8(0)
 2047 0c60 F0E0      		ldi r31,hi8(0)
 2048 0c62 CF01      		movw r24,r30
 2049 0c64 0895      		ret
 2050               		.size	OSSemCreate, .-OSSemCreate
 2051               	.global	OSSemQuery
 2052               		.type	OSSemQuery, @function
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 37


 2053               	OSSemQuery:
 2054               	/* prologue: function */
 2055               	/* frame size = 0 */
 2056 0c66 FC01      		movw r30,r24
 2057 0c68 DB01      		movw r26,r22
 2058 0c6a 0097      		sbiw r24,0
 2059 0c6c 01F0      		breq .L222
 2060 0c6e 8081      		ld r24,Z
 2061 0c70 8330      		cpi r24,lo8(3)
 2062 0c72 01F0      		breq .L220
 2063 0c74 81E0      		ldi r24,lo8(1)
 2064 0c76 0895      		ret
 2065               	.L220:
 2066               	/* #APP */
 2067               	 ;  375 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 2068 0c78 F894      		cli
 2069               	 ;  0 "" 2
 2070               	/* #NOAPP */
 2071 0c7a 8181      		ldd r24,Z+1
 2072 0c7c 1496      		adiw r26,4
 2073 0c7e 8C93      		st X,r24
 2074 0c80 1497      		sbiw r26,4
 2075 0c82 8681      		ldd r24,Z+6
 2076 0c84 1296      		adiw r26,2
 2077 0c86 8C93      		st X,r24
 2078 0c88 1297      		sbiw r26,2
 2079 0c8a 8781      		ldd r24,Z+7
 2080 0c8c 1396      		adiw r26,3
 2081 0c8e 8C93      		st X,r24
 2082 0c90 1397      		sbiw r26,3
 2083 0c92 8281      		ldd r24,Z+2
 2084 0c94 9381      		ldd r25,Z+3
 2085 0c96 8D93      		st X+,r24
 2086 0c98 9C93      		st X,r25
 2087               	/* #APP */
 2088               	 ;  411 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 2089 0c9a 7894      		sei
 2090               	 ;  0 "" 2
 2091               	/* #NOAPP */
 2092 0c9c 80E0      		ldi r24,lo8(0)
 2093 0c9e 0895      		ret
 2094               	.L222:
 2095 0ca0 84E0      		ldi r24,lo8(4)
 2096 0ca2 0895      		ret
 2097               		.size	OSSemQuery, .-OSSemQuery
 2098               	.global	OSTaskDelReq
 2099               		.type	OSTaskDelReq, @function
 2100               	OSTaskDelReq:
 2101               	/* prologue: function */
 2102               	/* frame size = 0 */
 2103 0ca4 E82F      		mov r30,r24
 2104 0ca6 8C30      		cpi r24,lo8(12)
 2105 0ca8 01F0      		breq .L231
 2106 0caa 8C50      		subi r24,lo8(-(-12))
 2107 0cac 833F      		cpi r24,lo8(-13)
 2108 0cae 00F0      		brlo .L232
 2109 0cb0 EF3F      		cpi r30,lo8(-1)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 38


 2110 0cb2 01F0      		breq .L233
 2111               	/* #APP */
 2112               	 ;  510 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2113 0cb4 F894      		cli
 2114               	 ;  0 "" 2
 2115               	/* #NOAPP */
 2116 0cb6 F0E0      		ldi r31,lo8(0)
 2117 0cb8 EE0F      		lsl r30
 2118 0cba FF1F      		rol r31
 2119 0cbc E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2120 0cbe F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2121 0cc0 0190      		ld __tmp_reg__,Z+
 2122 0cc2 F081      		ld r31,Z
 2123 0cc4 E02D      		mov r30,__tmp_reg__
 2124 0cc6 3097      		sbiw r30,0
 2125 0cc8 01F0      		breq .L234
 2126 0cca 8EE3      		ldi r24,lo8(62)
 2127 0ccc 81A3      		std Z+33,r24
 2128 0cce 80E0      		ldi r24,lo8(0)
 2129               	.L229:
 2130               	/* #APP */
 2131               	 ;  518 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2132 0cd0 7894      		sei
 2133               	 ;  0 "" 2
 2134               	/* #NOAPP */
 2135 0cd2 0895      		ret
 2136               	.L232:
 2137 0cd4 8AE2      		ldi r24,lo8(42)
 2138 0cd6 0895      		ret
 2139               	.L231:
 2140 0cd8 8DE3      		ldi r24,lo8(61)
 2141 0cda 0895      		ret
 2142               	.L233:
 2143               	/* #APP */
 2144               	 ;  505 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2145 0cdc F894      		cli
 2146               	 ;  0 "" 2
 2147               	/* #NOAPP */
 2148 0cde E091 0000 		lds r30,OSTCBCur
 2149 0ce2 F091 0000 		lds r31,(OSTCBCur)+1
 2150 0ce6 81A1      		ldd r24,Z+33
 2151               	/* #APP */
 2152               	 ;  507 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2153 0ce8 7894      		sei
 2154               	 ;  0 "" 2
 2155               	/* #NOAPP */
 2156 0cea 0895      		ret
 2157               	.L234:
 2158 0cec 8BE0      		ldi r24,lo8(11)
 2159 0cee 00C0      		rjmp .L229
 2160               		.size	OSTaskDelReq, .-OSTaskDelReq
 2161               	.global	OSTaskStkChk
 2162               		.type	OSTaskStkChk, @function
 2163               	OSTaskStkChk:
 2164 0cf0 EF92      		push r14
 2165 0cf2 FF92      		push r15
 2166 0cf4 0F93      		push r16
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 39


 2167 0cf6 1F93      		push r17
 2168 0cf8 CF93      		push r28
 2169 0cfa DF93      		push r29
 2170               	/* prologue: function */
 2171               	/* frame size = 0 */
 2172 0cfc E82F      		mov r30,r24
 2173 0cfe EB01      		movw r28,r22
 2174 0d00 8D50      		subi r24,lo8(-(-13))
 2175 0d02 823F      		cpi r24,lo8(-14)
 2176 0d04 00F0      		brlo .L246
 2177 0d06 1882      		st Y,__zero_reg__
 2178 0d08 1982      		std Y+1,__zero_reg__
 2179 0d0a 1A82      		std Y+2,__zero_reg__
 2180 0d0c 1B82      		std Y+3,__zero_reg__
 2181 0d0e 1C82      		std Y+4,__zero_reg__
 2182 0d10 1D82      		std Y+5,__zero_reg__
 2183 0d12 1E82      		std Y+6,__zero_reg__
 2184 0d14 1F82      		std Y+7,__zero_reg__
 2185               	/* #APP */
 2186               	 ;  614 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2187 0d16 F894      		cli
 2188               	 ;  0 "" 2
 2189               	/* #NOAPP */
 2190 0d18 EF3F      		cpi r30,lo8(-1)
 2191 0d1a 01F0      		breq .L247
 2192               	.L238:
 2193 0d1c F0E0      		ldi r31,lo8(0)
 2194 0d1e EE0F      		lsl r30
 2195 0d20 FF1F      		rol r31
 2196 0d22 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2197 0d24 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2198 0d26 0190      		ld __tmp_reg__,Z+
 2199 0d28 F081      		ld r31,Z
 2200 0d2a E02D      		mov r30,__tmp_reg__
 2201 0d2c 3097      		sbiw r30,0
 2202 0d2e 01F0      		breq .L248
 2203 0d30 8285      		ldd r24,Z+10
 2204 0d32 80FD      		sbrc r24,0
 2205 0d34 00C0      		rjmp .L240
 2206               	/* #APP */
 2207               	 ;  624 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2208 0d36 7894      		sei
 2209               	 ;  0 "" 2
 2210               	/* #NOAPP */
 2211 0d38 82E8      		ldi r24,lo8(-126)
 2212               	/* epilogue start */
 2213 0d3a DF91      		pop r29
 2214 0d3c CF91      		pop r28
 2215 0d3e 1F91      		pop r17
 2216 0d40 0F91      		pop r16
 2217 0d42 FF90      		pop r15
 2218 0d44 EF90      		pop r14
 2219 0d46 0895      		ret
 2220               	.L246:
 2221 0d48 8AE2      		ldi r24,lo8(42)
 2222 0d4a DF91      		pop r29
 2223 0d4c CF91      		pop r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 40


 2224 0d4e 1F91      		pop r17
 2225 0d50 0F91      		pop r16
 2226 0d52 FF90      		pop r15
 2227 0d54 EF90      		pop r14
 2228 0d56 0895      		ret
 2229               	.L247:
 2230 0d58 E091 0000 		lds r30,OSTCBCur
 2231 0d5c F091 0000 		lds r31,(OSTCBCur)+1
 2232 0d60 E48D      		ldd r30,Z+28
 2233 0d62 00C0      		rjmp .L238
 2234               	.L248:
 2235               	/* #APP */
 2236               	 ;  620 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2237 0d64 7894      		sei
 2238               	 ;  0 "" 2
 2239               	/* #NOAPP */
 2240 0d66 8BE0      		ldi r24,lo8(11)
 2241 0d68 DF91      		pop r29
 2242 0d6a CF91      		pop r28
 2243 0d6c 1F91      		pop r17
 2244 0d6e 0F91      		pop r16
 2245 0d70 FF90      		pop r15
 2246 0d72 EF90      		pop r14
 2247 0d74 0895      		ret
 2248               	.L240:
 2249 0d76 E680      		ldd r14,Z+6
 2250 0d78 F780      		ldd r15,Z+7
 2251 0d7a 0085      		ldd r16,Z+8
 2252 0d7c 1185      		ldd r17,Z+9
 2253 0d7e A481      		ldd r26,Z+4
 2254 0d80 B581      		ldd r27,Z+5
 2255               	/* #APP */
 2256               	 ;  630 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2257 0d82 7894      		sei
 2258               	 ;  0 "" 2
 2259               	/* #NOAPP */
 2260 0d84 8C91      		ld r24,X
 2261 0d86 8823      		tst r24
 2262 0d88 01F4      		brne .L249
 2263 0d8a 20E0      		ldi r18,lo8(0)
 2264 0d8c 30E0      		ldi r19,hi8(0)
 2265 0d8e 40E0      		ldi r20,hlo8(0)
 2266 0d90 50E0      		ldi r21,hhi8(0)
 2267               	.L243:
 2268 0d92 2F5F      		subi r18,lo8(-(1))
 2269 0d94 3F4F      		sbci r19,hi8(-(1))
 2270 0d96 4F4F      		sbci r20,hlo8(-(1))
 2271 0d98 5F4F      		sbci r21,hhi8(-(1))
 2272 0d9a FD01      		movw r30,r26
 2273 0d9c E20F      		add r30,r18
 2274 0d9e F31F      		adc r31,r19
 2275 0da0 8081      		ld r24,Z
 2276 0da2 8823      		tst r24
 2277 0da4 01F0      		breq .L243
 2278               	.L242:
 2279 0da6 2883      		st Y,r18
 2280 0da8 3983      		std Y+1,r19
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 41


 2281 0daa 4A83      		std Y+2,r20
 2282 0dac 5B83      		std Y+3,r21
 2283 0dae E21A      		sub r14,r18
 2284 0db0 F30A      		sbc r15,r19
 2285 0db2 040B      		sbc r16,r20
 2286 0db4 150B      		sbc r17,r21
 2287 0db6 EC82      		std Y+4,r14
 2288 0db8 FD82      		std Y+5,r15
 2289 0dba 0E83      		std Y+6,r16
 2290 0dbc 1F83      		std Y+7,r17
 2291 0dbe 80E0      		ldi r24,lo8(0)
 2292 0dc0 DF91      		pop r29
 2293 0dc2 CF91      		pop r28
 2294 0dc4 1F91      		pop r17
 2295 0dc6 0F91      		pop r16
 2296 0dc8 FF90      		pop r15
 2297 0dca EF90      		pop r14
 2298 0dcc 0895      		ret
 2299               	.L249:
 2300 0dce 20E0      		ldi r18,lo8(0)
 2301 0dd0 30E0      		ldi r19,hi8(0)
 2302 0dd2 40E0      		ldi r20,hlo8(0)
 2303 0dd4 50E0      		ldi r21,hhi8(0)
 2304 0dd6 00C0      		rjmp .L242
 2305               		.size	OSTaskStkChk, .-OSTaskStkChk
 2306               	.global	OSTimeGet
 2307               		.type	OSTimeGet, @function
 2308               	OSTimeGet:
 2309               	/* prologue: function */
 2310               	/* frame size = 0 */
 2311               	/* #APP */
 2312               	 ;  195 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2313 0dd8 F894      		cli
 2314               	 ;  0 "" 2
 2315               	/* #NOAPP */
 2316 0dda 2091 0000 		lds r18,OSTime
 2317 0dde 3091 0000 		lds r19,(OSTime)+1
 2318 0de2 4091 0000 		lds r20,(OSTime)+2
 2319 0de6 5091 0000 		lds r21,(OSTime)+3
 2320               	/* #APP */
 2321               	 ;  197 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2322 0dea 7894      		sei
 2323               	 ;  0 "" 2
 2324               	/* #NOAPP */
 2325 0dec B901      		movw r22,r18
 2326 0dee CA01      		movw r24,r20
 2327               	/* epilogue start */
 2328 0df0 0895      		ret
 2329               		.size	OSTimeGet, .-OSTimeGet
 2330               	.global	OSTimeSet
 2331               		.type	OSTimeSet, @function
 2332               	OSTimeSet:
 2333               	/* prologue: function */
 2334               	/* frame size = 0 */
 2335               	/* #APP */
 2336               	 ;  222 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2337 0df2 F894      		cli
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 42


 2338               	 ;  0 "" 2
 2339               	/* #NOAPP */
 2340 0df4 6093 0000 		sts OSTime,r22
 2341 0df8 7093 0000 		sts (OSTime)+1,r23
 2342 0dfc 8093 0000 		sts (OSTime)+2,r24
 2343 0e00 9093 0000 		sts (OSTime)+3,r25
 2344               	/* #APP */
 2345               	 ;  224 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2346 0e04 7894      		sei
 2347               	 ;  0 "" 2
 2348               	/* epilogue start */
 2349               	/* #NOAPP */
 2350 0e06 0895      		ret
 2351               		.size	OSTimeSet, .-OSTimeSet
 2352               	.global	OSTaskQuery
 2353               		.type	OSTaskQuery, @function
 2354               	OSTaskQuery:
 2355               	/* prologue: function */
 2356               	/* frame size = 0 */
 2357 0e08 E82F      		mov r30,r24
 2358 0e0a 8D50      		subi r24,lo8(-(-13))
 2359 0e0c 823F      		cpi r24,lo8(-14)
 2360 0e0e 00F0      		brlo .L262
 2361               	/* #APP */
 2362               	 ;  741 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2363 0e10 F894      		cli
 2364               	 ;  0 "" 2
 2365               	/* #NOAPP */
 2366 0e12 EF3F      		cpi r30,lo8(-1)
 2367 0e14 01F0      		breq .L263
 2368               	.L257:
 2369 0e16 F0E0      		ldi r31,lo8(0)
 2370 0e18 EE0F      		lsl r30
 2371 0e1a FF1F      		rol r31
 2372 0e1c E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2373 0e1e F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2374 0e20 0190      		ld __tmp_reg__,Z+
 2375 0e22 F081      		ld r31,Z
 2376 0e24 E02D      		mov r30,__tmp_reg__
 2377 0e26 3097      		sbiw r30,0
 2378 0e28 01F0      		breq .L264
 2379 0e2a DB01      		movw r26,r22
 2380 0e2c 82E2      		ldi r24,lo8(34)
 2381               	.L259:
 2382 0e2e 0190      		ld r0,Z+
 2383 0e30 0D92      		st X+,r0
 2384 0e32 8150      		subi r24,lo8(-(-1))
 2385 0e34 01F4      		brne .L259
 2386               	/* #APP */
 2387               	 ;  751 "c:/WinAVR-work/lab2/source/os_task.c" 1
 2388 0e36 7894      		sei
 2389               	 ;  0 "" 2
 2390               	/* #NOAPP */
 2391 0e38 0895      		ret
 2392               	.L264:
 2393               	/* #APP */
 2394               	 ;  747 "c:/WinAVR-work/lab2/source/os_task.c" 1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 43


 2395 0e3a 7894      		sei
 2396               	 ;  0 "" 2
 2397               	/* #NOAPP */
 2398 0e3c 89E2      		ldi r24,lo8(41)
 2399 0e3e 0895      		ret
 2400               	.L262:
 2401 0e40 8AE2      		ldi r24,lo8(42)
 2402 0e42 0895      		ret
 2403               	.L263:
 2404 0e44 E091 0000 		lds r30,OSTCBCur
 2405 0e48 F091 0000 		lds r31,(OSTCBCur)+1
 2406 0e4c E48D      		ldd r30,Z+28
 2407 0e4e 00C0      		rjmp .L257
 2408               		.size	OSTaskQuery, .-OSTaskQuery
 2409               	.global	OS_TCBInit
 2410               		.type	OS_TCBInit, @function
 2411               	OS_TCBInit:
 2412 0e50 9F92      		push r9
 2413 0e52 AF92      		push r10
 2414 0e54 BF92      		push r11
 2415 0e56 CF92      		push r12
 2416 0e58 DF92      		push r13
 2417 0e5a EF92      		push r14
 2418 0e5c FF92      		push r15
 2419 0e5e 0F93      		push r16
 2420 0e60 1F93      		push r17
 2421 0e62 CF93      		push r28
 2422 0e64 DF93      		push r29
 2423               	/* prologue: function */
 2424               	/* frame size = 0 */
 2425 0e66 982E      		mov r9,r24
 2426               	/* #APP */
 2427               	 ;  1043 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2428 0e68 F894      		cli
 2429               	 ;  0 "" 2
 2430               	/* #NOAPP */
 2431 0e6a C091 0000 		lds r28,OSTCBFreeList
 2432 0e6e D091 0000 		lds r29,(OSTCBFreeList)+1
 2433 0e72 2097      		sbiw r28,0
 2434 0e74 01F4      		brne .+2
 2435 0e76 00C0      		rjmp .L266
 2436 0e78 8E85      		ldd r24,Y+14
 2437 0e7a 9F85      		ldd r25,Y+15
 2438 0e7c 9093 0000 		sts (OSTCBFreeList)+1,r25
 2439 0e80 8093 0000 		sts OSTCBFreeList,r24
 2440               	/* #APP */
 2441               	 ;  1047 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2442 0e84 7894      		sei
 2443               	 ;  0 "" 2
 2444               	/* #NOAPP */
 2445 0e86 7983      		std Y+1,r23
 2446 0e88 6883      		st Y,r22
 2447 0e8a 9C8E      		std Y+28,r9
 2448 0e8c 1B8E      		std Y+27,__zero_reg__
 2449 0e8e 1A8E      		std Y+26,__zero_reg__
 2450 0e90 198E      		std Y+25,__zero_reg__
 2451 0e92 DB82      		std Y+3,r13
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 44


 2452 0e94 CA82      		std Y+2,r12
 2453 0e96 EE82      		std Y+6,r14
 2454 0e98 FF82      		std Y+7,r15
 2455 0e9a 0887      		std Y+8,r16
 2456 0e9c 1987      		std Y+9,r17
 2457 0e9e 5D83      		std Y+5,r21
 2458 0ea0 4C83      		std Y+4,r20
 2459 0ea2 BB86      		std Y+11,r11
 2460 0ea4 AA86      		std Y+10,r10
 2461 0ea6 3D87      		std Y+13,r19
 2462 0ea8 2C87      		std Y+12,r18
 2463 0eaa 19A2      		std Y+33,__zero_reg__
 2464 0eac E92D      		mov r30,r9
 2465 0eae E695      		lsr r30
 2466 0eb0 E695      		lsr r30
 2467 0eb2 E695      		lsr r30
 2468 0eb4 EE8F      		std Y+30,r30
 2469 0eb6 F0E0      		ldi r31,lo8(0)
 2470 0eb8 E050      		subi r30,lo8(-(OSMapTbl))
 2471 0eba F040      		sbci r31,hi8(-(OSMapTbl))
 2472 0ebc 8081      		ld r24,Z
 2473 0ebe 88A3      		std Y+32,r24
 2474 0ec0 E92D      		mov r30,r9
 2475 0ec2 E770      		andi r30,lo8(7)
 2476 0ec4 ED8F      		std Y+29,r30
 2477 0ec6 F0E0      		ldi r31,lo8(0)
 2478 0ec8 E050      		subi r30,lo8(-(OSMapTbl))
 2479 0eca F040      		sbci r31,hi8(-(OSMapTbl))
 2480 0ecc 8081      		ld r24,Z
 2481 0ece 8F8F      		std Y+31,r24
 2482 0ed0 1B8A      		std Y+19,__zero_reg__
 2483 0ed2 1A8A      		std Y+18,__zero_reg__
 2484 0ed4 1F8A      		std Y+23,__zero_reg__
 2485 0ed6 1E8A      		std Y+22,__zero_reg__
 2486 0ed8 1D8A      		std Y+21,__zero_reg__
 2487 0eda 1C8A      		std Y+20,__zero_reg__
 2488 0edc CE01      		movw r24,r28
 2489 0ede 0E94 0000 		call OSTCBInitHook
 2490 0ee2 CE01      		movw r24,r28
 2491 0ee4 0E94 0000 		call OSTaskCreateHook
 2492               	/* #APP */
 2493               	 ;  1094 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2494 0ee8 F894      		cli
 2495               	 ;  0 "" 2
 2496               	/* #NOAPP */
 2497 0eea E92D      		mov r30,r9
 2498 0eec F0E0      		ldi r31,lo8(0)
 2499 0eee EE0F      		lsl r30
 2500 0ef0 FF1F      		rol r31
 2501 0ef2 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2502 0ef4 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2503 0ef6 D183      		std Z+1,r29
 2504 0ef8 C083      		st Z,r28
 2505 0efa E091 0000 		lds r30,OSTCBList
 2506 0efe F091 0000 		lds r31,(OSTCBList)+1
 2507 0f02 FF87      		std Y+15,r31
 2508 0f04 EE87      		std Y+14,r30
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 45


 2509 0f06 198A      		std Y+17,__zero_reg__
 2510 0f08 188A      		std Y+16,__zero_reg__
 2511 0f0a 3097      		sbiw r30,0
 2512 0f0c 01F0      		breq .L267
 2513 0f0e D18B      		std Z+17,r29
 2514 0f10 C08B      		std Z+16,r28
 2515               	.L267:
 2516 0f12 D093 0000 		sts (OSTCBList)+1,r29
 2517 0f16 C093 0000 		sts OSTCBList,r28
 2518 0f1a 8091 0000 		lds r24,OSRdyGrp
 2519 0f1e 98A1      		ldd r25,Y+32
 2520 0f20 892B      		or r24,r25
 2521 0f22 8093 0000 		sts OSRdyGrp,r24
 2522 0f26 EE8D      		ldd r30,Y+30
 2523 0f28 F0E0      		ldi r31,lo8(0)
 2524 0f2a E050      		subi r30,lo8(-(OSRdyTbl))
 2525 0f2c F040      		sbci r31,hi8(-(OSRdyTbl))
 2526 0f2e 8081      		ld r24,Z
 2527 0f30 9F8D      		ldd r25,Y+31
 2528 0f32 892B      		or r24,r25
 2529 0f34 8083      		st Z,r24
 2530               	/* #APP */
 2531               	 ;  1104 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2532 0f36 7894      		sei
 2533               	 ;  0 "" 2
 2534               	/* #NOAPP */
 2535 0f38 80E0      		ldi r24,lo8(0)
 2536               	.L268:
 2537               	/* epilogue start */
 2538 0f3a DF91      		pop r29
 2539 0f3c CF91      		pop r28
 2540 0f3e 1F91      		pop r17
 2541 0f40 0F91      		pop r16
 2542 0f42 FF90      		pop r15
 2543 0f44 EF90      		pop r14
 2544 0f46 DF90      		pop r13
 2545 0f48 CF90      		pop r12
 2546 0f4a BF90      		pop r11
 2547 0f4c AF90      		pop r10
 2548 0f4e 9F90      		pop r9
 2549 0f50 0895      		ret
 2550               	.L266:
 2551               	/* #APP */
 2552               	 ;  1107 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2553 0f52 7894      		sei
 2554               	 ;  0 "" 2
 2555               	/* #NOAPP */
 2556 0f54 86E4      		ldi r24,lo8(70)
 2557 0f56 00C0      		rjmp .L268
 2558               		.size	OS_TCBInit, .-OS_TCBInit
 2559               	.global	OS_TaskIdle
 2560               		.type	OS_TaskIdle, @function
 2561               	OS_TaskIdle:
 2562               	/* prologue: function */
 2563               	/* frame size = 0 */
 2564               	.L271:
 2565               	/* #APP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 46


 2566               	 ;  920 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2567 0f58 F894      		cli
 2568               	 ;  0 "" 2
 2569               	/* #NOAPP */
 2570 0f5a 8091 0000 		lds r24,OSIdleCtr
 2571 0f5e 9091 0000 		lds r25,(OSIdleCtr)+1
 2572 0f62 A091 0000 		lds r26,(OSIdleCtr)+2
 2573 0f66 B091 0000 		lds r27,(OSIdleCtr)+3
 2574 0f6a 0196      		adiw r24,1
 2575 0f6c A11D      		adc r26,__zero_reg__
 2576 0f6e B11D      		adc r27,__zero_reg__
 2577 0f70 8093 0000 		sts OSIdleCtr,r24
 2578 0f74 9093 0000 		sts (OSIdleCtr)+1,r25
 2579 0f78 A093 0000 		sts (OSIdleCtr)+2,r26
 2580 0f7c B093 0000 		sts (OSIdleCtr)+3,r27
 2581               	/* #APP */
 2582               	 ;  922 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2583 0f80 7894      		sei
 2584               	 ;  0 "" 2
 2585               	/* #NOAPP */
 2586 0f82 0E94 0000 		call OSTaskIdleHook
 2587 0f86 00C0      		rjmp .L271
 2588               		.size	OS_TaskIdle, .-OS_TaskIdle
 2589               	.global	OS_Sched
 2590               		.type	OS_Sched, @function
 2591               	OS_Sched:
 2592               	/* prologue: function */
 2593               	/* frame size = 0 */
 2594               	/* #APP */
 2595               	 ;  877 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2596 0f88 F894      		cli
 2597               	 ;  0 "" 2
 2598               	/* #NOAPP */
 2599 0f8a 8091 0000 		lds r24,OSIntNesting
 2600 0f8e 8823      		tst r24
 2601 0f90 01F0      		breq .+2
 2602 0f92 00C0      		rjmp .L274
 2603 0f94 8091 0000 		lds r24,OSLockNesting
 2604 0f98 8823      		tst r24
 2605 0f9a 01F4      		brne .L274
 2606 0f9c E091 0000 		lds r30,OSRdyGrp
 2607 0fa0 F0E0      		ldi r31,lo8(0)
 2608 0fa2 E050      		subi r30,lo8(-(OSUnMapTbl))
 2609 0fa4 F040      		sbci r31,hi8(-(OSUnMapTbl))
 2610 0fa6 8081      		ld r24,Z
 2611 0fa8 E82F      		mov r30,r24
 2612 0faa F0E0      		ldi r31,lo8(0)
 2613 0fac E050      		subi r30,lo8(-(OSRdyTbl))
 2614 0fae F040      		sbci r31,hi8(-(OSRdyTbl))
 2615 0fb0 E081      		ld r30,Z
 2616 0fb2 F0E0      		ldi r31,lo8(0)
 2617 0fb4 E050      		subi r30,lo8(-(OSUnMapTbl))
 2618 0fb6 F040      		sbci r31,hi8(-(OSUnMapTbl))
 2619 0fb8 982F      		mov r25,r24
 2620 0fba 990F      		lsl r25
 2621 0fbc 990F      		lsl r25
 2622 0fbe 990F      		lsl r25
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 47


 2623 0fc0 8081      		ld r24,Z
 2624 0fc2 980F      		add r25,r24
 2625 0fc4 9093 0000 		sts OSPrioHighRdy,r25
 2626 0fc8 8091 0000 		lds r24,OSPrioCur
 2627 0fcc 9817      		cp r25,r24
 2628 0fce 01F0      		breq .L274
 2629 0fd0 E92F      		mov r30,r25
 2630 0fd2 F0E0      		ldi r31,lo8(0)
 2631 0fd4 EE0F      		lsl r30
 2632 0fd6 FF1F      		rol r31
 2633 0fd8 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2634 0fda F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2635 0fdc 8081      		ld r24,Z
 2636 0fde 9181      		ldd r25,Z+1
 2637 0fe0 9093 0000 		sts (OSTCBHighRdy)+1,r25
 2638 0fe4 8093 0000 		sts OSTCBHighRdy,r24
 2639 0fe8 8091 0000 		lds r24,OSCtxSwCtr
 2640 0fec 9091 0000 		lds r25,(OSCtxSwCtr)+1
 2641 0ff0 A091 0000 		lds r26,(OSCtxSwCtr)+2
 2642 0ff4 B091 0000 		lds r27,(OSCtxSwCtr)+3
 2643 0ff8 0196      		adiw r24,1
 2644 0ffa A11D      		adc r26,__zero_reg__
 2645 0ffc B11D      		adc r27,__zero_reg__
 2646 0ffe 8093 0000 		sts OSCtxSwCtr,r24
 2647 1002 9093 0000 		sts (OSCtxSwCtr)+1,r25
 2648 1006 A093 0000 		sts (OSCtxSwCtr)+2,r26
 2649 100a B093 0000 		sts (OSCtxSwCtr)+3,r27
 2650 100e 0E94 0000 		call OSCtxSw
 2651               	.L274:
 2652               	/* #APP */
 2653               	 ;  887 "c:/WinAVR-work/lab2/source/os_core.c" 1
 2654 1012 7894      		sei
 2655               	 ;  0 "" 2
 2656               	/* epilogue start */
 2657               	/* #NOAPP */
 2658 1014 0895      		ret
 2659               		.size	OS_Sched, .-OS_Sched
 2660               	.global	OSTimeDlyResume
 2661               		.type	OSTimeDlyResume, @function
 2662               	OSTimeDlyResume:
 2663               	/* prologue: function */
 2664               	/* frame size = 0 */
 2665 1016 8C30      		cpi r24,lo8(12)
 2666 1018 00F4      		brsh .L283
 2667               	/* #APP */
 2668               	 ;  149 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2669 101a F894      		cli
 2670               	 ;  0 "" 2
 2671               	/* #NOAPP */
 2672 101c E82F      		mov r30,r24
 2673 101e F0E0      		ldi r31,lo8(0)
 2674 1020 EE0F      		lsl r30
 2675 1022 FF1F      		rol r31
 2676 1024 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 2677 1026 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 2678 1028 A081      		ld r26,Z
 2679 102a B181      		ldd r27,Z+1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 48


 2680 102c 1097      		sbiw r26,0
 2681 102e 01F0      		breq .L279
 2682 1030 5996      		adiw r26,25
 2683 1032 8D91      		ld r24,X+
 2684 1034 9C91      		ld r25,X
 2685 1036 5A97      		sbiw r26,25+1
 2686 1038 892B      		or r24,r25
 2687 103a 01F4      		brne .L284
 2688               	/* #APP */
 2689               	 ;  164 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2690 103c 7894      		sei
 2691               	 ;  0 "" 2
 2692               	/* #NOAPP */
 2693 103e 80E5      		ldi r24,lo8(80)
 2694 1040 0895      		ret
 2695               	.L283:
 2696 1042 8AE2      		ldi r24,lo8(42)
 2697 1044 0895      		ret
 2698               	.L279:
 2699               	/* #APP */
 2700               	 ;  168 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2701 1046 7894      		sei
 2702               	 ;  0 "" 2
 2703               	/* #NOAPP */
 2704 1048 8BE0      		ldi r24,lo8(11)
 2705 104a 0895      		ret
 2706               	.L284:
 2707 104c 5A96      		adiw r26,25+1
 2708 104e 1C92      		st X,__zero_reg__
 2709 1050 1E92      		st -X,__zero_reg__
 2710 1052 5997      		sbiw r26,25
 2711 1054 5B96      		adiw r26,27
 2712 1056 8C91      		ld r24,X
 2713 1058 5B97      		sbiw r26,27
 2714 105a 83FF      		sbrs r24,3
 2715 105c 00C0      		rjmp .L285
 2716               	/* #APP */
 2717               	 ;  160 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2718 105e 7894      		sei
 2719               	 ;  0 "" 2
 2720               	/* #NOAPP */
 2721 1060 80E0      		ldi r24,lo8(0)
 2722 1062 0895      		ret
 2723               	.L285:
 2724 1064 8091 0000 		lds r24,OSRdyGrp
 2725 1068 9096      		adiw r26,32
 2726 106a 9C91      		ld r25,X
 2727 106c 9097      		sbiw r26,32
 2728 106e 892B      		or r24,r25
 2729 1070 8093 0000 		sts OSRdyGrp,r24
 2730 1074 5E96      		adiw r26,30
 2731 1076 EC91      		ld r30,X
 2732 1078 5E97      		sbiw r26,30
 2733 107a F0E0      		ldi r31,lo8(0)
 2734 107c E050      		subi r30,lo8(-(OSRdyTbl))
 2735 107e F040      		sbci r31,hi8(-(OSRdyTbl))
 2736 1080 8081      		ld r24,Z
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 49


 2737 1082 5F96      		adiw r26,31
 2738 1084 9C91      		ld r25,X
 2739 1086 892B      		or r24,r25
 2740 1088 8083      		st Z,r24
 2741               	/* #APP */
 2742               	 ;  157 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2743 108a 7894      		sei
 2744               	 ;  0 "" 2
 2745               	/* #NOAPP */
 2746 108c 0E94 0000 		call OS_Sched
 2747 1090 80E0      		ldi r24,lo8(0)
 2748 1092 0895      		ret
 2749               		.size	OSTimeDlyResume, .-OSTimeDlyResume
 2750               	.global	OSTimeDly
 2751               		.type	OSTimeDly, @function
 2752               	OSTimeDly:
 2753               	/* prologue: function */
 2754               	/* frame size = 0 */
 2755 1094 9C01      		movw r18,r24
 2756 1096 0097      		sbiw r24,0
 2757 1098 01F0      		breq .L289
 2758               	/* #APP */
 2759               	 ;  43 "c:/WinAVR-work/lab2/source/os_time.c" 1
 2760 109a F894      		cli
 2761               	 ;  0 "" 2
 2762               	/* #NOAPP */
 2763 109c A091 0000 		lds r26,OSTCBCur
 2764 10a0 B091 0000 		lds r27,(OSTCBCur)+1
 2765 10a4 5E96      		adiw r26,30
 2766 10a6 EC91      		ld r30,X
 2767 10a8 5E97      		sbiw r26,30
 2768 10aa F0E0      		ldi r31,lo8(0)
 2769 10ac E050      		subi r30,lo8(-(OSRdyTbl))
 2770 10ae F040      		sbci r31,hi8(-(OSRdyTbl))
 2771 10b0 5F96      		adiw r26,31
 2772 10b2 8C91      		ld r24,X
 2773 10b4 5F97      		sbiw r26,31
 2774 10b6 8095      		com r24
 2775 10b8 9081      		ld r25,Z
 2776 10ba 8923      		and r24,r25
 2777 10bc 8083      		st Z,r24
 2778 10be 8823      		tst r24
 2779 10c0 01F4      		brne .L288
 2780 10c2 9096      		adiw r26,32
 2781 10c4 9C91      		ld r25,X
 2782 10c6 9097      		sbiw r26,32
 2783 10c8 9095      		com r25
 2784 10ca 8091 0000 		lds r24,OSRdyGrp
 2785 10ce 8923      		and r24,r25
 2786 10d0 8093 0000 		sts OSRdyGrp,r24
 2787               	.L288:
 2788 10d4 5A96      		adiw r26,25+1
 2789 10d6 3C93      		st X,r19
 2790 10d8 2E93      		st -X,r18
 2791 10da 5997      		sbiw r26,25
 2792               	/* #APP */
 2793               	 ;  48 "c:/WinAVR-work/lab2/source/os_time.c" 1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 50


 2794 10dc 7894      		sei
 2795               	 ;  0 "" 2
 2796               	/* #NOAPP */
 2797 10de 0E94 0000 		call OS_Sched
 2798               	.L289:
 2799 10e2 0895      		ret
 2800               		.size	OSTimeDly, .-OSTimeDly
 2801               	.global	OSTimeDlyHMSM
 2802               		.type	OSTimeDlyHMSM, @function
 2803               	OSTimeDlyHMSM:
 2804 10e4 8F92      		push r8
 2805 10e6 9F92      		push r9
 2806 10e8 AF92      		push r10
 2807 10ea BF92      		push r11
 2808 10ec CF92      		push r12
 2809 10ee DF92      		push r13
 2810 10f0 EF92      		push r14
 2811 10f2 FF92      		push r15
 2812 10f4 0F93      		push r16
 2813 10f6 1F93      		push r17
 2814 10f8 CF93      		push r28
 2815 10fa DF93      		push r29
 2816               	/* prologue: function */
 2817               	/* frame size = 0 */
 2818 10fc 882E      		mov r8,r24
 2819 10fe 162F      		mov r17,r22
 2820 1100 942E      		mov r9,r20
 2821 1102 8823      		tst r24
 2822 1104 01F0      		breq .L301
 2823               	.L291:
 2824 1106 1C33      		cpi r17,lo8(60)
 2825 1108 00F4      		brsh .L302
 2826               	.L292:
 2827 110a 8BE3      		ldi r24,lo8(59)
 2828 110c 8915      		cp r24,r9
 2829 110e 00F0      		brlo .L303
 2830               	.L293:
 2831 1110 93E0      		ldi r25,hi8(1000)
 2832 1112 283E      		cpi r18,lo8(1000)
 2833 1114 3907      		cpc r19,r25
 2834 1116 00F0      		brlo .L295
 2835 1118 83E5      		ldi r24,lo8(83)
 2836               	.L294:
 2837               	/* epilogue start */
 2838 111a DF91      		pop r29
 2839 111c CF91      		pop r28
 2840 111e 1F91      		pop r17
 2841 1120 0F91      		pop r16
 2842 1122 FF90      		pop r15
 2843 1124 EF90      		pop r14
 2844 1126 DF90      		pop r13
 2845 1128 CF90      		pop r12
 2846 112a BF90      		pop r11
 2847 112c AF90      		pop r10
 2848 112e 9F90      		pop r9
 2849 1130 8F90      		pop r8
 2850 1132 0895      		ret
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 51


 2851               	.L303:
 2852 1134 82E5      		ldi r24,lo8(82)
 2853 1136 00C0      		rjmp .L294
 2854               	.L301:
 2855 1138 6623      		tst r22
 2856 113a 01F4      		brne .L291
 2857 113c 4423      		tst r20
 2858 113e 01F4      		brne .L292
 2859 1140 2115      		cp r18,__zero_reg__
 2860 1142 3105      		cpc r19,__zero_reg__
 2861 1144 01F4      		brne .L293
 2862 1146 84E5      		ldi r24,lo8(84)
 2863 1148 00C0      		rjmp .L294
 2864               	.L302:
 2865 114a 81E5      		ldi r24,lo8(81)
 2866 114c 00C0      		rjmp .L294
 2867               	.L295:
 2868 114e B901      		movw r22,r18
 2869 1150 80E0      		ldi r24,lo8(0)
 2870 1152 90E0      		ldi r25,hi8(0)
 2871 1154 24E6      		ldi r18,lo8(100)
 2872 1156 30E0      		ldi r19,hi8(100)
 2873 1158 40E0      		ldi r20,hlo8(100)
 2874 115a 50E0      		ldi r21,hhi8(100)
 2875 115c 0E94 0000 		call __mulsi3
 2876 1160 6C50      		subi r22,lo8(-(500))
 2877 1162 7E4F      		sbci r23,hi8(-(500))
 2878 1164 8F4F      		sbci r24,hlo8(-(500))
 2879 1166 9F4F      		sbci r25,hhi8(-(500))
 2880 1168 28EE      		ldi r18,lo8(1000)
 2881 116a 33E0      		ldi r19,hi8(1000)
 2882 116c 40E0      		ldi r20,hlo8(1000)
 2883 116e 50E0      		ldi r21,hhi8(1000)
 2884 1170 0E94 0000 		call __udivmodsi4
 2885 1174 5901      		movw r10,r18
 2886 1176 6A01      		movw r12,r20
 2887 1178 612F      		mov r22,r17
 2888 117a 70E0      		ldi r23,lo8(0)
 2889 117c 80E0      		ldi r24,lo8(0)
 2890 117e 90E0      		ldi r25,hi8(0)
 2891 1180 2CE3      		ldi r18,lo8(60)
 2892 1182 30E0      		ldi r19,hi8(60)
 2893 1184 40E0      		ldi r20,hlo8(60)
 2894 1186 50E0      		ldi r21,hhi8(60)
 2895 1188 0E94 0000 		call __mulsi3
 2896 118c 7B01      		movw r14,r22
 2897 118e 8C01      		movw r16,r24
 2898 1190 E90C      		add r14,r9
 2899 1192 F11C      		adc r15,__zero_reg__
 2900 1194 011D      		adc r16,__zero_reg__
 2901 1196 111D      		adc r17,__zero_reg__
 2902 1198 682D      		mov r22,r8
 2903 119a 70E0      		ldi r23,lo8(0)
 2904 119c 80E0      		ldi r24,lo8(0)
 2905 119e 90E0      		ldi r25,hi8(0)
 2906 11a0 20E1      		ldi r18,lo8(3600)
 2907 11a2 3EE0      		ldi r19,hi8(3600)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 52


 2908 11a4 40E0      		ldi r20,hlo8(3600)
 2909 11a6 50E0      		ldi r21,hhi8(3600)
 2910 11a8 0E94 0000 		call __mulsi3
 2911 11ac E60E      		add r14,r22
 2912 11ae F71E      		adc r15,r23
 2913 11b0 081F      		adc r16,r24
 2914 11b2 191F      		adc r17,r25
 2915 11b4 C801      		movw r24,r16
 2916 11b6 B701      		movw r22,r14
 2917 11b8 24E6      		ldi r18,lo8(100)
 2918 11ba 30E0      		ldi r19,hi8(100)
 2919 11bc 40E0      		ldi r20,hlo8(100)
 2920 11be 50E0      		ldi r21,hhi8(100)
 2921 11c0 0E94 0000 		call __mulsi3
 2922 11c4 A60E      		add r10,r22
 2923 11c6 B71E      		adc r11,r23
 2924 11c8 C81E      		adc r12,r24
 2925 11ca D91E      		adc r13,r25
 2926 11cc 7601      		movw r14,r12
 2927 11ce 0027      		clr r16
 2928 11d0 1127      		clr r17
 2929 11d2 E701      		movw r28,r14
 2930 11d4 8FEF      		ldi r24,lo8(65535)
 2931 11d6 9FEF      		ldi r25,hi8(65535)
 2932 11d8 A0E0      		ldi r26,hlo8(65535)
 2933 11da B0E0      		ldi r27,hhi8(65535)
 2934 11dc A822      		and r10,r24
 2935 11de B922      		and r11,r25
 2936 11e0 CA22      		and r12,r26
 2937 11e2 DB22      		and r13,r27
 2938 11e4 C501      		movw r24,r10
 2939 11e6 0E94 0000 		call OSTimeDly
 2940 11ea EF28      		or r14,r15
 2941 11ec 01F0      		breq .L296
 2942               	.L299:
 2943 11ee 80E0      		ldi r24,lo8(-32768)
 2944 11f0 90E8      		ldi r25,hi8(-32768)
 2945 11f2 0E94 0000 		call OSTimeDly
 2946 11f6 80E0      		ldi r24,lo8(-32768)
 2947 11f8 90E8      		ldi r25,hi8(-32768)
 2948 11fa 0E94 0000 		call OSTimeDly
 2949 11fe 2197      		sbiw r28,1
 2950 1200 01F4      		brne .L299
 2951               	.L296:
 2952 1202 80E0      		ldi r24,lo8(0)
 2953 1204 00C0      		rjmp .L294
 2954               		.size	OSTimeDlyHMSM, .-OSTimeDlyHMSM
 2955               	.global	OS_TaskStat
 2956               		.type	OS_TaskStat, @function
 2957               	OS_TaskStat:
 2958 1206 DF92      		push r13
 2959 1208 EF92      		push r14
 2960 120a FF92      		push r15
 2961 120c 0F93      		push r16
 2962 120e 1F93      		push r17
 2963               	/* prologue: function */
 2964               	/* frame size = 0 */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 53


 2965 1210 8091 0000 		lds r24,OSStatRdy
 2966 1214 8823      		tst r24
 2967 1216 01F4      		brne .L305
 2968               	.L312:
 2969 1218 88EC      		ldi r24,lo8(200)
 2970 121a 90E0      		ldi r25,hi8(200)
 2971 121c 0E94 0000 		call OSTimeDly
 2972 1220 8091 0000 		lds r24,OSStatRdy
 2973 1224 8823      		tst r24
 2974 1226 01F0      		breq .L312
 2975               	.L305:
 2976 1228 6091 0000 		lds r22,OSIdleCtrMax
 2977 122c 7091 0000 		lds r23,(OSIdleCtrMax)+1
 2978 1230 8091 0000 		lds r24,(OSIdleCtrMax)+2
 2979 1234 9091 0000 		lds r25,(OSIdleCtrMax)+3
 2980 1238 24E6      		ldi r18,lo8(100)
 2981 123a 30E0      		ldi r19,hi8(100)
 2982 123c 40E0      		ldi r20,hlo8(100)
 2983 123e 50E0      		ldi r21,hhi8(100)
 2984 1240 0E94 0000 		call __udivmodsi4
 2985 1244 C901      		movw r24,r18
 2986 1246 DA01      		movw r26,r20
 2987 1248 7C01      		movw r14,r24
 2988 124a 8D01      		movw r16,r26
 2989 124c 34E6      		ldi r19,lo8(100)
 2990 124e D32E      		mov r13,r19
 2991 1250 00C0      		rjmp .L310
 2992               	.L314:
 2993 1252 A801      		movw r20,r16
 2994 1254 9701      		movw r18,r14
 2995 1256 0E94 0000 		call __udivmodsi4
 2996 125a 8D2D      		mov r24,r13
 2997 125c 821B      		sub r24,r18
 2998 125e 87FD      		sbrc r24,7
 2999 1260 00C0      		rjmp .L308
 3000 1262 8093 0000 		sts OSCPUUsage,r24
 3001               	.L309:
 3002 1266 0E94 0000 		call OSTaskStatHook
 3003 126a 84E6      		ldi r24,lo8(100)
 3004 126c 90E0      		ldi r25,hi8(100)
 3005 126e 0E94 0000 		call OSTimeDly
 3006               	.L310:
 3007               	/* #APP */
 3008               	 ;  970 "c:/WinAVR-work/lab2/source/os_core.c" 1
 3009 1272 F894      		cli
 3010               	 ;  0 "" 2
 3011               	/* #NOAPP */
 3012 1274 8091 0000 		lds r24,OSIdleCtr
 3013 1278 9091 0000 		lds r25,(OSIdleCtr)+1
 3014 127c A091 0000 		lds r26,(OSIdleCtr)+2
 3015 1280 B091 0000 		lds r27,(OSIdleCtr)+3
 3016 1284 8093 0000 		sts OSIdleCtrRun,r24
 3017 1288 9093 0000 		sts (OSIdleCtrRun)+1,r25
 3018 128c A093 0000 		sts (OSIdleCtrRun)+2,r26
 3019 1290 B093 0000 		sts (OSIdleCtrRun)+3,r27
 3020 1294 6091 0000 		lds r22,OSIdleCtr
 3021 1298 7091 0000 		lds r23,(OSIdleCtr)+1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 54


 3022 129c 8091 0000 		lds r24,(OSIdleCtr)+2
 3023 12a0 9091 0000 		lds r25,(OSIdleCtr)+3
 3024 12a4 1092 0000 		sts OSIdleCtr,__zero_reg__
 3025 12a8 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 3026 12ac 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 3027 12b0 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 3028               	/* #APP */
 3029               	 ;  974 "c:/WinAVR-work/lab2/source/os_core.c" 1
 3030 12b4 7894      		sei
 3031               	 ;  0 "" 2
 3032               	/* #NOAPP */
 3033 12b6 E114      		cp r14,__zero_reg__
 3034 12b8 F104      		cpc r15,__zero_reg__
 3035 12ba 0105      		cpc r16,__zero_reg__
 3036 12bc 1105      		cpc r17,__zero_reg__
 3037 12be 01F4      		brne .L314
 3038 12c0 1092 0000 		sts OSCPUUsage,__zero_reg__
 3039 12c4 6091 0000 		lds r22,OSIdleCtrMax
 3040 12c8 7091 0000 		lds r23,(OSIdleCtrMax)+1
 3041 12cc 8091 0000 		lds r24,(OSIdleCtrMax)+2
 3042 12d0 9091 0000 		lds r25,(OSIdleCtrMax)+3
 3043 12d4 24E6      		ldi r18,lo8(100)
 3044 12d6 30E0      		ldi r19,hi8(100)
 3045 12d8 40E0      		ldi r20,hlo8(100)
 3046 12da 50E0      		ldi r21,hhi8(100)
 3047 12dc 0E94 0000 		call __udivmodsi4
 3048 12e0 C901      		movw r24,r18
 3049 12e2 DA01      		movw r26,r20
 3050 12e4 7C01      		movw r14,r24
 3051 12e6 8D01      		movw r16,r26
 3052 12e8 00C0      		rjmp .L309
 3053               	.L308:
 3054 12ea 1092 0000 		sts OSCPUUsage,__zero_reg__
 3055 12ee 00C0      		rjmp .L309
 3056               		.size	OS_TaskStat, .-OS_TaskStat
 3057               	.global	OSStatInit
 3058               		.type	OSStatInit, @function
 3059               	OSStatInit:
 3060               	/* prologue: function */
 3061               	/* frame size = 0 */
 3062 12f0 82E0      		ldi r24,lo8(2)
 3063 12f2 90E0      		ldi r25,hi8(2)
 3064 12f4 0E94 0000 		call OSTimeDly
 3065               	/* #APP */
 3066               	 ;  339 "c:/WinAVR-work/lab2/source/os_core.c" 1
 3067 12f8 F894      		cli
 3068               	 ;  0 "" 2
 3069               	/* #NOAPP */
 3070 12fa 1092 0000 		sts OSIdleCtr,__zero_reg__
 3071 12fe 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 3072 1302 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 3073 1306 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 3074               	/* #APP */
 3075               	 ;  341 "c:/WinAVR-work/lab2/source/os_core.c" 1
 3076 130a 7894      		sei
 3077               	 ;  0 "" 2
 3078               	/* #NOAPP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 55


 3079 130c 84E6      		ldi r24,lo8(100)
 3080 130e 90E0      		ldi r25,hi8(100)
 3081 1310 0E94 0000 		call OSTimeDly
 3082               	/* #APP */
 3083               	 ;  343 "c:/WinAVR-work/lab2/source/os_core.c" 1
 3084 1314 F894      		cli
 3085               	 ;  0 "" 2
 3086               	/* #NOAPP */
 3087 1316 8091 0000 		lds r24,OSIdleCtr
 3088 131a 9091 0000 		lds r25,(OSIdleCtr)+1
 3089 131e A091 0000 		lds r26,(OSIdleCtr)+2
 3090 1322 B091 0000 		lds r27,(OSIdleCtr)+3
 3091 1326 8093 0000 		sts OSIdleCtrMax,r24
 3092 132a 9093 0000 		sts (OSIdleCtrMax)+1,r25
 3093 132e A093 0000 		sts (OSIdleCtrMax)+2,r26
 3094 1332 B093 0000 		sts (OSIdleCtrMax)+3,r27
 3095 1336 81E0      		ldi r24,lo8(1)
 3096 1338 8093 0000 		sts OSStatRdy,r24
 3097               	/* #APP */
 3098               	 ;  346 "c:/WinAVR-work/lab2/source/os_core.c" 1
 3099 133c 7894      		sei
 3100               	 ;  0 "" 2
 3101               	/* epilogue start */
 3102               	/* #NOAPP */
 3103 133e 0895      		ret
 3104               		.size	OSStatInit, .-OSStatInit
 3105               	.global	OSTaskSuspend
 3106               		.type	OSTaskSuspend, @function
 3107               	OSTaskSuspend:
 3108               	/* prologue: function */
 3109               	/* frame size = 0 */
 3110 1340 982F      		mov r25,r24
 3111 1342 8C30      		cpi r24,lo8(12)
 3112 1344 01F4      		brne .+2
 3113 1346 00C0      		rjmp .L328
 3114 1348 8C50      		subi r24,lo8(-(-12))
 3115 134a 833F      		cpi r24,lo8(-13)
 3116 134c 00F0      		brlo .L329
 3117               	/* #APP */
 3118               	 ;  686 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3119 134e F894      		cli
 3120               	 ;  0 "" 2
 3121               	/* #NOAPP */
 3122 1350 9F3F      		cpi r25,lo8(-1)
 3123 1352 01F0      		breq .L330
 3124 1354 E091 0000 		lds r30,OSTCBCur
 3125 1358 F091 0000 		lds r31,(OSTCBCur)+1
 3126 135c E48D      		ldd r30,Z+28
 3127 135e E917      		cp r30,r25
 3128 1360 01F4      		brne .+2
 3129 1362 00C0      		rjmp .L323
 3130 1364 E92F      		mov r30,r25
 3131 1366 20E0      		ldi r18,lo8(0)
 3132               	.L322:
 3133 1368 F0E0      		ldi r31,lo8(0)
 3134 136a EE0F      		lsl r30
 3135 136c FF1F      		rol r31
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 56


 3136 136e E050      		subi r30,lo8(-(OSTCBPrioTbl))
 3137 1370 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 3138 1372 A081      		ld r26,Z
 3139 1374 B181      		ldd r27,Z+1
 3140 1376 1097      		sbiw r26,0
 3141 1378 01F0      		breq .L331
 3142 137a 5E96      		adiw r26,30
 3143 137c EC91      		ld r30,X
 3144 137e 5E97      		sbiw r26,30
 3145 1380 F0E0      		ldi r31,lo8(0)
 3146 1382 E050      		subi r30,lo8(-(OSRdyTbl))
 3147 1384 F040      		sbci r31,hi8(-(OSRdyTbl))
 3148 1386 5F96      		adiw r26,31
 3149 1388 8C91      		ld r24,X
 3150 138a 5F97      		sbiw r26,31
 3151 138c 8095      		com r24
 3152 138e 9081      		ld r25,Z
 3153 1390 8923      		and r24,r25
 3154 1392 8083      		st Z,r24
 3155 1394 8823      		tst r24
 3156 1396 01F0      		breq .L332
 3157               	.L325:
 3158 1398 5B96      		adiw r26,27
 3159 139a 8C91      		ld r24,X
 3160 139c 5B97      		sbiw r26,27
 3161 139e 8860      		ori r24,lo8(8)
 3162 13a0 5B96      		adiw r26,27
 3163 13a2 8C93      		st X,r24
 3164               	/* #APP */
 3165               	 ;  704 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3166 13a4 7894      		sei
 3167               	 ;  0 "" 2
 3168               	/* #NOAPP */
 3169 13a6 2130      		cpi r18,lo8(1)
 3170 13a8 01F0      		breq .L326
 3171 13aa 80E0      		ldi r24,lo8(0)
 3172 13ac 0895      		ret
 3173               	.L329:
 3174 13ae 8AE2      		ldi r24,lo8(42)
 3175 13b0 0895      		ret
 3176               	.L332:
 3177 13b2 9096      		adiw r26,32
 3178 13b4 9C91      		ld r25,X
 3179 13b6 9097      		sbiw r26,32
 3180 13b8 9095      		com r25
 3181 13ba 8091 0000 		lds r24,OSRdyGrp
 3182 13be 8923      		and r24,r25
 3183 13c0 8093 0000 		sts OSRdyGrp,r24
 3184 13c4 00C0      		rjmp .L325
 3185               	.L328:
 3186 13c6 8BE5      		ldi r24,lo8(91)
 3187 13c8 0895      		ret
 3188               	.L330:
 3189 13ca E091 0000 		lds r30,OSTCBCur
 3190 13ce F091 0000 		lds r31,(OSTCBCur)+1
 3191 13d2 E48D      		ldd r30,Z+28
 3192 13d4 21E0      		ldi r18,lo8(1)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 57


 3193 13d6 00C0      		rjmp .L322
 3194               	.L331:
 3195               	/* #APP */
 3196               	 ;  697 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3197 13d8 7894      		sei
 3198               	 ;  0 "" 2
 3199               	/* #NOAPP */
 3200 13da 8AE5      		ldi r24,lo8(90)
 3201 13dc 0895      		ret
 3202               	.L323:
 3203 13de 21E0      		ldi r18,lo8(1)
 3204 13e0 00C0      		rjmp .L322
 3205               	.L326:
 3206 13e2 0E94 0000 		call OS_Sched
 3207 13e6 80E0      		ldi r24,lo8(0)
 3208 13e8 0895      		ret
 3209               		.size	OSTaskSuspend, .-OSTaskSuspend
 3210               	.global	OSTaskResume
 3211               		.type	OSTaskResume, @function
 3212               	OSTaskResume:
 3213               	/* prologue: function */
 3214               	/* frame size = 0 */
 3215 13ea 8C30      		cpi r24,lo8(12)
 3216 13ec 00F4      		brsh .L340
 3217               	/* #APP */
 3218               	 ;  554 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3219 13ee F894      		cli
 3220               	 ;  0 "" 2
 3221               	/* #NOAPP */
 3222 13f0 E82F      		mov r30,r24
 3223 13f2 F0E0      		ldi r31,lo8(0)
 3224 13f4 EE0F      		lsl r30
 3225 13f6 FF1F      		rol r31
 3226 13f8 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 3227 13fa F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 3228 13fc A081      		ld r26,Z
 3229 13fe B181      		ldd r27,Z+1
 3230 1400 1097      		sbiw r26,0
 3231 1402 01F0      		breq .L341
 3232 1404 5B96      		adiw r26,27
 3233 1406 8C91      		ld r24,X
 3234 1408 5B97      		sbiw r26,27
 3235 140a 83FD      		sbrc r24,3
 3236 140c 00C0      		rjmp .L342
 3237               	/* #APP */
 3238               	 ;  572 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3239 140e 7894      		sei
 3240               	 ;  0 "" 2
 3241               	/* #NOAPP */
 3242 1410 85E6      		ldi r24,lo8(101)
 3243 1412 0895      		ret
 3244               	.L340:
 3245 1414 8AE2      		ldi r24,lo8(42)
 3246 1416 0895      		ret
 3247               	.L341:
 3248               	/* #APP */
 3249               	 ;  557 "c:/WinAVR-work/lab2/source/os_task.c" 1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 58


 3250 1418 7894      		sei
 3251               	 ;  0 "" 2
 3252               	/* #NOAPP */
 3253 141a 84E6      		ldi r24,lo8(100)
 3254 141c 0895      		ret
 3255               	.L342:
 3256 141e 877F      		andi r24,lo8(-9)
 3257 1420 5B96      		adiw r26,27
 3258 1422 8C93      		st X,r24
 3259 1424 5B97      		sbiw r26,27
 3260 1426 8823      		tst r24
 3261 1428 01F4      		brne .L338
 3262 142a 5996      		adiw r26,25
 3263 142c 8D91      		ld r24,X+
 3264 142e 9C91      		ld r25,X
 3265 1430 5A97      		sbiw r26,25+1
 3266 1432 892B      		or r24,r25
 3267 1434 01F0      		breq .L343
 3268               	.L338:
 3269               	/* #APP */
 3270               	 ;  568 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3271 1436 7894      		sei
 3272               	 ;  0 "" 2
 3273               	/* #NOAPP */
 3274 1438 80E0      		ldi r24,lo8(0)
 3275 143a 0895      		ret
 3276               	.L343:
 3277 143c 8091 0000 		lds r24,OSRdyGrp
 3278 1440 9096      		adiw r26,32
 3279 1442 9C91      		ld r25,X
 3280 1444 9097      		sbiw r26,32
 3281 1446 892B      		or r24,r25
 3282 1448 8093 0000 		sts OSRdyGrp,r24
 3283 144c 5E96      		adiw r26,30
 3284 144e EC91      		ld r30,X
 3285 1450 5E97      		sbiw r26,30
 3286 1452 F0E0      		ldi r31,lo8(0)
 3287 1454 E050      		subi r30,lo8(-(OSRdyTbl))
 3288 1456 F040      		sbci r31,hi8(-(OSRdyTbl))
 3289 1458 8081      		ld r24,Z
 3290 145a 5F96      		adiw r26,31
 3291 145c 9C91      		ld r25,X
 3292 145e 892B      		or r24,r25
 3293 1460 8083      		st Z,r24
 3294               	/* #APP */
 3295               	 ;  565 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3296 1462 7894      		sei
 3297               	 ;  0 "" 2
 3298               	/* #NOAPP */
 3299 1464 0E94 0000 		call OS_Sched
 3300 1468 80E0      		ldi r24,lo8(0)
 3301 146a 0895      		ret
 3302               		.size	OSTaskResume, .-OSTaskResume
 3303               	.global	OSTaskDel
 3304               		.type	OSTaskDel, @function
 3305               	OSTaskDel:
 3306 146c 0F93      		push r16
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 59


 3307 146e 1F93      		push r17
 3308 1470 CF93      		push r28
 3309 1472 DF93      		push r29
 3310               	/* prologue: function */
 3311               	/* frame size = 0 */
 3312 1474 E82F      		mov r30,r24
 3313 1476 8091 0000 		lds r24,OSIntNesting
 3314 147a 8823      		tst r24
 3315 147c 01F0      		breq .+2
 3316 147e 00C0      		rjmp .L359
 3317 1480 EC30      		cpi r30,lo8(12)
 3318 1482 01F4      		brne .+2
 3319 1484 00C0      		rjmp .L360
 3320 1486 8E2F      		mov r24,r30
 3321 1488 8C50      		subi r24,lo8(-(-12))
 3322 148a 833F      		cpi r24,lo8(-13)
 3323 148c 00F4      		brsh .+2
 3324 148e 00C0      		rjmp .L361
 3325               	/* #APP */
 3326               	 ;  385 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3327 1490 F894      		cli
 3328               	 ;  0 "" 2
 3329               	/* #NOAPP */
 3330 1492 EF3F      		cpi r30,lo8(-1)
 3331 1494 01F4      		brne .+2
 3332 1496 00C0      		rjmp .L362
 3333               	.L349:
 3334 1498 0E2F      		mov r16,r30
 3335 149a 10E0      		ldi r17,lo8(0)
 3336 149c 000F      		lsl r16
 3337 149e 111F      		rol r17
 3338 14a0 F801      		movw r30,r16
 3339 14a2 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 3340 14a4 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 3341 14a6 C081      		ld r28,Z
 3342 14a8 D181      		ldd r29,Z+1
 3343 14aa 2097      		sbiw r28,0
 3344 14ac 01F4      		brne .+2
 3345 14ae 00C0      		rjmp .L350
 3346 14b0 8E8D      		ldd r24,Y+30
 3347 14b2 482F      		mov r20,r24
 3348 14b4 50E0      		ldi r21,lo8(0)
 3349 14b6 2F8D      		ldd r18,Y+31
 3350 14b8 2095      		com r18
 3351 14ba FA01      		movw r30,r20
 3352 14bc E050      		subi r30,lo8(-(OSRdyTbl))
 3353 14be F040      		sbci r31,hi8(-(OSRdyTbl))
 3354 14c0 8081      		ld r24,Z
 3355 14c2 8223      		and r24,r18
 3356 14c4 8083      		st Z,r24
 3357 14c6 8823      		tst r24
 3358 14c8 01F4      		brne .L351
 3359 14ca 98A1      		ldd r25,Y+32
 3360 14cc 9095      		com r25
 3361 14ce 8091 0000 		lds r24,OSRdyGrp
 3362 14d2 8923      		and r24,r25
 3363 14d4 8093 0000 		sts OSRdyGrp,r24
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 60


 3364               	.L351:
 3365 14d8 AA89      		ldd r26,Y+18
 3366 14da BB89      		ldd r27,Y+19
 3367 14dc 1097      		sbiw r26,0
 3368 14de 01F0      		breq .L352
 3369 14e0 FD01      		movw r30,r26
 3370 14e2 E40F      		add r30,r20
 3371 14e4 F51F      		adc r31,r21
 3372 14e6 8681      		ldd r24,Z+6
 3373 14e8 8223      		and r24,r18
 3374 14ea 8683      		std Z+6,r24
 3375 14ec 8823      		tst r24
 3376 14ee 01F4      		brne .L352
 3377 14f0 98A1      		ldd r25,Y+32
 3378 14f2 9095      		com r25
 3379 14f4 1196      		adiw r26,1
 3380 14f6 8C91      		ld r24,X
 3381 14f8 1197      		sbiw r26,1
 3382 14fa 8923      		and r24,r25
 3383 14fc 1196      		adiw r26,1
 3384 14fe 8C93      		st X,r24
 3385               	.L352:
 3386 1500 8E89      		ldd r24,Y+22
 3387 1502 9F89      		ldd r25,Y+23
 3388 1504 0097      		sbiw r24,0
 3389 1506 01F0      		breq .L353
 3390 1508 0E94 0000 		call OS_FlagUnlink
 3391               	.L353:
 3392 150c 1A8E      		std Y+26,__zero_reg__
 3393 150e 198E      		std Y+25,__zero_reg__
 3394 1510 1B8E      		std Y+27,__zero_reg__
 3395 1512 8091 0000 		lds r24,OSLockNesting
 3396 1516 8F3F      		cpi r24,lo8(-1)
 3397 1518 01F0      		breq .L354
 3398 151a 8F5F      		subi r24,lo8(-(1))
 3399 151c 8093 0000 		sts OSLockNesting,r24
 3400               	.L354:
 3401               	/* #APP */
 3402               	 ;  413 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3403 1520 7894      		sei
 3404               	 ;  0 "" 2
 3405               	 ;  415 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3406 1522 F894      		cli
 3407               	 ;  0 "" 2
 3408               	/* #NOAPP */
 3409 1524 8823      		tst r24
 3410 1526 01F0      		breq .L355
 3411 1528 8150      		subi r24,lo8(-(-1))
 3412 152a 8093 0000 		sts OSLockNesting,r24
 3413               	.L355:
 3414 152e CE01      		movw r24,r28
 3415 1530 0E94 0000 		call OSTaskDelHook
 3416 1534 8091 0000 		lds r24,OSTaskCtr
 3417 1538 8150      		subi r24,lo8(-(-1))
 3418 153a 8093 0000 		sts OSTaskCtr,r24
 3419 153e 0050      		subi r16,lo8(-(OSTCBPrioTbl))
 3420 1540 1040      		sbci r17,hi8(-(OSTCBPrioTbl))
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 61


 3421 1542 F801      		movw r30,r16
 3422 1544 1182      		std Z+1,__zero_reg__
 3423 1546 1082      		st Z,__zero_reg__
 3424 1548 A889      		ldd r26,Y+16
 3425 154a B989      		ldd r27,Y+17
 3426 154c 1097      		sbiw r26,0
 3427 154e 01F0      		breq .L363
 3428 1550 8E85      		ldd r24,Y+14
 3429 1552 9F85      		ldd r25,Y+15
 3430 1554 1F96      		adiw r26,14+1
 3431 1556 9C93      		st X,r25
 3432 1558 8E93      		st -X,r24
 3433 155a 1E97      		sbiw r26,14
 3434 155c EE85      		ldd r30,Y+14
 3435 155e FF85      		ldd r31,Y+15
 3436 1560 B18B      		std Z+17,r27
 3437 1562 A08B      		std Z+16,r26
 3438               	.L357:
 3439 1564 8091 0000 		lds r24,OSTCBFreeList
 3440 1568 9091 0000 		lds r25,(OSTCBFreeList)+1
 3441 156c 9F87      		std Y+15,r25
 3442 156e 8E87      		std Y+14,r24
 3443 1570 D093 0000 		sts (OSTCBFreeList)+1,r29
 3444 1574 C093 0000 		sts OSTCBFreeList,r28
 3445               	/* #APP */
 3446               	 ;  431 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3447 1578 7894      		sei
 3448               	 ;  0 "" 2
 3449               	/* #NOAPP */
 3450 157a 0E94 0000 		call OS_Sched
 3451 157e 80E0      		ldi r24,lo8(0)
 3452 1580 DF91      		pop r29
 3453 1582 CF91      		pop r28
 3454 1584 1F91      		pop r17
 3455 1586 0F91      		pop r16
 3456 1588 0895      		ret
 3457               	.L361:
 3458 158a 8AE2      		ldi r24,lo8(42)
 3459               	.L346:
 3460               	/* epilogue start */
 3461 158c DF91      		pop r29
 3462 158e CF91      		pop r28
 3463 1590 1F91      		pop r17
 3464 1592 0F91      		pop r16
 3465 1594 0895      		ret
 3466               	.L359:
 3467 1596 8FE3      		ldi r24,lo8(63)
 3468 1598 DF91      		pop r29
 3469 159a CF91      		pop r28
 3470 159c 1F91      		pop r17
 3471 159e 0F91      		pop r16
 3472 15a0 0895      		ret
 3473               	.L360:
 3474 15a2 8DE3      		ldi r24,lo8(61)
 3475 15a4 DF91      		pop r29
 3476 15a6 CF91      		pop r28
 3477 15a8 1F91      		pop r17
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 62


 3478 15aa 0F91      		pop r16
 3479 15ac 0895      		ret
 3480               	.L362:
 3481 15ae E091 0000 		lds r30,OSTCBCur
 3482 15b2 F091 0000 		lds r31,(OSTCBCur)+1
 3483 15b6 E48D      		ldd r30,Z+28
 3484 15b8 00C0      		rjmp .L349
 3485               	.L350:
 3486               	/* #APP */
 3487               	 ;  435 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3488 15ba 7894      		sei
 3489               	 ;  0 "" 2
 3490               	/* #NOAPP */
 3491 15bc 8CE3      		ldi r24,lo8(60)
 3492 15be 00C0      		rjmp .L346
 3493               	.L363:
 3494 15c0 EE85      		ldd r30,Y+14
 3495 15c2 FF85      		ldd r31,Y+15
 3496 15c4 118A      		std Z+17,__zero_reg__
 3497 15c6 108A      		std Z+16,__zero_reg__
 3498 15c8 F093 0000 		sts (OSTCBList)+1,r31
 3499 15cc E093 0000 		sts OSTCBList,r30
 3500 15d0 00C0      		rjmp .L357
 3501               		.size	OSTaskDel, .-OSTaskDel
 3502               	.global	OSTaskCreateExt
 3503               		.type	OSTaskCreateExt, @function
 3504               	OSTaskCreateExt:
 3505 15d2 2F92      		push r2
 3506 15d4 3F92      		push r3
 3507 15d6 4F92      		push r4
 3508 15d8 5F92      		push r5
 3509 15da 6F92      		push r6
 3510 15dc 7F92      		push r7
 3511 15de 8F92      		push r8
 3512 15e0 9F92      		push r9
 3513 15e2 AF92      		push r10
 3514 15e4 BF92      		push r11
 3515 15e6 CF92      		push r12
 3516 15e8 DF92      		push r13
 3517 15ea EF92      		push r14
 3518 15ec FF92      		push r15
 3519 15ee 0F93      		push r16
 3520 15f0 1F93      		push r17
 3521 15f2 DF93      		push r29
 3522 15f4 CF93      		push r28
 3523 15f6 00D0      		rcall .
 3524 15f8 00D0      		rcall .
 3525 15fa 0F92      		push __tmp_reg__
 3526 15fc CDB7      		in r28,__SP_L__
 3527 15fe DEB7      		in r29,__SP_H__
 3528               	/* prologue: function */
 3529               	/* frame size = 5 */
 3530 1600 2C01      		movw r4,r24
 3531 1602 1B01      		movw r2,r22
 3532 1604 5A83      		std Y+2,r21
 3533 1606 4983      		std Y+1,r20
 3534 1608 722E      		mov r7,r18
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 63


 3535 160a 6A2C      		mov r6,r10
 3536 160c BB82      		std Y+3,r11
 3537 160e CC82      		std Y+4,r12
 3538 1610 DD82      		std Y+5,r13
 3539 1612 6401      		movw r12,r8
 3540 1614 AA8C      		ldd r10,Y+26
 3541 1616 BB8C      		ldd r11,Y+27
 3542 1618 8CE0      		ldi r24,lo8(12)
 3543 161a 8217      		cp r24,r18
 3544 161c 00F0      		brlo .L372
 3545               	/* #APP */
 3546               	 ;  285 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3547 161e F894      		cli
 3548               	 ;  0 "" 2
 3549               	/* #NOAPP */
 3550 1620 822E      		mov r8,r18
 3551 1622 9924      		clr r9
 3552 1624 880C      		lsl r8
 3553 1626 991C      		rol r9
 3554 1628 F401      		movw r30,r8
 3555 162a E050      		subi r30,lo8(-(OSTCBPrioTbl))
 3556 162c F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 3557 162e 8081      		ld r24,Z
 3558 1630 9181      		ldd r25,Z+1
 3559 1632 892B      		or r24,r25
 3560 1634 01F0      		breq .L373
 3561               	/* #APP */
 3562               	 ;  316 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3563 1636 7894      		sei
 3564               	 ;  0 "" 2
 3565               	/* #NOAPP */
 3566 1638 18E2      		ldi r17,lo8(40)
 3567               	.L366:
 3568 163a 812F      		mov r24,r17
 3569               	/* epilogue start */
 3570 163c 0F90      		pop __tmp_reg__
 3571 163e 0F90      		pop __tmp_reg__
 3572 1640 0F90      		pop __tmp_reg__
 3573 1642 0F90      		pop __tmp_reg__
 3574 1644 0F90      		pop __tmp_reg__
 3575 1646 CF91      		pop r28
 3576 1648 DF91      		pop r29
 3577 164a 1F91      		pop r17
 3578 164c 0F91      		pop r16
 3579 164e FF90      		pop r15
 3580 1650 EF90      		pop r14
 3581 1652 DF90      		pop r13
 3582 1654 CF90      		pop r12
 3583 1656 BF90      		pop r11
 3584 1658 AF90      		pop r10
 3585 165a 9F90      		pop r9
 3586 165c 8F90      		pop r8
 3587 165e 7F90      		pop r7
 3588 1660 6F90      		pop r6
 3589 1662 5F90      		pop r5
 3590 1664 4F90      		pop r4
 3591 1666 3F90      		pop r3
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 64


 3592 1668 2F90      		pop r2
 3593 166a 0895      		ret
 3594               	.L372:
 3595 166c 1AE2      		ldi r17,lo8(42)
 3596 166e 00C0      		rjmp .L366
 3597               	.L373:
 3598 1670 81E0      		ldi r24,lo8(1)
 3599 1672 90E0      		ldi r25,hi8(1)
 3600 1674 9183      		std Z+1,r25
 3601 1676 8083      		st Z,r24
 3602               	/* #APP */
 3603               	 ;  289 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3604 1678 7894      		sei
 3605               	 ;  0 "" 2
 3606               	/* #NOAPP */
 3607 167a A0FC      		sbrc r10,0
 3608 167c 00C0      		rjmp .L368
 3609 167e A1FE      		sbrs r10,1
 3610 1680 00C0      		rjmp .L369
 3611               	.L368:
 3612 1682 C701      		movw r24,r14
 3613 1684 60E0      		ldi r22,lo8(0)
 3614 1686 70E0      		ldi r23,hi8(0)
 3615 1688 462D      		mov r20,r6
 3616 168a 5B81      		ldd r21,Y+3
 3617 168c 0E94 0000 		call memset
 3618               	.L369:
 3619 1690 C201      		movw r24,r4
 3620 1692 B101      		movw r22,r2
 3621 1694 4981      		ldd r20,Y+1
 3622 1696 5A81      		ldd r21,Y+2
 3623 1698 9501      		movw r18,r10
 3624 169a 0E94 0000 		call OSTaskStkInit
 3625 169e BC01      		movw r22,r24
 3626 16a0 872D      		mov r24,r7
 3627 16a2 A701      		movw r20,r14
 3628 16a4 9801      		movw r18,r16
 3629 16a6 E62C      		mov r14,r6
 3630 16a8 FB80      		ldd r15,Y+3
 3631 16aa 0C81      		ldd r16,Y+4
 3632 16ac 1D81      		ldd r17,Y+5
 3633 16ae 0E94 0000 		call OS_TCBInit
 3634 16b2 182F      		mov r17,r24
 3635 16b4 8823      		tst r24
 3636 16b6 01F4      		brne .L370
 3637               	/* #APP */
 3638               	 ;  303 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3639 16b8 F894      		cli
 3640               	 ;  0 "" 2
 3641               	/* #NOAPP */
 3642 16ba 8091 0000 		lds r24,OSTaskCtr
 3643 16be 8F5F      		subi r24,lo8(-(1))
 3644 16c0 8093 0000 		sts OSTaskCtr,r24
 3645               	/* #APP */
 3646               	 ;  305 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3647 16c4 7894      		sei
 3648               	 ;  0 "" 2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 65


 3649               	/* #NOAPP */
 3650 16c6 8091 0000 		lds r24,OSRunning
 3651 16ca 8130      		cpi r24,lo8(1)
 3652 16cc 01F0      		breq .+2
 3653 16ce 00C0      		rjmp .L366
 3654 16d0 0E94 0000 		call OS_Sched
 3655 16d4 00C0      		rjmp .L366
 3656               	.L370:
 3657               	/* #APP */
 3658               	 ;  310 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3659 16d6 F894      		cli
 3660               	 ;  0 "" 2
 3661               	/* #NOAPP */
 3662 16d8 E0E0      		ldi r30,lo8(OSTCBPrioTbl)
 3663 16da F0E0      		ldi r31,hi8(OSTCBPrioTbl)
 3664 16dc 8E0E      		add r8,r30
 3665 16de 9F1E      		adc r9,r31
 3666 16e0 F401      		movw r30,r8
 3667 16e2 1182      		std Z+1,__zero_reg__
 3668 16e4 1082      		st Z,__zero_reg__
 3669               	/* #APP */
 3670               	 ;  312 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3671 16e6 7894      		sei
 3672               	 ;  0 "" 2
 3673               	/* #NOAPP */
 3674 16e8 00C0      		rjmp .L366
 3675               		.size	OSTaskCreateExt, .-OSTaskCreateExt
 3676               	.global	OSTaskCreate
 3677               		.type	OSTaskCreate, @function
 3678               	OSTaskCreate:
 3679 16ea AF92      		push r10
 3680 16ec BF92      		push r11
 3681 16ee CF92      		push r12
 3682 16f0 DF92      		push r13
 3683 16f2 EF92      		push r14
 3684 16f4 FF92      		push r15
 3685 16f6 0F93      		push r16
 3686 16f8 1F93      		push r17
 3687 16fa CF93      		push r28
 3688 16fc DF93      		push r29
 3689               	/* prologue: function */
 3690               	/* frame size = 0 */
 3691 16fe FC01      		movw r30,r24
 3692 1700 122F      		mov r17,r18
 3693 1702 2D30      		cpi r18,lo8(13)
 3694 1704 00F4      		brsh .L380
 3695               	/* #APP */
 3696               	 ;  172 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3697 1706 F894      		cli
 3698               	 ;  0 "" 2
 3699               	/* #NOAPP */
 3700 1708 C22F      		mov r28,r18
 3701 170a D0E0      		ldi r29,lo8(0)
 3702 170c CC0F      		lsl r28
 3703 170e DD1F      		rol r29
 3704 1710 C050      		subi r28,lo8(-(OSTCBPrioTbl))
 3705 1712 D040      		sbci r29,hi8(-(OSTCBPrioTbl))
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 66


 3706 1714 8881      		ld r24,Y
 3707 1716 9981      		ldd r25,Y+1
 3708 1718 892B      		or r24,r25
 3709 171a 01F0      		breq .L381
 3710               	/* #APP */
 3711               	 ;  193 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3712 171c 7894      		sei
 3713               	 ;  0 "" 2
 3714               	/* #NOAPP */
 3715 171e 18E2      		ldi r17,lo8(40)
 3716               	.L376:
 3717 1720 812F      		mov r24,r17
 3718               	/* epilogue start */
 3719 1722 DF91      		pop r29
 3720 1724 CF91      		pop r28
 3721 1726 1F91      		pop r17
 3722 1728 0F91      		pop r16
 3723 172a FF90      		pop r15
 3724 172c EF90      		pop r14
 3725 172e DF90      		pop r13
 3726 1730 CF90      		pop r12
 3727 1732 BF90      		pop r11
 3728 1734 AF90      		pop r10
 3729 1736 0895      		ret
 3730               	.L380:
 3731 1738 1AE2      		ldi r17,lo8(42)
 3732 173a 00C0      		rjmp .L376
 3733               	.L381:
 3734 173c 81E0      		ldi r24,lo8(1)
 3735 173e 90E0      		ldi r25,hi8(1)
 3736 1740 9983      		std Y+1,r25
 3737 1742 8883      		st Y,r24
 3738               	/* #APP */
 3739               	 ;  176 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3740 1744 7894      		sei
 3741               	 ;  0 "" 2
 3742               	/* #NOAPP */
 3743 1746 CF01      		movw r24,r30
 3744 1748 20E0      		ldi r18,lo8(0)
 3745 174a 30E0      		ldi r19,hi8(0)
 3746 174c 0E94 0000 		call OSTaskStkInit
 3747 1750 BC01      		movw r22,r24
 3748 1752 812F      		mov r24,r17
 3749 1754 40E0      		ldi r20,lo8(0)
 3750 1756 50E0      		ldi r21,hi8(0)
 3751 1758 20E0      		ldi r18,lo8(0)
 3752 175a 30E0      		ldi r19,hi8(0)
 3753 175c EE24      		clr r14
 3754 175e FF24      		clr r15
 3755 1760 8701      		movw r16,r14
 3756 1762 CC24      		clr r12
 3757 1764 DD24      		clr r13
 3758 1766 AA24      		clr r10
 3759 1768 BB24      		clr r11
 3760 176a 0E94 0000 		call OS_TCBInit
 3761 176e 182F      		mov r17,r24
 3762 1770 8823      		tst r24
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 67


 3763 1772 01F4      		brne .L378
 3764               	/* #APP */
 3765               	 ;  180 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3766 1774 F894      		cli
 3767               	 ;  0 "" 2
 3768               	/* #NOAPP */
 3769 1776 8091 0000 		lds r24,OSTaskCtr
 3770 177a 8F5F      		subi r24,lo8(-(1))
 3771 177c 8093 0000 		sts OSTaskCtr,r24
 3772               	/* #APP */
 3773               	 ;  182 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3774 1780 7894      		sei
 3775               	 ;  0 "" 2
 3776               	/* #NOAPP */
 3777 1782 8091 0000 		lds r24,OSRunning
 3778 1786 8130      		cpi r24,lo8(1)
 3779 1788 01F4      		brne .L376
 3780 178a 0E94 0000 		call OS_Sched
 3781 178e 00C0      		rjmp .L376
 3782               	.L378:
 3783               	/* #APP */
 3784               	 ;  187 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3785 1790 F894      		cli
 3786               	 ;  0 "" 2
 3787               	/* #NOAPP */
 3788 1792 1982      		std Y+1,__zero_reg__
 3789 1794 1882      		st Y,__zero_reg__
 3790               	/* #APP */
 3791               	 ;  189 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3792 1796 7894      		sei
 3793               	 ;  0 "" 2
 3794               	/* #NOAPP */
 3795 1798 00C0      		rjmp .L376
 3796               		.size	OSTaskCreate, .-OSTaskCreate
 3797               	.global	OSTaskChangePrio
 3798               		.type	OSTaskChangePrio, @function
 3799               	OSTaskChangePrio:
 3800 179a DF92      		push r13
 3801 179c EF92      		push r14
 3802 179e FF92      		push r15
 3803 17a0 0F93      		push r16
 3804 17a2 1F93      		push r17
 3805 17a4 CF93      		push r28
 3806 17a6 DF93      		push r29
 3807               	/* prologue: function */
 3808               	/* frame size = 0 */
 3809 17a8 282F      		mov r18,r24
 3810 17aa 8C50      		subi r24,lo8(-(-12))
 3811 17ac 833F      		cpi r24,lo8(-13)
 3812 17ae 00F0      		brlo .L383
 3813 17b0 6C30      		cpi r22,lo8(12)
 3814 17b2 00F4      		brsh .L383
 3815               	/* #APP */
 3816               	 ;  64 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3817 17b4 F894      		cli
 3818               	 ;  0 "" 2
 3819               	/* #NOAPP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 68


 3820 17b6 A62F      		mov r26,r22
 3821 17b8 B0E0      		ldi r27,lo8(0)
 3822 17ba AA0F      		lsl r26
 3823 17bc BB1F      		rol r27
 3824 17be FD01      		movw r30,r26
 3825 17c0 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 3826 17c2 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 3827 17c4 8081      		ld r24,Z
 3828 17c6 9181      		ldd r25,Z+1
 3829 17c8 892B      		or r24,r25
 3830 17ca 01F0      		breq .L384
 3831               	/* #APP */
 3832               	 ;  66 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3833 17cc 7894      		sei
 3834               	 ;  0 "" 2
 3835               	/* #NOAPP */
 3836 17ce 88E2      		ldi r24,lo8(40)
 3837 17d0 DF91      		pop r29
 3838 17d2 CF91      		pop r28
 3839 17d4 1F91      		pop r17
 3840 17d6 0F91      		pop r16
 3841 17d8 FF90      		pop r15
 3842 17da EF90      		pop r14
 3843 17dc DF90      		pop r13
 3844 17de 0895      		ret
 3845               	.L383:
 3846 17e0 8AE2      		ldi r24,lo8(42)
 3847               	.L385:
 3848               	/* epilogue start */
 3849 17e2 DF91      		pop r29
 3850 17e4 CF91      		pop r28
 3851 17e6 1F91      		pop r17
 3852 17e8 0F91      		pop r16
 3853 17ea FF90      		pop r15
 3854 17ec EF90      		pop r14
 3855 17ee DF90      		pop r13
 3856 17f0 0895      		ret
 3857               	.L384:
 3858 17f2 81E0      		ldi r24,lo8(1)
 3859 17f4 90E0      		ldi r25,hi8(1)
 3860 17f6 9183      		std Z+1,r25
 3861 17f8 8083      		st Z,r24
 3862               	/* #APP */
 3863               	 ;  70 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3864 17fa 7894      		sei
 3865               	 ;  0 "" 2
 3866               	/* #NOAPP */
 3867 17fc D62E      		mov r13,r22
 3868 17fe D694      		lsr r13
 3869 1800 D694      		lsr r13
 3870 1802 D694      		lsr r13
 3871 1804 0D2D      		mov r16,r13
 3872 1806 10E0      		ldi r17,lo8(0)
 3873 1808 F801      		movw r30,r16
 3874 180a E050      		subi r30,lo8(-(OSMapTbl))
 3875 180c F040      		sbci r31,hi8(-(OSMapTbl))
 3876 180e F080      		ld r15,Z
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 69


 3877 1810 97E0      		ldi r25,lo8(7)
 3878 1812 E92E      		mov r14,r25
 3879 1814 E622      		and r14,r22
 3880 1816 EE2D      		mov r30,r14
 3881 1818 F0E0      		ldi r31,lo8(0)
 3882 181a E050      		subi r30,lo8(-(OSMapTbl))
 3883 181c F040      		sbci r31,hi8(-(OSMapTbl))
 3884 181e 7081      		ld r23,Z
 3885               	/* #APP */
 3886               	 ;  75 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3887 1820 F894      		cli
 3888               	 ;  0 "" 2
 3889               	/* #NOAPP */
 3890 1822 2F3F      		cpi r18,lo8(-1)
 3891 1824 01F4      		brne .+2
 3892 1826 00C0      		rjmp .L397
 3893               	.L386:
 3894 1828 E22F      		mov r30,r18
 3895 182a F0E0      		ldi r31,lo8(0)
 3896 182c EE0F      		lsl r30
 3897 182e FF1F      		rol r31
 3898 1830 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 3899 1832 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 3900 1834 C081      		ld r28,Z
 3901 1836 D181      		ldd r29,Z+1
 3902 1838 2097      		sbiw r28,0
 3903 183a 01F4      		brne .+2
 3904 183c 00C0      		rjmp .L387
 3905 183e 1182      		std Z+1,__zero_reg__
 3906 1840 1082      		st Z,__zero_reg__
 3907 1842 8E8D      		ldd r24,Y+30
 3908 1844 482F      		mov r20,r24
 3909 1846 50E0      		ldi r21,lo8(0)
 3910 1848 FA01      		movw r30,r20
 3911 184a E050      		subi r30,lo8(-(OSRdyTbl))
 3912 184c F040      		sbci r31,hi8(-(OSRdyTbl))
 3913 184e 2081      		ld r18,Z
 3914 1850 9F8D      		ldd r25,Y+31
 3915 1852 822F      		mov r24,r18
 3916 1854 8923      		and r24,r25
 3917 1856 01F0      		breq .L388
 3918 1858 892F      		mov r24,r25
 3919 185a 8095      		com r24
 3920 185c 8223      		and r24,r18
 3921 185e 8083      		st Z,r24
 3922 1860 8823      		tst r24
 3923 1862 01F4      		brne .+2
 3924 1864 00C0      		rjmp .L395
 3925 1866 9091 0000 		lds r25,OSRdyGrp
 3926               	.L389:
 3927 186a 9F29      		or r25,r15
 3928 186c 9093 0000 		sts OSRdyGrp,r25
 3929 1870 F801      		movw r30,r16
 3930 1872 E050      		subi r30,lo8(-(OSRdyTbl))
 3931 1874 F040      		sbci r31,hi8(-(OSRdyTbl))
 3932 1876 8081      		ld r24,Z
 3933 1878 872B      		or r24,r23
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 70


 3934 187a 8083      		st Z,r24
 3935               	.L390:
 3936 187c A050      		subi r26,lo8(-(OSTCBPrioTbl))
 3937 187e B040      		sbci r27,hi8(-(OSTCBPrioTbl))
 3938 1880 CD93      		st X+,r28
 3939 1882 DC93      		st X,r29
 3940 1884 6C8F      		std Y+28,r22
 3941 1886 DE8E      		std Y+30,r13
 3942 1888 ED8E      		std Y+29,r14
 3943 188a F8A2      		std Y+32,r15
 3944 188c 7F8F      		std Y+31,r23
 3945               	/* #APP */
 3946               	 ;  106 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3947 188e 7894      		sei
 3948               	 ;  0 "" 2
 3949               	/* #NOAPP */
 3950 1890 0E94 0000 		call OS_Sched
 3951 1894 80E0      		ldi r24,lo8(0)
 3952 1896 00C0      		rjmp .L385
 3953               	.L388:
 3954 1898 2A89      		ldd r18,Y+18
 3955 189a 3B89      		ldd r19,Y+19
 3956 189c 2115      		cp r18,__zero_reg__
 3957 189e 3105      		cpc r19,__zero_reg__
 3958 18a0 01F0      		breq .L390
 3959 18a2 F901      		movw r30,r18
 3960 18a4 E40F      		add r30,r20
 3961 18a6 F51F      		adc r31,r21
 3962 18a8 892F      		mov r24,r25
 3963 18aa 8095      		com r24
 3964 18ac 9681      		ldd r25,Z+6
 3965 18ae 8923      		and r24,r25
 3966 18b0 8683      		std Z+6,r24
 3967 18b2 8823      		tst r24
 3968 18b4 01F0      		breq .L396
 3969 18b6 F901      		movw r30,r18
 3970 18b8 9181      		ldd r25,Z+1
 3971               	.L391:
 3972 18ba 9F29      		or r25,r15
 3973 18bc F901      		movw r30,r18
 3974 18be 9183      		std Z+1,r25
 3975 18c0 E00F      		add r30,r16
 3976 18c2 F11F      		adc r31,r17
 3977 18c4 8681      		ldd r24,Z+6
 3978 18c6 872B      		or r24,r23
 3979 18c8 8683      		std Z+6,r24
 3980 18ca 00C0      		rjmp .L390
 3981               	.L397:
 3982 18cc E091 0000 		lds r30,OSTCBCur
 3983 18d0 F091 0000 		lds r31,(OSTCBCur)+1
 3984 18d4 248D      		ldd r18,Z+28
 3985 18d6 00C0      		rjmp .L386
 3986               	.L387:
 3987 18d8 A050      		subi r26,lo8(-(OSTCBPrioTbl))
 3988 18da B040      		sbci r27,hi8(-(OSTCBPrioTbl))
 3989 18dc 1D92      		st X+,__zero_reg__
 3990 18de 1C92      		st X,__zero_reg__
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 71


 3991               	/* #APP */
 3992               	 ;  111 "c:/WinAVR-work/lab2/source/os_task.c" 1
 3993 18e0 7894      		sei
 3994               	 ;  0 "" 2
 3995               	/* #NOAPP */
 3996 18e2 89E2      		ldi r24,lo8(41)
 3997 18e4 00C0      		rjmp .L385
 3998               	.L395:
 3999 18e6 88A1      		ldd r24,Y+32
 4000 18e8 8095      		com r24
 4001 18ea 9091 0000 		lds r25,OSRdyGrp
 4002 18ee 9823      		and r25,r24
 4003 18f0 00C0      		rjmp .L389
 4004               	.L396:
 4005 18f2 88A1      		ldd r24,Y+32
 4006 18f4 8095      		com r24
 4007 18f6 F901      		movw r30,r18
 4008 18f8 9181      		ldd r25,Z+1
 4009 18fa 9823      		and r25,r24
 4010 18fc 9183      		std Z+1,r25
 4011 18fe 00C0      		rjmp .L391
 4012               		.size	OSTaskChangePrio, .-OSTaskChangePrio
 4013               	.global	OSSemPost
 4014               		.type	OSSemPost, @function
 4015               	OSSemPost:
 4016               	/* prologue: function */
 4017               	/* frame size = 0 */
 4018 1900 FC01      		movw r30,r24
 4019 1902 0097      		sbiw r24,0
 4020 1904 01F0      		breq .L405
 4021 1906 8081      		ld r24,Z
 4022 1908 8330      		cpi r24,lo8(3)
 4023 190a 01F0      		breq .L401
 4024 190c 81E0      		ldi r24,lo8(1)
 4025 190e 0895      		ret
 4026               	.L401:
 4027               	/* #APP */
 4028               	 ;  323 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4029 1910 F894      		cli
 4030               	 ;  0 "" 2
 4031               	/* #NOAPP */
 4032 1912 8181      		ldd r24,Z+1
 4033 1914 8823      		tst r24
 4034 1916 01F4      		brne .L406
 4035 1918 8281      		ldd r24,Z+2
 4036 191a 9381      		ldd r25,Z+3
 4037 191c 2FEF      		ldi r18,hi8(-1)
 4038 191e 8F3F      		cpi r24,lo8(-1)
 4039 1920 9207      		cpc r25,r18
 4040 1922 01F0      		breq .L403
 4041 1924 0196      		adiw r24,1
 4042 1926 9383      		std Z+3,r25
 4043 1928 8283      		std Z+2,r24
 4044               	/* #APP */
 4045               	 ;  332 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4046 192a 7894      		sei
 4047               	 ;  0 "" 2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 72


 4048               	/* #NOAPP */
 4049 192c 80E0      		ldi r24,lo8(0)
 4050 192e 0895      		ret
 4051               	.L403:
 4052               	/* #APP */
 4053               	 ;  335 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4054 1930 7894      		sei
 4055               	 ;  0 "" 2
 4056               	/* #NOAPP */
 4057 1932 82E3      		ldi r24,lo8(50)
 4058 1934 0895      		ret
 4059               	.L405:
 4060 1936 84E0      		ldi r24,lo8(4)
 4061 1938 0895      		ret
 4062               	.L406:
 4063 193a CF01      		movw r24,r30
 4064 193c 60E0      		ldi r22,lo8(0)
 4065 193e 70E0      		ldi r23,hi8(0)
 4066 1940 41E0      		ldi r20,lo8(1)
 4067 1942 0E94 0000 		call OS_EventTaskRdy
 4068               	/* #APP */
 4069               	 ;  326 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4070 1946 7894      		sei
 4071               	 ;  0 "" 2
 4072               	/* #NOAPP */
 4073 1948 0E94 0000 		call OS_Sched
 4074 194c 80E0      		ldi r24,lo8(0)
 4075 194e 0895      		ret
 4076               		.size	OSSemPost, .-OSSemPost
 4077               	.global	OSSemPend
 4078               		.type	OSSemPend, @function
 4079               	OSSemPend:
 4080 1950 0F93      		push r16
 4081 1952 1F93      		push r17
 4082 1954 CF93      		push r28
 4083 1956 DF93      		push r29
 4084               	/* prologue: function */
 4085               	/* frame size = 0 */
 4086 1958 EC01      		movw r28,r24
 4087 195a 8A01      		movw r16,r20
 4088 195c 8091 0000 		lds r24,OSIntNesting
 4089 1960 8823      		tst r24
 4090 1962 01F4      		brne .L415
 4091 1964 2097      		sbiw r28,0
 4092 1966 01F0      		breq .L416
 4093 1968 8881      		ld r24,Y
 4094 196a 8330      		cpi r24,lo8(3)
 4095 196c 01F0      		breq .L411
 4096 196e 81E0      		ldi r24,lo8(1)
 4097 1970 FA01      		movw r30,r20
 4098 1972 8083      		st Z,r24
 4099               	.L414:
 4100               	/* epilogue start */
 4101 1974 DF91      		pop r29
 4102 1976 CF91      		pop r28
 4103 1978 1F91      		pop r17
 4104 197a 0F91      		pop r16
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 73


 4105 197c 0895      		ret
 4106               	.L415:
 4107 197e 82E0      		ldi r24,lo8(2)
 4108 1980 FA01      		movw r30,r20
 4109 1982 8083      		st Z,r24
 4110 1984 DF91      		pop r29
 4111 1986 CF91      		pop r28
 4112 1988 1F91      		pop r17
 4113 198a 0F91      		pop r16
 4114 198c 0895      		ret
 4115               	.L416:
 4116 198e 84E0      		ldi r24,lo8(4)
 4117 1990 FA01      		movw r30,r20
 4118 1992 8083      		st Z,r24
 4119 1994 00C0      		rjmp .L414
 4120               	.L411:
 4121               	/* #APP */
 4122               	 ;  265 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4123 1996 F894      		cli
 4124               	 ;  0 "" 2
 4125               	/* #NOAPP */
 4126 1998 8A81      		ldd r24,Y+2
 4127 199a 9B81      		ldd r25,Y+3
 4128 199c 0097      		sbiw r24,0
 4129 199e 01F0      		breq .L412
 4130 19a0 0197      		sbiw r24,1
 4131 19a2 9B83      		std Y+3,r25
 4132 19a4 8A83      		std Y+2,r24
 4133               	/* #APP */
 4134               	 ;  268 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4135 19a6 7894      		sei
 4136               	 ;  0 "" 2
 4137               	/* #NOAPP */
 4138 19a8 FA01      		movw r30,r20
 4139 19aa 1082      		st Z,__zero_reg__
 4140 19ac DF91      		pop r29
 4141 19ae CF91      		pop r28
 4142 19b0 1F91      		pop r17
 4143 19b2 0F91      		pop r16
 4144 19b4 0895      		ret
 4145               	.L412:
 4146 19b6 E091 0000 		lds r30,OSTCBCur
 4147 19ba F091 0000 		lds r31,(OSTCBCur)+1
 4148 19be 838D      		ldd r24,Z+27
 4149 19c0 8160      		ori r24,lo8(1)
 4150 19c2 838F      		std Z+27,r24
 4151 19c4 728F      		std Z+26,r23
 4152 19c6 618F      		std Z+25,r22
 4153 19c8 CE01      		movw r24,r28
 4154 19ca 0E94 0000 		call OS_EventTaskWait
 4155               	/* #APP */
 4156               	 ;  276 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4157 19ce 7894      		sei
 4158               	 ;  0 "" 2
 4159               	/* #NOAPP */
 4160 19d0 0E94 0000 		call OS_Sched
 4161               	/* #APP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 74


 4162               	 ;  278 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4163 19d4 F894      		cli
 4164               	 ;  0 "" 2
 4165               	/* #NOAPP */
 4166 19d6 E091 0000 		lds r30,OSTCBCur
 4167 19da F091 0000 		lds r31,(OSTCBCur)+1
 4168 19de 838D      		ldd r24,Z+27
 4169 19e0 80FD      		sbrc r24,0
 4170 19e2 00C0      		rjmp .L417
 4171 19e4 138A      		std Z+19,__zero_reg__
 4172 19e6 128A      		std Z+18,__zero_reg__
 4173               	/* #APP */
 4174               	 ;  286 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4175 19e8 7894      		sei
 4176               	 ;  0 "" 2
 4177               	/* #NOAPP */
 4178 19ea F801      		movw r30,r16
 4179 19ec 1082      		st Z,__zero_reg__
 4180 19ee 00C0      		rjmp .L414
 4181               	.L417:
 4182 19f0 CE01      		movw r24,r28
 4183 19f2 0E94 0000 		call OS_EventTO
 4184               	/* #APP */
 4185               	 ;  281 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4186 19f6 7894      		sei
 4187               	 ;  0 "" 2
 4188               	/* #NOAPP */
 4189 19f8 8AE0      		ldi r24,lo8(10)
 4190 19fa F801      		movw r30,r16
 4191 19fc 8083      		st Z,r24
 4192 19fe 00C0      		rjmp .L414
 4193               		.size	OSSemPend, .-OSSemPend
 4194               	.global	OSSemDel
 4195               		.type	OSSemDel, @function
 4196               	OSSemDel:
 4197 1a00 FF92      		push r15
 4198 1a02 0F93      		push r16
 4199 1a04 1F93      		push r17
 4200 1a06 CF93      		push r28
 4201 1a08 DF93      		push r29
 4202               	/* prologue: function */
 4203               	/* frame size = 0 */
 4204 1a0a EC01      		movw r28,r24
 4205 1a0c 8A01      		movw r16,r20
 4206 1a0e 8091 0000 		lds r24,OSIntNesting
 4207 1a12 8823      		tst r24
 4208 1a14 01F4      		brne .L435
 4209 1a16 2097      		sbiw r28,0
 4210 1a18 01F0      		breq .L436
 4211 1a1a 8881      		ld r24,Y
 4212 1a1c 8330      		cpi r24,lo8(3)
 4213 1a1e 01F0      		breq .L422
 4214 1a20 81E0      		ldi r24,lo8(1)
 4215 1a22 FA01      		movw r30,r20
 4216 1a24 8083      		st Z,r24
 4217               	.L420:
 4218 1a26 CE01      		movw r24,r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 75


 4219               	/* epilogue start */
 4220 1a28 DF91      		pop r29
 4221 1a2a CF91      		pop r28
 4222 1a2c 1F91      		pop r17
 4223 1a2e 0F91      		pop r16
 4224 1a30 FF90      		pop r15
 4225 1a32 0895      		ret
 4226               	.L435:
 4227 1a34 8CE8      		ldi r24,lo8(-116)
 4228 1a36 FA01      		movw r30,r20
 4229 1a38 8083      		st Z,r24
 4230 1a3a CE01      		movw r24,r28
 4231 1a3c DF91      		pop r29
 4232 1a3e CF91      		pop r28
 4233 1a40 1F91      		pop r17
 4234 1a42 0F91      		pop r16
 4235 1a44 FF90      		pop r15
 4236 1a46 0895      		ret
 4237               	.L436:
 4238 1a48 84E0      		ldi r24,lo8(4)
 4239 1a4a FA01      		movw r30,r20
 4240 1a4c 8083      		st Z,r24
 4241 1a4e 00C0      		rjmp .L420
 4242               	.L422:
 4243               	/* #APP */
 4244               	 ;  170 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4245 1a50 F894      		cli
 4246               	 ;  0 "" 2
 4247               	/* #NOAPP */
 4248 1a52 F980      		ldd r15,Y+1
 4249 1a54 FF20      		tst r15
 4250 1a56 01F0      		breq .L423
 4251 1a58 FF24      		clr r15
 4252 1a5a F394      		inc r15
 4253               	.L423:
 4254 1a5c 6623      		tst r22
 4255 1a5e 01F4      		brne .L437
 4256 1a60 FF20      		tst r15
 4257 1a62 01F0      		breq .L438
 4258               	/* #APP */
 4259               	 ;  186 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4260 1a64 7894      		sei
 4261               	 ;  0 "" 2
 4262               	/* #NOAPP */
 4263 1a66 88E0      		ldi r24,lo8(8)
 4264 1a68 F801      		movw r30,r16
 4265 1a6a 8083      		st Z,r24
 4266 1a6c 00C0      		rjmp .L420
 4267               	.L437:
 4268 1a6e 6130      		cpi r22,lo8(1)
 4269 1a70 01F0      		breq .L439
 4270               	/* #APP */
 4271               	 ;  206 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4272 1a72 7894      		sei
 4273               	 ;  0 "" 2
 4274               	/* #NOAPP */
 4275 1a74 87E0      		ldi r24,lo8(7)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 76


 4276 1a76 F801      		movw r30,r16
 4277 1a78 8083      		st Z,r24
 4278 1a7a 00C0      		rjmp .L420
 4279               	.L439:
 4280 1a7c FF20      		tst r15
 4281 1a7e 01F0      		breq .L428
 4282               	.L432:
 4283 1a80 CE01      		movw r24,r28
 4284 1a82 60E0      		ldi r22,lo8(0)
 4285 1a84 70E0      		ldi r23,hi8(0)
 4286 1a86 41E0      		ldi r20,lo8(1)
 4287 1a88 0E94 0000 		call OS_EventTaskRdy
 4288 1a8c 8981      		ldd r24,Y+1
 4289 1a8e 8823      		tst r24
 4290 1a90 01F4      		brne .L432
 4291               	.L428:
 4292 1a92 1882      		st Y,__zero_reg__
 4293 1a94 8091 0000 		lds r24,OSEventFreeList
 4294 1a98 9091 0000 		lds r25,(OSEventFreeList)+1
 4295 1a9c 9D83      		std Y+5,r25
 4296 1a9e 8C83      		std Y+4,r24
 4297 1aa0 D093 0000 		sts (OSEventFreeList)+1,r29
 4298 1aa4 C093 0000 		sts OSEventFreeList,r28
 4299               	/* #APP */
 4300               	 ;  198 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4301 1aa8 7894      		sei
 4302               	 ;  0 "" 2
 4303               	/* #NOAPP */
 4304 1aaa F1E0      		ldi r31,lo8(1)
 4305 1aac FF16      		cp r15,r31
 4306 1aae 01F0      		breq .L440
 4307               	.L430:
 4308 1ab0 F801      		movw r30,r16
 4309 1ab2 1082      		st Z,__zero_reg__
 4310 1ab4 C0E0      		ldi r28,lo8(0)
 4311 1ab6 D0E0      		ldi r29,hi8(0)
 4312 1ab8 00C0      		rjmp .L420
 4313               	.L440:
 4314 1aba 0E94 0000 		call OS_Sched
 4315 1abe 00C0      		rjmp .L430
 4316               	.L438:
 4317 1ac0 1882      		st Y,__zero_reg__
 4318 1ac2 8091 0000 		lds r24,OSEventFreeList
 4319 1ac6 9091 0000 		lds r25,(OSEventFreeList)+1
 4320 1aca 9D83      		std Y+5,r25
 4321 1acc 8C83      		std Y+4,r24
 4322 1ace D093 0000 		sts (OSEventFreeList)+1,r29
 4323 1ad2 C093 0000 		sts OSEventFreeList,r28
 4324               	/* #APP */
 4325               	 ;  182 "c:/WinAVR-work/lab2/source/os_sem.c" 1
 4326 1ad6 7894      		sei
 4327               	 ;  0 "" 2
 4328               	/* #NOAPP */
 4329 1ad8 F801      		movw r30,r16
 4330 1ada 1082      		st Z,__zero_reg__
 4331 1adc C0E0      		ldi r28,lo8(0)
 4332 1ade D0E0      		ldi r29,hi8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 77


 4333 1ae0 00C0      		rjmp .L420
 4334               		.size	OSSemDel, .-OSSemDel
 4335               	.global	OSQPostOpt
 4336               		.type	OSQPostOpt, @function
 4337               	OSQPostOpt:
 4338 1ae2 0F93      		push r16
 4339 1ae4 1F93      		push r17
 4340 1ae6 CF93      		push r28
 4341 1ae8 DF93      		push r29
 4342               	/* prologue: function */
 4343               	/* frame size = 0 */
 4344 1aea EC01      		movw r28,r24
 4345 1aec 8B01      		movw r16,r22
 4346 1aee 0097      		sbiw r24,0
 4347 1af0 01F0      		breq .L457
 4348 1af2 6115      		cp r22,__zero_reg__
 4349 1af4 7105      		cpc r23,__zero_reg__
 4350 1af6 01F0      		breq .L458
 4351 1af8 8881      		ld r24,Y
 4352 1afa 8230      		cpi r24,lo8(2)
 4353 1afc 01F0      		breq .L445
 4354 1afe 81E0      		ldi r24,lo8(1)
 4355               	.L443:
 4356               	/* epilogue start */
 4357 1b00 DF91      		pop r29
 4358 1b02 CF91      		pop r28
 4359 1b04 1F91      		pop r17
 4360 1b06 0F91      		pop r16
 4361 1b08 0895      		ret
 4362               	.L445:
 4363               	/* #APP */
 4364               	 ;  565 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4365 1b0a F894      		cli
 4366               	 ;  0 "" 2
 4367               	/* #NOAPP */
 4368 1b0c 8981      		ldd r24,Y+1
 4369 1b0e 8823      		tst r24
 4370 1b10 01F0      		breq .L446
 4371 1b12 40FF      		sbrs r20,0
 4372 1b14 00C0      		rjmp .L447
 4373               	.L455:
 4374 1b16 CE01      		movw r24,r28
 4375 1b18 B801      		movw r22,r16
 4376 1b1a 44E0      		ldi r20,lo8(4)
 4377 1b1c 0E94 0000 		call OS_EventTaskRdy
 4378 1b20 8981      		ldd r24,Y+1
 4379 1b22 8823      		tst r24
 4380 1b24 01F4      		brne .L455
 4381               	.L449:
 4382               	/* #APP */
 4383               	 ;  574 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4384 1b26 7894      		sei
 4385               	 ;  0 "" 2
 4386               	/* #NOAPP */
 4387 1b28 0E94 0000 		call OS_Sched
 4388 1b2c 80E0      		ldi r24,lo8(0)
 4389 1b2e DF91      		pop r29
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 78


 4390 1b30 CF91      		pop r28
 4391 1b32 1F91      		pop r17
 4392 1b34 0F91      		pop r16
 4393 1b36 0895      		ret
 4394               	.L446:
 4395 1b38 AC81      		ldd r26,Y+4
 4396 1b3a BD81      		ldd r27,Y+5
 4397 1b3c 1C96      		adiw r26,12
 4398 1b3e 2D91      		ld r18,X+
 4399 1b40 3C91      		ld r19,X
 4400 1b42 1D97      		sbiw r26,12+1
 4401 1b44 1A96      		adiw r26,10
 4402 1b46 8D91      		ld r24,X+
 4403 1b48 9C91      		ld r25,X
 4404 1b4a 1B97      		sbiw r26,10+1
 4405 1b4c 2817      		cp r18,r24
 4406 1b4e 3907      		cpc r19,r25
 4407 1b50 00F0      		brlo .L450
 4408               	/* #APP */
 4409               	 ;  580 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4410 1b52 7894      		sei
 4411               	 ;  0 "" 2
 4412               	/* #NOAPP */
 4413 1b54 8EE1      		ldi r24,lo8(30)
 4414 1b56 00C0      		rjmp .L443
 4415               	.L458:
 4416 1b58 83E0      		ldi r24,lo8(3)
 4417 1b5a DF91      		pop r29
 4418 1b5c CF91      		pop r28
 4419 1b5e 1F91      		pop r17
 4420 1b60 0F91      		pop r16
 4421 1b62 0895      		ret
 4422               	.L457:
 4423 1b64 84E0      		ldi r24,lo8(4)
 4424 1b66 00C0      		rjmp .L443
 4425               	.L450:
 4426 1b68 41FF      		sbrs r20,1
 4427 1b6a 00C0      		rjmp .L451
 4428 1b6c 1896      		adiw r26,8
 4429 1b6e ED91      		ld r30,X+
 4430 1b70 FC91      		ld r31,X
 4431 1b72 1997      		sbiw r26,8+1
 4432 1b74 1296      		adiw r26,2
 4433 1b76 8D91      		ld r24,X+
 4434 1b78 9C91      		ld r25,X
 4435 1b7a 1397      		sbiw r26,2+1
 4436 1b7c E817      		cp r30,r24
 4437 1b7e F907      		cpc r31,r25
 4438 1b80 01F0      		breq .L459
 4439               	.L452:
 4440 1b82 3297      		sbiw r30,2
 4441 1b84 1996      		adiw r26,8+1
 4442 1b86 FC93      		st X,r31
 4443 1b88 EE93      		st -X,r30
 4444 1b8a 1897      		sbiw r26,8
 4445 1b8c 1183      		std Z+1,r17
 4446 1b8e 0083      		st Z,r16
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 79


 4447               	.L453:
 4448 1b90 2F5F      		subi r18,lo8(-(1))
 4449 1b92 3F4F      		sbci r19,hi8(-(1))
 4450 1b94 1D96      		adiw r26,12+1
 4451 1b96 3C93      		st X,r19
 4452 1b98 2E93      		st -X,r18
 4453 1b9a 1C97      		sbiw r26,12
 4454               	/* #APP */
 4455               	 ;  596 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4456 1b9c 7894      		sei
 4457               	 ;  0 "" 2
 4458               	/* #NOAPP */
 4459 1b9e 80E0      		ldi r24,lo8(0)
 4460 1ba0 00C0      		rjmp .L443
 4461               	.L447:
 4462 1ba2 CE01      		movw r24,r28
 4463 1ba4 44E0      		ldi r20,lo8(4)
 4464 1ba6 0E94 0000 		call OS_EventTaskRdy
 4465 1baa 00C0      		rjmp .L449
 4466               	.L451:
 4467 1bac 1696      		adiw r26,6
 4468 1bae ED91      		ld r30,X+
 4469 1bb0 FC91      		ld r31,X
 4470 1bb2 1797      		sbiw r26,6+1
 4471 1bb4 6193      		st Z+,r22
 4472 1bb6 7193      		st Z+,r23
 4473 1bb8 1796      		adiw r26,6+1
 4474 1bba FC93      		st X,r31
 4475 1bbc EE93      		st -X,r30
 4476 1bbe 1697      		sbiw r26,6
 4477 1bc0 1496      		adiw r26,4
 4478 1bc2 8D91      		ld r24,X+
 4479 1bc4 9C91      		ld r25,X
 4480 1bc6 1597      		sbiw r26,4+1
 4481 1bc8 E817      		cp r30,r24
 4482 1bca F907      		cpc r31,r25
 4483 1bcc 01F4      		brne .L453
 4484 1bce 1296      		adiw r26,2
 4485 1bd0 8D91      		ld r24,X+
 4486 1bd2 9C91      		ld r25,X
 4487 1bd4 1397      		sbiw r26,2+1
 4488 1bd6 1796      		adiw r26,6+1
 4489 1bd8 9C93      		st X,r25
 4490 1bda 8E93      		st -X,r24
 4491 1bdc 1697      		sbiw r26,6
 4492 1bde 00C0      		rjmp .L453
 4493               	.L459:
 4494 1be0 1496      		adiw r26,4
 4495 1be2 ED91      		ld r30,X+
 4496 1be4 FC91      		ld r31,X
 4497 1be6 1597      		sbiw r26,4+1
 4498 1be8 1996      		adiw r26,8+1
 4499 1bea FC93      		st X,r31
 4500 1bec EE93      		st -X,r30
 4501 1bee 1897      		sbiw r26,8
 4502 1bf0 00C0      		rjmp .L452
 4503               		.size	OSQPostOpt, .-OSQPostOpt
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 80


 4504               	.global	OSQPostFront
 4505               		.type	OSQPostFront, @function
 4506               	OSQPostFront:
 4507               	/* prologue: function */
 4508               	/* frame size = 0 */
 4509 1bf2 FC01      		movw r30,r24
 4510 1bf4 0097      		sbiw r24,0
 4511 1bf6 01F0      		breq .L469
 4512 1bf8 6115      		cp r22,__zero_reg__
 4513 1bfa 7105      		cpc r23,__zero_reg__
 4514 1bfc 01F0      		breq .L470
 4515 1bfe 8081      		ld r24,Z
 4516 1c00 8230      		cpi r24,lo8(2)
 4517 1c02 01F0      		breq .L464
 4518 1c04 81E0      		ldi r24,lo8(1)
 4519 1c06 0895      		ret
 4520               	.L464:
 4521               	/* #APP */
 4522               	 ;  479 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4523 1c08 F894      		cli
 4524               	 ;  0 "" 2
 4525               	/* #NOAPP */
 4526 1c0a 8181      		ldd r24,Z+1
 4527 1c0c 8823      		tst r24
 4528 1c0e 01F4      		brne .L471
 4529 1c10 A481      		ldd r26,Z+4
 4530 1c12 B581      		ldd r27,Z+5
 4531 1c14 1C96      		adiw r26,12
 4532 1c16 2D91      		ld r18,X+
 4533 1c18 3C91      		ld r19,X
 4534 1c1a 1D97      		sbiw r26,12+1
 4535 1c1c 1A96      		adiw r26,10
 4536 1c1e 8D91      		ld r24,X+
 4537 1c20 9C91      		ld r25,X
 4538 1c22 1B97      		sbiw r26,10+1
 4539 1c24 2817      		cp r18,r24
 4540 1c26 3907      		cpc r19,r25
 4541 1c28 00F0      		brlo .L466
 4542               	/* #APP */
 4543               	 ;  488 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4544 1c2a 7894      		sei
 4545               	 ;  0 "" 2
 4546               	/* #NOAPP */
 4547 1c2c 8EE1      		ldi r24,lo8(30)
 4548 1c2e 0895      		ret
 4549               	.L471:
 4550 1c30 CF01      		movw r24,r30
 4551 1c32 44E0      		ldi r20,lo8(4)
 4552 1c34 0E94 0000 		call OS_EventTaskRdy
 4553               	/* #APP */
 4554               	 ;  482 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4555 1c38 7894      		sei
 4556               	 ;  0 "" 2
 4557               	/* #NOAPP */
 4558 1c3a 0E94 0000 		call OS_Sched
 4559 1c3e 80E0      		ldi r24,lo8(0)
 4560 1c40 0895      		ret
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 81


 4561               	.L470:
 4562 1c42 83E0      		ldi r24,lo8(3)
 4563 1c44 0895      		ret
 4564               	.L469:
 4565 1c46 84E0      		ldi r24,lo8(4)
 4566 1c48 0895      		ret
 4567               	.L466:
 4568 1c4a 1896      		adiw r26,8
 4569 1c4c ED91      		ld r30,X+
 4570 1c4e FC91      		ld r31,X
 4571 1c50 1997      		sbiw r26,8+1
 4572 1c52 1296      		adiw r26,2
 4573 1c54 8D91      		ld r24,X+
 4574 1c56 9C91      		ld r25,X
 4575 1c58 1397      		sbiw r26,2+1
 4576 1c5a E817      		cp r30,r24
 4577 1c5c F907      		cpc r31,r25
 4578 1c5e 01F0      		breq .L472
 4579               	.L467:
 4580 1c60 3297      		sbiw r30,2
 4581 1c62 1996      		adiw r26,8+1
 4582 1c64 FC93      		st X,r31
 4583 1c66 EE93      		st -X,r30
 4584 1c68 1897      		sbiw r26,8
 4585 1c6a 7183      		std Z+1,r23
 4586 1c6c 6083      		st Z,r22
 4587 1c6e 2F5F      		subi r18,lo8(-(1))
 4588 1c70 3F4F      		sbci r19,hi8(-(1))
 4589 1c72 1D96      		adiw r26,12+1
 4590 1c74 3C93      		st X,r19
 4591 1c76 2E93      		st -X,r18
 4592 1c78 1C97      		sbiw r26,12
 4593               	/* #APP */
 4594               	 ;  497 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4595 1c7a 7894      		sei
 4596               	 ;  0 "" 2
 4597               	/* #NOAPP */
 4598 1c7c 80E0      		ldi r24,lo8(0)
 4599 1c7e 0895      		ret
 4600               	.L472:
 4601 1c80 1496      		adiw r26,4
 4602 1c82 ED91      		ld r30,X+
 4603 1c84 FC91      		ld r31,X
 4604 1c86 1597      		sbiw r26,4+1
 4605 1c88 1996      		adiw r26,8+1
 4606 1c8a FC93      		st X,r31
 4607 1c8c EE93      		st -X,r30
 4608 1c8e 1897      		sbiw r26,8
 4609 1c90 00C0      		rjmp .L467
 4610               		.size	OSQPostFront, .-OSQPostFront
 4611               	.global	OSQPost
 4612               		.type	OSQPost, @function
 4613               	OSQPost:
 4614               	/* prologue: function */
 4615               	/* frame size = 0 */
 4616 1c92 FC01      		movw r30,r24
 4617 1c94 0097      		sbiw r24,0
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 82


 4618 1c96 01F0      		breq .L482
 4619 1c98 6115      		cp r22,__zero_reg__
 4620 1c9a 7105      		cpc r23,__zero_reg__
 4621 1c9c 01F0      		breq .L483
 4622 1c9e 8081      		ld r24,Z
 4623 1ca0 8230      		cpi r24,lo8(2)
 4624 1ca2 01F0      		breq .L477
 4625 1ca4 81E0      		ldi r24,lo8(1)
 4626 1ca6 0895      		ret
 4627               	.L477:
 4628               	/* #APP */
 4629               	 ;  417 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4630 1ca8 F894      		cli
 4631               	 ;  0 "" 2
 4632               	/* #NOAPP */
 4633 1caa 8181      		ldd r24,Z+1
 4634 1cac 8823      		tst r24
 4635 1cae 01F4      		brne .L484
 4636 1cb0 A481      		ldd r26,Z+4
 4637 1cb2 B581      		ldd r27,Z+5
 4638 1cb4 1C96      		adiw r26,12
 4639 1cb6 2D91      		ld r18,X+
 4640 1cb8 3C91      		ld r19,X
 4641 1cba 1D97      		sbiw r26,12+1
 4642 1cbc 1A96      		adiw r26,10
 4643 1cbe 8D91      		ld r24,X+
 4644 1cc0 9C91      		ld r25,X
 4645 1cc2 1B97      		sbiw r26,10+1
 4646 1cc4 2817      		cp r18,r24
 4647 1cc6 3907      		cpc r19,r25
 4648 1cc8 00F0      		brlo .L479
 4649               	/* #APP */
 4650               	 ;  426 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4651 1cca 7894      		sei
 4652               	 ;  0 "" 2
 4653               	/* #NOAPP */
 4654 1ccc 8EE1      		ldi r24,lo8(30)
 4655 1cce 0895      		ret
 4656               	.L484:
 4657 1cd0 CF01      		movw r24,r30
 4658 1cd2 44E0      		ldi r20,lo8(4)
 4659 1cd4 0E94 0000 		call OS_EventTaskRdy
 4660               	/* #APP */
 4661               	 ;  420 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4662 1cd8 7894      		sei
 4663               	 ;  0 "" 2
 4664               	/* #NOAPP */
 4665 1cda 0E94 0000 		call OS_Sched
 4666 1cde 80E0      		ldi r24,lo8(0)
 4667 1ce0 0895      		ret
 4668               	.L483:
 4669 1ce2 83E0      		ldi r24,lo8(3)
 4670 1ce4 0895      		ret
 4671               	.L482:
 4672 1ce6 84E0      		ldi r24,lo8(4)
 4673 1ce8 0895      		ret
 4674               	.L479:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 83


 4675 1cea 1696      		adiw r26,6
 4676 1cec ED91      		ld r30,X+
 4677 1cee FC91      		ld r31,X
 4678 1cf0 1797      		sbiw r26,6+1
 4679 1cf2 6193      		st Z+,r22
 4680 1cf4 7193      		st Z+,r23
 4681 1cf6 1796      		adiw r26,6+1
 4682 1cf8 FC93      		st X,r31
 4683 1cfa EE93      		st -X,r30
 4684 1cfc 1697      		sbiw r26,6
 4685 1cfe 2F5F      		subi r18,lo8(-(1))
 4686 1d00 3F4F      		sbci r19,hi8(-(1))
 4687 1d02 1D96      		adiw r26,12+1
 4688 1d04 3C93      		st X,r19
 4689 1d06 2E93      		st -X,r18
 4690 1d08 1C97      		sbiw r26,12
 4691 1d0a 1496      		adiw r26,4
 4692 1d0c 8D91      		ld r24,X+
 4693 1d0e 9C91      		ld r25,X
 4694 1d10 1597      		sbiw r26,4+1
 4695 1d12 E817      		cp r30,r24
 4696 1d14 F907      		cpc r31,r25
 4697 1d16 01F0      		breq .L485
 4698               	.L480:
 4699               	/* #APP */
 4700               	 ;  434 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4701 1d18 7894      		sei
 4702               	 ;  0 "" 2
 4703               	/* #NOAPP */
 4704 1d1a 80E0      		ldi r24,lo8(0)
 4705 1d1c 0895      		ret
 4706               	.L485:
 4707 1d1e 1296      		adiw r26,2
 4708 1d20 8D91      		ld r24,X+
 4709 1d22 9C91      		ld r25,X
 4710 1d24 1397      		sbiw r26,2+1
 4711 1d26 1796      		adiw r26,6+1
 4712 1d28 9C93      		st X,r25
 4713 1d2a 8E93      		st -X,r24
 4714 1d2c 1697      		sbiw r26,6
 4715 1d2e 00C0      		rjmp .L480
 4716               		.size	OSQPost, .-OSQPost
 4717               	.global	OSQPend
 4718               		.type	OSQPend, @function
 4719               	OSQPend:
 4720 1d30 EF92      		push r14
 4721 1d32 FF92      		push r15
 4722 1d34 0F93      		push r16
 4723 1d36 1F93      		push r17
 4724 1d38 CF93      		push r28
 4725 1d3a DF93      		push r29
 4726               	/* prologue: function */
 4727               	/* frame size = 0 */
 4728 1d3c 8C01      		movw r16,r24
 4729 1d3e 7A01      		movw r14,r20
 4730 1d40 8091 0000 		lds r24,OSIntNesting
 4731 1d44 8823      		tst r24
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 84


 4732 1d46 01F0      		breq .+2
 4733 1d48 00C0      		rjmp .L495
 4734 1d4a 0115      		cp r16,__zero_reg__
 4735 1d4c 1105      		cpc r17,__zero_reg__
 4736 1d4e 01F4      		brne .+2
 4737 1d50 00C0      		rjmp .L496
 4738 1d52 F801      		movw r30,r16
 4739 1d54 8081      		ld r24,Z
 4740 1d56 8230      		cpi r24,lo8(2)
 4741 1d58 01F0      		breq .+2
 4742 1d5a 00C0      		rjmp .L497
 4743               	/* #APP */
 4744               	 ;  346 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4745 1d5c F894      		cli
 4746               	 ;  0 "" 2
 4747               	/* #NOAPP */
 4748 1d5e F801      		movw r30,r16
 4749 1d60 A481      		ldd r26,Z+4
 4750 1d62 B581      		ldd r27,Z+5
 4751 1d64 1C96      		adiw r26,12
 4752 1d66 8D91      		ld r24,X+
 4753 1d68 9C91      		ld r25,X
 4754 1d6a 1D97      		sbiw r26,12+1
 4755 1d6c 0097      		sbiw r24,0
 4756 1d6e 01F0      		breq .L491
 4757 1d70 1896      		adiw r26,8
 4758 1d72 ED91      		ld r30,X+
 4759 1d74 FC91      		ld r31,X
 4760 1d76 1997      		sbiw r26,8+1
 4761 1d78 C191      		ld r28,Z+
 4762 1d7a D191      		ld r29,Z+
 4763 1d7c 1996      		adiw r26,8+1
 4764 1d7e FC93      		st X,r31
 4765 1d80 EE93      		st -X,r30
 4766 1d82 1897      		sbiw r26,8
 4767 1d84 0197      		sbiw r24,1
 4768 1d86 1D96      		adiw r26,12+1
 4769 1d88 9C93      		st X,r25
 4770 1d8a 8E93      		st -X,r24
 4771 1d8c 1C97      		sbiw r26,12
 4772 1d8e 1496      		adiw r26,4
 4773 1d90 8D91      		ld r24,X+
 4774 1d92 9C91      		ld r25,X
 4775 1d94 1597      		sbiw r26,4+1
 4776 1d96 E817      		cp r30,r24
 4777 1d98 F907      		cpc r31,r25
 4778 1d9a 01F0      		breq .L498
 4779               	.L492:
 4780               	/* #APP */
 4781               	 ;  354 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4782 1d9c 7894      		sei
 4783               	 ;  0 "" 2
 4784               	/* #NOAPP */
 4785 1d9e F701      		movw r30,r14
 4786 1da0 1082      		st Z,__zero_reg__
 4787               	.L488:
 4788 1da2 CE01      		movw r24,r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 85


 4789               	/* epilogue start */
 4790 1da4 DF91      		pop r29
 4791 1da6 CF91      		pop r28
 4792 1da8 1F91      		pop r17
 4793 1daa 0F91      		pop r16
 4794 1dac FF90      		pop r15
 4795 1dae EF90      		pop r14
 4796 1db0 0895      		ret
 4797               	.L491:
 4798 1db2 E091 0000 		lds r30,OSTCBCur
 4799 1db6 F091 0000 		lds r31,(OSTCBCur)+1
 4800 1dba 838D      		ldd r24,Z+27
 4801 1dbc 8460      		ori r24,lo8(4)
 4802 1dbe 838F      		std Z+27,r24
 4803 1dc0 728F      		std Z+26,r23
 4804 1dc2 618F      		std Z+25,r22
 4805 1dc4 C801      		movw r24,r16
 4806 1dc6 0E94 0000 		call OS_EventTaskWait
 4807               	/* #APP */
 4808               	 ;  361 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4809 1dca 7894      		sei
 4810               	 ;  0 "" 2
 4811               	/* #NOAPP */
 4812 1dcc 0E94 0000 		call OS_Sched
 4813               	/* #APP */
 4814               	 ;  363 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4815 1dd0 F894      		cli
 4816               	 ;  0 "" 2
 4817               	/* #NOAPP */
 4818 1dd2 E091 0000 		lds r30,OSTCBCur
 4819 1dd6 F091 0000 		lds r31,(OSTCBCur)+1
 4820 1dda C489      		ldd r28,Z+20
 4821 1ddc D589      		ldd r29,Z+21
 4822 1dde 2097      		sbiw r28,0
 4823 1de0 01F0      		breq .L493
 4824 1de2 158A      		std Z+21,__zero_reg__
 4825 1de4 148A      		std Z+20,__zero_reg__
 4826 1de6 138E      		std Z+27,__zero_reg__
 4827 1de8 138A      		std Z+19,__zero_reg__
 4828 1dea 128A      		std Z+18,__zero_reg__
 4829               	/* #APP */
 4830               	 ;  369 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4831 1dec 7894      		sei
 4832               	 ;  0 "" 2
 4833               	/* #NOAPP */
 4834 1dee F701      		movw r30,r14
 4835 1df0 1082      		st Z,__zero_reg__
 4836 1df2 CE01      		movw r24,r28
 4837 1df4 DF91      		pop r29
 4838 1df6 CF91      		pop r28
 4839 1df8 1F91      		pop r17
 4840 1dfa 0F91      		pop r16
 4841 1dfc FF90      		pop r15
 4842 1dfe EF90      		pop r14
 4843 1e00 0895      		ret
 4844               	.L498:
 4845 1e02 1296      		adiw r26,2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 86


 4846 1e04 8D91      		ld r24,X+
 4847 1e06 9C91      		ld r25,X
 4848 1e08 1397      		sbiw r26,2+1
 4849 1e0a 1996      		adiw r26,8+1
 4850 1e0c 9C93      		st X,r25
 4851 1e0e 8E93      		st -X,r24
 4852 1e10 1897      		sbiw r26,8
 4853 1e12 00C0      		rjmp .L492
 4854               	.L497:
 4855 1e14 81E0      		ldi r24,lo8(1)
 4856 1e16 FA01      		movw r30,r20
 4857 1e18 8083      		st Z,r24
 4858 1e1a C0E0      		ldi r28,lo8(0)
 4859 1e1c D0E0      		ldi r29,hi8(0)
 4860 1e1e 00C0      		rjmp .L488
 4861               	.L495:
 4862 1e20 82E0      		ldi r24,lo8(2)
 4863 1e22 FA01      		movw r30,r20
 4864 1e24 8083      		st Z,r24
 4865 1e26 C0E0      		ldi r28,lo8(0)
 4866 1e28 D0E0      		ldi r29,hi8(0)
 4867 1e2a 00C0      		rjmp .L488
 4868               	.L496:
 4869 1e2c 84E0      		ldi r24,lo8(4)
 4870 1e2e FA01      		movw r30,r20
 4871 1e30 8083      		st Z,r24
 4872 1e32 C0E0      		ldi r28,lo8(0)
 4873 1e34 D0E0      		ldi r29,hi8(0)
 4874 1e36 00C0      		rjmp .L488
 4875               	.L493:
 4876 1e38 C801      		movw r24,r16
 4877 1e3a 0E94 0000 		call OS_EventTO
 4878               	/* #APP */
 4879               	 ;  374 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4880 1e3e 7894      		sei
 4881               	 ;  0 "" 2
 4882               	/* #NOAPP */
 4883 1e40 8AE0      		ldi r24,lo8(10)
 4884 1e42 F701      		movw r30,r14
 4885 1e44 8083      		st Z,r24
 4886 1e46 00C0      		rjmp .L488
 4887               		.size	OSQPend, .-OSQPend
 4888               	.global	OSQDel
 4889               		.type	OSQDel, @function
 4890               	OSQDel:
 4891 1e48 FF92      		push r15
 4892 1e4a 0F93      		push r16
 4893 1e4c 1F93      		push r17
 4894 1e4e CF93      		push r28
 4895 1e50 DF93      		push r29
 4896               	/* prologue: function */
 4897               	/* frame size = 0 */
 4898 1e52 EC01      		movw r28,r24
 4899 1e54 8A01      		movw r16,r20
 4900 1e56 8091 0000 		lds r24,OSIntNesting
 4901 1e5a 8823      		tst r24
 4902 1e5c 01F0      		breq .+2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 87


 4903 1e5e 00C0      		rjmp .L516
 4904 1e60 2097      		sbiw r28,0
 4905 1e62 01F0      		breq .L517
 4906 1e64 8881      		ld r24,Y
 4907 1e66 8230      		cpi r24,lo8(2)
 4908 1e68 01F0      		breq .L503
 4909 1e6a 81E0      		ldi r24,lo8(1)
 4910 1e6c FA01      		movw r30,r20
 4911 1e6e 8083      		st Z,r24
 4912               	.L501:
 4913 1e70 CE01      		movw r24,r28
 4914               	/* epilogue start */
 4915 1e72 DF91      		pop r29
 4916 1e74 CF91      		pop r28
 4917 1e76 1F91      		pop r17
 4918 1e78 0F91      		pop r16
 4919 1e7a FF90      		pop r15
 4920 1e7c 0895      		ret
 4921               	.L503:
 4922               	/* #APP */
 4923               	 ;  200 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4924 1e7e F894      		cli
 4925               	 ;  0 "" 2
 4926               	/* #NOAPP */
 4927 1e80 F980      		ldd r15,Y+1
 4928 1e82 FF20      		tst r15
 4929 1e84 01F4      		brne .L518
 4930 1e86 6623      		tst r22
 4931 1e88 01F4      		brne .L519
 4932               	.L506:
 4933 1e8a FF20      		tst r15
 4934 1e8c 01F4      		brne .+2
 4935 1e8e 00C0      		rjmp .L520
 4936               	/* #APP */
 4937               	 ;  219 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4938 1e90 7894      		sei
 4939               	 ;  0 "" 2
 4940               	/* #NOAPP */
 4941 1e92 88E0      		ldi r24,lo8(8)
 4942 1e94 F801      		movw r30,r16
 4943 1e96 8083      		st Z,r24
 4944 1e98 00C0      		rjmp .L501
 4945               	.L519:
 4946 1e9a 6130      		cpi r22,lo8(1)
 4947 1e9c 01F0      		breq .L521
 4948               	/* #APP */
 4949               	 ;  242 "c:/WinAVR-work/lab2/source/os_q.c" 1
 4950 1e9e 7894      		sei
 4951               	 ;  0 "" 2
 4952               	/* #NOAPP */
 4953 1ea0 87E0      		ldi r24,lo8(7)
 4954 1ea2 F801      		movw r30,r16
 4955 1ea4 8083      		st Z,r24
 4956 1ea6 00C0      		rjmp .L501
 4957               	.L518:
 4958 1ea8 FF24      		clr r15
 4959 1eaa F394      		inc r15
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 88


 4960 1eac 6623      		tst r22
 4961 1eae 01F0      		breq .L506
 4962 1eb0 00C0      		rjmp .L519
 4963               	.L517:
 4964 1eb2 84E0      		ldi r24,lo8(4)
 4965 1eb4 FA01      		movw r30,r20
 4966 1eb6 8083      		st Z,r24
 4967 1eb8 CE01      		movw r24,r28
 4968 1eba DF91      		pop r29
 4969 1ebc CF91      		pop r28
 4970 1ebe 1F91      		pop r17
 4971 1ec0 0F91      		pop r16
 4972 1ec2 FF90      		pop r15
 4973 1ec4 0895      		ret
 4974               	.L521:
 4975 1ec6 FF20      		tst r15
 4976 1ec8 01F0      		breq .L509
 4977               	.L513:
 4978 1eca CE01      		movw r24,r28
 4979 1ecc 60E0      		ldi r22,lo8(0)
 4980 1ece 70E0      		ldi r23,hi8(0)
 4981 1ed0 44E0      		ldi r20,lo8(4)
 4982 1ed2 0E94 0000 		call OS_EventTaskRdy
 4983 1ed6 8981      		ldd r24,Y+1
 4984 1ed8 8823      		tst r24
 4985 1eda 01F4      		brne .L513
 4986               	.L509:
 4987 1edc EC81      		ldd r30,Y+4
 4988 1ede FD81      		ldd r31,Y+5
 4989 1ee0 8091 0000 		lds r24,OSQFreeList
 4990 1ee4 9091 0000 		lds r25,(OSQFreeList)+1
 4991 1ee8 9183      		std Z+1,r25
 4992 1eea 8083      		st Z,r24
 4993 1eec F093 0000 		sts (OSQFreeList)+1,r31
 4994 1ef0 E093 0000 		sts OSQFreeList,r30
 4995 1ef4 1882      		st Y,__zero_reg__
 4996 1ef6 8091 0000 		lds r24,OSEventFreeList
 4997 1efa 9091 0000 		lds r25,(OSEventFreeList)+1
 4998 1efe 9D83      		std Y+5,r25
 4999 1f00 8C83      		std Y+4,r24
 5000 1f02 D093 0000 		sts (OSEventFreeList)+1,r29
 5001 1f06 C093 0000 		sts OSEventFreeList,r28
 5002               	/* #APP */
 5003               	 ;  234 "c:/WinAVR-work/lab2/source/os_q.c" 1
 5004 1f0a 7894      		sei
 5005               	 ;  0 "" 2
 5006               	/* #NOAPP */
 5007 1f0c F1E0      		ldi r31,lo8(1)
 5008 1f0e FF16      		cp r15,r31
 5009 1f10 01F0      		breq .L522
 5010               	.L511:
 5011 1f12 F801      		movw r30,r16
 5012 1f14 1082      		st Z,__zero_reg__
 5013 1f16 C0E0      		ldi r28,lo8(0)
 5014 1f18 D0E0      		ldi r29,hi8(0)
 5015 1f1a 00C0      		rjmp .L501
 5016               	.L516:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 89


 5017 1f1c 8CE8      		ldi r24,lo8(-116)
 5018 1f1e FA01      		movw r30,r20
 5019 1f20 8083      		st Z,r24
 5020 1f22 C0E0      		ldi r28,lo8(0)
 5021 1f24 D0E0      		ldi r29,hi8(0)
 5022 1f26 00C0      		rjmp .L501
 5023               	.L522:
 5024 1f28 0E94 0000 		call OS_Sched
 5025 1f2c 00C0      		rjmp .L511
 5026               	.L520:
 5027 1f2e EC81      		ldd r30,Y+4
 5028 1f30 FD81      		ldd r31,Y+5
 5029 1f32 8091 0000 		lds r24,OSQFreeList
 5030 1f36 9091 0000 		lds r25,(OSQFreeList)+1
 5031 1f3a 9183      		std Z+1,r25
 5032 1f3c 8083      		st Z,r24
 5033 1f3e F093 0000 		sts (OSQFreeList)+1,r31
 5034 1f42 E093 0000 		sts OSQFreeList,r30
 5035 1f46 1882      		st Y,__zero_reg__
 5036 1f48 8091 0000 		lds r24,OSEventFreeList
 5037 1f4c 9091 0000 		lds r25,(OSEventFreeList)+1
 5038 1f50 9D83      		std Y+5,r25
 5039 1f52 8C83      		std Y+4,r24
 5040 1f54 D093 0000 		sts (OSEventFreeList)+1,r29
 5041 1f58 C093 0000 		sts OSEventFreeList,r28
 5042               	/* #APP */
 5043               	 ;  215 "c:/WinAVR-work/lab2/source/os_q.c" 1
 5044 1f5c 7894      		sei
 5045               	 ;  0 "" 2
 5046               	/* #NOAPP */
 5047 1f5e F801      		movw r30,r16
 5048 1f60 1082      		st Z,__zero_reg__
 5049 1f62 C0E0      		ldi r28,lo8(0)
 5050 1f64 D0E0      		ldi r29,hi8(0)
 5051 1f66 00C0      		rjmp .L501
 5052               		.size	OSQDel, .-OSQDel
 5053               	.global	OSMutexPost
 5054               		.type	OSMutexPost, @function
 5055               	OSMutexPost:
 5056 1f68 CF93      		push r28
 5057 1f6a DF93      		push r29
 5058               	/* prologue: function */
 5059               	/* frame size = 0 */
 5060 1f6c EC01      		movw r28,r24
 5061 1f6e 8091 0000 		lds r24,OSIntNesting
 5062 1f72 8823      		tst r24
 5063 1f74 01F4      		brne .L534
 5064 1f76 2097      		sbiw r28,0
 5065 1f78 01F0      		breq .L535
 5066 1f7a 8881      		ld r24,Y
 5067 1f7c 8430      		cpi r24,lo8(4)
 5068 1f7e 01F0      		breq .L527
 5069 1f80 81E0      		ldi r24,lo8(1)
 5070               	.L525:
 5071               	/* epilogue start */
 5072 1f82 DF91      		pop r29
 5073 1f84 CF91      		pop r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 90


 5074 1f86 0895      		ret
 5075               	.L527:
 5076               	/* #APP */
 5077               	 ;  419 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5078 1f88 F894      		cli
 5079               	 ;  0 "" 2
 5080               	/* #NOAPP */
 5081 1f8a 3A81      		ldd r19,Y+2
 5082 1f8c 4B81      		ldd r20,Y+3
 5083 1f8e A091 0000 		lds r26,OSTCBCur
 5084 1f92 B091 0000 		lds r27,(OSTCBCur)+1
 5085 1f96 5C96      		adiw r26,28
 5086 1f98 8C91      		ld r24,X
 5087 1f9a 5C97      		sbiw r26,28
 5088 1f9c 8417      		cp r24,r20
 5089 1f9e 01F0      		breq .L528
 5090 1fa0 3817      		cp r19,r24
 5091 1fa2 01F4      		brne .+2
 5092 1fa4 00C0      		rjmp .L529
 5093               	/* #APP */
 5094               	 ;  424 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5095 1fa6 7894      		sei
 5096               	 ;  0 "" 2
 5097               	/* #NOAPP */
 5098 1fa8 88E7      		ldi r24,lo8(120)
 5099 1faa DF91      		pop r29
 5100 1fac CF91      		pop r28
 5101 1fae 0895      		ret
 5102               	.L534:
 5103 1fb0 85E0      		ldi r24,lo8(5)
 5104 1fb2 DF91      		pop r29
 5105 1fb4 CF91      		pop r28
 5106 1fb6 0895      		ret
 5107               	.L535:
 5108 1fb8 84E0      		ldi r24,lo8(4)
 5109 1fba 00C0      		rjmp .L525
 5110               	.L528:
 5111 1fbc 5E96      		adiw r26,30
 5112 1fbe EC91      		ld r30,X
 5113 1fc0 5E97      		sbiw r26,30
 5114 1fc2 F0E0      		ldi r31,lo8(0)
 5115 1fc4 E050      		subi r30,lo8(-(OSRdyTbl))
 5116 1fc6 F040      		sbci r31,hi8(-(OSRdyTbl))
 5117 1fc8 5F96      		adiw r26,31
 5118 1fca 8C91      		ld r24,X
 5119 1fcc 5F97      		sbiw r26,31
 5120 1fce 8095      		com r24
 5121 1fd0 9081      		ld r25,Z
 5122 1fd2 8923      		and r24,r25
 5123 1fd4 8083      		st Z,r24
 5124 1fd6 8823      		tst r24
 5125 1fd8 01F4      		brne .L530
 5126 1fda 9096      		adiw r26,32
 5127 1fdc 9C91      		ld r25,X
 5128 1fde 9097      		sbiw r26,32
 5129 1fe0 9095      		com r25
 5130 1fe2 8091 0000 		lds r24,OSRdyGrp
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 91


 5131 1fe6 8923      		and r24,r25
 5132 1fe8 8093 0000 		sts OSRdyGrp,r24
 5133               	.L530:
 5134 1fec 5C96      		adiw r26,28
 5135 1fee 3C93      		st X,r19
 5136 1ff0 5C97      		sbiw r26,28
 5137 1ff2 E32F      		mov r30,r19
 5138 1ff4 E695      		lsr r30
 5139 1ff6 E695      		lsr r30
 5140 1ff8 E695      		lsr r30
 5141 1ffa 5E96      		adiw r26,30
 5142 1ffc EC93      		st X,r30
 5143 1ffe 5E97      		sbiw r26,30
 5144 2000 F0E0      		ldi r31,lo8(0)
 5145 2002 E050      		subi r30,lo8(-(OSMapTbl))
 5146 2004 F040      		sbci r31,hi8(-(OSMapTbl))
 5147 2006 2081      		ld r18,Z
 5148 2008 9096      		adiw r26,32
 5149 200a 2C93      		st X,r18
 5150 200c 9097      		sbiw r26,32
 5151 200e E32F      		mov r30,r19
 5152 2010 E770      		andi r30,lo8(7)
 5153 2012 5D96      		adiw r26,29
 5154 2014 EC93      		st X,r30
 5155 2016 5D97      		sbiw r26,29
 5156 2018 F0E0      		ldi r31,lo8(0)
 5157 201a E050      		subi r30,lo8(-(OSMapTbl))
 5158 201c F040      		sbci r31,hi8(-(OSMapTbl))
 5159 201e 9081      		ld r25,Z
 5160 2020 5F96      		adiw r26,31
 5161 2022 9C93      		st X,r25
 5162 2024 5F97      		sbiw r26,31
 5163 2026 8091 0000 		lds r24,OSRdyGrp
 5164 202a 822B      		or r24,r18
 5165 202c 8093 0000 		sts OSRdyGrp,r24
 5166 2030 5E96      		adiw r26,30
 5167 2032 EC91      		ld r30,X
 5168 2034 5E97      		sbiw r26,30
 5169 2036 F0E0      		ldi r31,lo8(0)
 5170 2038 E050      		subi r30,lo8(-(OSRdyTbl))
 5171 203a F040      		sbci r31,hi8(-(OSRdyTbl))
 5172 203c 8081      		ld r24,Z
 5173 203e 982B      		or r25,r24
 5174 2040 9083      		st Z,r25
 5175 2042 E32F      		mov r30,r19
 5176 2044 F0E0      		ldi r31,lo8(0)
 5177 2046 EE0F      		lsl r30
 5178 2048 FF1F      		rol r31
 5179 204a E050      		subi r30,lo8(-(OSTCBPrioTbl))
 5180 204c F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 5181 204e B183      		std Z+1,r27
 5182 2050 A083      		st Z,r26
 5183               	.L529:
 5184 2052 E42F      		mov r30,r20
 5185 2054 F0E0      		ldi r31,lo8(0)
 5186 2056 EE0F      		lsl r30
 5187 2058 FF1F      		rol r31
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 92


 5188 205a E050      		subi r30,lo8(-(OSTCBPrioTbl))
 5189 205c F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 5190 205e 81E0      		ldi r24,lo8(1)
 5191 2060 90E0      		ldi r25,hi8(1)
 5192 2062 9183      		std Z+1,r25
 5193 2064 8083      		st Z,r24
 5194 2066 8981      		ldd r24,Y+1
 5195 2068 8823      		tst r24
 5196 206a 01F4      		brne .L536
 5197 206c 8A81      		ldd r24,Y+2
 5198 206e 9B81      		ldd r25,Y+3
 5199 2070 8F6F      		ori r24,lo8(255)
 5200 2072 9B83      		std Y+3,r25
 5201 2074 8A83      		std Y+2,r24
 5202 2076 1D82      		std Y+5,__zero_reg__
 5203 2078 1C82      		std Y+4,__zero_reg__
 5204               	/* #APP */
 5205               	 ;  455 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5206 207a 7894      		sei
 5207               	 ;  0 "" 2
 5208               	/* #NOAPP */
 5209 207c 80E0      		ldi r24,lo8(0)
 5210 207e 00C0      		rjmp .L525
 5211               	.L536:
 5212 2080 CE01      		movw r24,r28
 5213 2082 60E0      		ldi r22,lo8(0)
 5214 2084 70E0      		ldi r23,hi8(0)
 5215 2086 40E1      		ldi r20,lo8(16)
 5216 2088 0E94 0000 		call OS_EventTaskRdy
 5217 208c E82F      		mov r30,r24
 5218 208e F0E0      		ldi r31,lo8(0)
 5219 2090 8A81      		ldd r24,Y+2
 5220 2092 9B81      		ldd r25,Y+3
 5221 2094 8070      		andi r24,lo8(-256)
 5222 2096 8E2B      		or r24,r30
 5223 2098 9F2B      		or r25,r31
 5224 209a 9B83      		std Y+3,r25
 5225 209c 8A83      		std Y+2,r24
 5226 209e EE0F      		lsl r30
 5227 20a0 FF1F      		rol r31
 5228 20a2 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 5229 20a4 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 5230 20a6 8081      		ld r24,Z
 5231 20a8 9181      		ldd r25,Z+1
 5232 20aa 9D83      		std Y+5,r25
 5233 20ac 8C83      		std Y+4,r24
 5234               	/* #APP */
 5235               	 ;  449 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5236 20ae 7894      		sei
 5237               	 ;  0 "" 2
 5238               	/* #NOAPP */
 5239 20b0 0E94 0000 		call OS_Sched
 5240 20b4 80E0      		ldi r24,lo8(0)
 5241 20b6 00C0      		rjmp .L525
 5242               		.size	OSMutexPost, .-OSMutexPost
 5243               	.global	OSMutexPend
 5244               		.type	OSMutexPend, @function
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 93


 5245               	OSMutexPend:
 5246 20b8 0F93      		push r16
 5247 20ba 1F93      		push r17
 5248 20bc CF93      		push r28
 5249 20be DF93      		push r29
 5250               	/* prologue: function */
 5251               	/* frame size = 0 */
 5252 20c0 EC01      		movw r28,r24
 5253 20c2 8A01      		movw r16,r20
 5254 20c4 8091 0000 		lds r24,OSIntNesting
 5255 20c8 8823      		tst r24
 5256 20ca 01F4      		brne .L552
 5257 20cc 2097      		sbiw r28,0
 5258 20ce 01F0      		breq .L553
 5259 20d0 8881      		ld r24,Y
 5260 20d2 8430      		cpi r24,lo8(4)
 5261 20d4 01F0      		breq .L541
 5262 20d6 81E0      		ldi r24,lo8(1)
 5263 20d8 FA01      		movw r30,r20
 5264 20da 8083      		st Z,r24
 5265               	.L548:
 5266               	/* epilogue start */
 5267 20dc DF91      		pop r29
 5268 20de CF91      		pop r28
 5269 20e0 1F91      		pop r17
 5270 20e2 0F91      		pop r16
 5271 20e4 0895      		ret
 5272               	.L552:
 5273 20e6 82E0      		ldi r24,lo8(2)
 5274 20e8 FA01      		movw r30,r20
 5275 20ea 8083      		st Z,r24
 5276 20ec DF91      		pop r29
 5277 20ee CF91      		pop r28
 5278 20f0 1F91      		pop r17
 5279 20f2 0F91      		pop r16
 5280 20f4 0895      		ret
 5281               	.L553:
 5282 20f6 84E0      		ldi r24,lo8(4)
 5283 20f8 FA01      		movw r30,r20
 5284 20fa 8083      		st Z,r24
 5285 20fc 00C0      		rjmp .L548
 5286               	.L541:
 5287               	/* #APP */
 5288               	 ;  331 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5289 20fe F894      		cli
 5290               	 ;  0 "" 2
 5291               	/* #NOAPP */
 5292 2100 2A81      		ldd r18,Y+2
 5293 2102 3B81      		ldd r19,Y+3
 5294 2104 2F3F      		cpi r18,lo8(-1)
 5295 2106 01F4      		brne .+2
 5296 2108 00C0      		rjmp .L554
 5297 210a 432F      		mov r20,r19
 5298 210c AC81      		ldd r26,Y+4
 5299 210e BD81      		ldd r27,Y+5
 5300 2110 5C96      		adiw r26,28
 5301 2112 8C91      		ld r24,X
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 94


 5302 2114 5C97      		sbiw r26,28
 5303 2116 8317      		cp r24,r19
 5304 2118 01F4      		brne .+2
 5305 211a 00C0      		rjmp .L551
 5306 211c E091 0000 		lds r30,OSTCBCur
 5307 2120 F091 0000 		lds r31,(OSTCBCur)+1
 5308 2124 848D      		ldd r24,Z+28
 5309 2126 8217      		cp r24,r18
 5310 2128 00F0      		brlo .+2
 5311 212a 00C0      		rjmp .L543
 5312 212c 5E96      		adiw r26,30
 5313 212e 8C91      		ld r24,X
 5314 2130 5E97      		sbiw r26,30
 5315 2132 E82F      		mov r30,r24
 5316 2134 F0E0      		ldi r31,lo8(0)
 5317 2136 E050      		subi r30,lo8(-(OSRdyTbl))
 5318 2138 F040      		sbci r31,hi8(-(OSRdyTbl))
 5319 213a 5081      		ld r21,Z
 5320 213c 5F96      		adiw r26,31
 5321 213e 9C91      		ld r25,X
 5322 2140 5F97      		sbiw r26,31
 5323 2142 852F      		mov r24,r21
 5324 2144 8923      		and r24,r25
 5325 2146 01F4      		brne .+2
 5326 2148 00C0      		rjmp .L544
 5327 214a 892F      		mov r24,r25
 5328 214c 8095      		com r24
 5329 214e 8523      		and r24,r21
 5330 2150 8083      		st Z,r24
 5331 2152 8823      		tst r24
 5332 2154 01F4      		brne .L545
 5333 2156 9096      		adiw r26,32
 5334 2158 9C91      		ld r25,X
 5335 215a 9097      		sbiw r26,32
 5336 215c 9095      		com r25
 5337 215e 8091 0000 		lds r24,OSRdyGrp
 5338 2162 8923      		and r24,r25
 5339 2164 8093 0000 		sts OSRdyGrp,r24
 5340               	.L545:
 5341 2168 5C96      		adiw r26,28
 5342 216a 4C93      		st X,r20
 5343 216c 5C97      		sbiw r26,28
 5344 216e E42F      		mov r30,r20
 5345 2170 E695      		lsr r30
 5346 2172 E695      		lsr r30
 5347 2174 E695      		lsr r30
 5348 2176 5E96      		adiw r26,30
 5349 2178 EC93      		st X,r30
 5350 217a 5E97      		sbiw r26,30
 5351 217c F0E0      		ldi r31,lo8(0)
 5352 217e E050      		subi r30,lo8(-(OSMapTbl))
 5353 2180 F040      		sbci r31,hi8(-(OSMapTbl))
 5354 2182 2081      		ld r18,Z
 5355 2184 9096      		adiw r26,32
 5356 2186 2C93      		st X,r18
 5357 2188 9097      		sbiw r26,32
 5358 218a E42F      		mov r30,r20
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 95


 5359 218c E770      		andi r30,lo8(7)
 5360 218e 5D96      		adiw r26,29
 5361 2190 EC93      		st X,r30
 5362 2192 5D97      		sbiw r26,29
 5363 2194 F0E0      		ldi r31,lo8(0)
 5364 2196 E050      		subi r30,lo8(-(OSMapTbl))
 5365 2198 F040      		sbci r31,hi8(-(OSMapTbl))
 5366 219a 9081      		ld r25,Z
 5367 219c 5F96      		adiw r26,31
 5368 219e 9C93      		st X,r25
 5369 21a0 5F97      		sbiw r26,31
 5370 21a2 8091 0000 		lds r24,OSRdyGrp
 5371 21a6 822B      		or r24,r18
 5372 21a8 8093 0000 		sts OSRdyGrp,r24
 5373 21ac 5E96      		adiw r26,30
 5374 21ae EC91      		ld r30,X
 5375 21b0 5E97      		sbiw r26,30
 5376 21b2 F0E0      		ldi r31,lo8(0)
 5377 21b4 E050      		subi r30,lo8(-(OSRdyTbl))
 5378 21b6 F040      		sbci r31,hi8(-(OSRdyTbl))
 5379 21b8 8081      		ld r24,Z
 5380 21ba 982B      		or r25,r24
 5381 21bc 9083      		st Z,r25
 5382               	.L547:
 5383 21be E42F      		mov r30,r20
 5384 21c0 F0E0      		ldi r31,lo8(0)
 5385 21c2 EE0F      		lsl r30
 5386 21c4 FF1F      		rol r31
 5387 21c6 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 5388 21c8 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 5389 21ca B183      		std Z+1,r27
 5390 21cc A083      		st Z,r26
 5391               	.L551:
 5392 21ce E091 0000 		lds r30,OSTCBCur
 5393 21d2 F091 0000 		lds r31,(OSTCBCur)+1
 5394               	.L543:
 5395 21d6 838D      		ldd r24,Z+27
 5396 21d8 8061      		ori r24,lo8(16)
 5397 21da 838F      		std Z+27,r24
 5398 21dc 728F      		std Z+26,r23
 5399 21de 618F      		std Z+25,r22
 5400 21e0 CE01      		movw r24,r28
 5401 21e2 0E94 0000 		call OS_EventTaskWait
 5402               	/* #APP */
 5403               	 ;  368 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5404 21e6 7894      		sei
 5405               	 ;  0 "" 2
 5406               	/* #NOAPP */
 5407 21e8 0E94 0000 		call OS_Sched
 5408               	/* #APP */
 5409               	 ;  370 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5410 21ec F894      		cli
 5411               	 ;  0 "" 2
 5412               	/* #NOAPP */
 5413 21ee E091 0000 		lds r30,OSTCBCur
 5414 21f2 F091 0000 		lds r31,(OSTCBCur)+1
 5415 21f6 838D      		ldd r24,Z+27
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 96


 5416 21f8 84FD      		sbrc r24,4
 5417 21fa 00C0      		rjmp .L555
 5418 21fc 138A      		std Z+19,__zero_reg__
 5419 21fe 128A      		std Z+18,__zero_reg__
 5420               	/* #APP */
 5421               	 ;  378 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5422 2200 7894      		sei
 5423               	 ;  0 "" 2
 5424               	/* #NOAPP */
 5425 2202 F801      		movw r30,r16
 5426 2204 1082      		st Z,__zero_reg__
 5427 2206 00C0      		rjmp .L548
 5428               	.L554:
 5429 2208 E091 0000 		lds r30,OSTCBCur
 5430 220c F091 0000 		lds r31,(OSTCBCur)+1
 5431 2210 848D      		ldd r24,Z+28
 5432 2212 90E0      		ldi r25,lo8(0)
 5433 2214 2070      		andi r18,lo8(-256)
 5434 2216 822B      		or r24,r18
 5435 2218 932B      		or r25,r19
 5436 221a 9B83      		std Y+3,r25
 5437 221c 8A83      		std Y+2,r24
 5438 221e FD83      		std Y+5,r31
 5439 2220 EC83      		std Y+4,r30
 5440               	/* #APP */
 5441               	 ;  336 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5442 2222 7894      		sei
 5443               	 ;  0 "" 2
 5444               	/* #NOAPP */
 5445 2224 FA01      		movw r30,r20
 5446 2226 1082      		st Z,__zero_reg__
 5447 2228 00C0      		rjmp .L548
 5448               	.L555:
 5449 222a CE01      		movw r24,r28
 5450 222c 0E94 0000 		call OS_EventTO
 5451               	/* #APP */
 5452               	 ;  373 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5453 2230 7894      		sei
 5454               	 ;  0 "" 2
 5455               	/* #NOAPP */
 5456 2232 8AE0      		ldi r24,lo8(10)
 5457 2234 F801      		movw r30,r16
 5458 2236 8083      		st Z,r24
 5459 2238 00C0      		rjmp .L548
 5460               	.L544:
 5461 223a 5C96      		adiw r26,28
 5462 223c 3C93      		st X,r19
 5463 223e 5C97      		sbiw r26,28
 5464 2240 E32F      		mov r30,r19
 5465 2242 E695      		lsr r30
 5466 2244 E695      		lsr r30
 5467 2246 E695      		lsr r30
 5468 2248 5E96      		adiw r26,30
 5469 224a EC93      		st X,r30
 5470 224c 5E97      		sbiw r26,30
 5471 224e F0E0      		ldi r31,lo8(0)
 5472 2250 E050      		subi r30,lo8(-(OSMapTbl))
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 97


 5473 2252 F040      		sbci r31,hi8(-(OSMapTbl))
 5474 2254 8081      		ld r24,Z
 5475 2256 9096      		adiw r26,32
 5476 2258 8C93      		st X,r24
 5477 225a 9097      		sbiw r26,32
 5478 225c E32F      		mov r30,r19
 5479 225e E770      		andi r30,lo8(7)
 5480 2260 5D96      		adiw r26,29
 5481 2262 EC93      		st X,r30
 5482 2264 5D97      		sbiw r26,29
 5483 2266 F0E0      		ldi r31,lo8(0)
 5484 2268 E050      		subi r30,lo8(-(OSMapTbl))
 5485 226a F040      		sbci r31,hi8(-(OSMapTbl))
 5486 226c 8081      		ld r24,Z
 5487 226e 5F96      		adiw r26,31
 5488 2270 8C93      		st X,r24
 5489 2272 5F97      		sbiw r26,31
 5490 2274 00C0      		rjmp .L547
 5491               		.size	OSMutexPend, .-OSMutexPend
 5492               	.global	OSMutexDel
 5493               		.type	OSMutexDel, @function
 5494               	OSMutexDel:
 5495 2276 FF92      		push r15
 5496 2278 0F93      		push r16
 5497 227a 1F93      		push r17
 5498 227c CF93      		push r28
 5499 227e DF93      		push r29
 5500               	/* prologue: function */
 5501               	/* frame size = 0 */
 5502 2280 EC01      		movw r28,r24
 5503 2282 8A01      		movw r16,r20
 5504 2284 8091 0000 		lds r24,OSIntNesting
 5505 2288 8823      		tst r24
 5506 228a 01F4      		brne .L573
 5507 228c 2097      		sbiw r28,0
 5508 228e 01F4      		brne .+2
 5509 2290 00C0      		rjmp .L574
 5510 2292 8881      		ld r24,Y
 5511 2294 8430      		cpi r24,lo8(4)
 5512 2296 01F0      		breq .L560
 5513 2298 81E0      		ldi r24,lo8(1)
 5514 229a FA01      		movw r30,r20
 5515 229c 8083      		st Z,r24
 5516               	.L558:
 5517 229e CE01      		movw r24,r28
 5518               	/* epilogue start */
 5519 22a0 DF91      		pop r29
 5520 22a2 CF91      		pop r28
 5521 22a4 1F91      		pop r17
 5522 22a6 0F91      		pop r16
 5523 22a8 FF90      		pop r15
 5524 22aa 0895      		ret
 5525               	.L573:
 5526 22ac 8CE8      		ldi r24,lo8(-116)
 5527 22ae FA01      		movw r30,r20
 5528 22b0 8083      		st Z,r24
 5529 22b2 CE01      		movw r24,r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 98


 5530 22b4 DF91      		pop r29
 5531 22b6 CF91      		pop r28
 5532 22b8 1F91      		pop r17
 5533 22ba 0F91      		pop r16
 5534 22bc FF90      		pop r15
 5535 22be 0895      		ret
 5536               	.L560:
 5537               	/* #APP */
 5538               	 ;  229 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5539 22c0 F894      		cli
 5540               	 ;  0 "" 2
 5541               	/* #NOAPP */
 5542 22c2 F980      		ldd r15,Y+1
 5543 22c4 FF20      		tst r15
 5544 22c6 01F0      		breq .L561
 5545 22c8 FF24      		clr r15
 5546 22ca F394      		inc r15
 5547               	.L561:
 5548 22cc 6623      		tst r22
 5549 22ce 01F4      		brne .L575
 5550 22d0 FF20      		tst r15
 5551 22d2 01F0      		breq .L576
 5552               	/* #APP */
 5553               	 ;  247 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5554 22d4 7894      		sei
 5555               	 ;  0 "" 2
 5556               	/* #NOAPP */
 5557 22d6 88E0      		ldi r24,lo8(8)
 5558 22d8 F801      		movw r30,r16
 5559 22da 8083      		st Z,r24
 5560 22dc 00C0      		rjmp .L558
 5561               	.L575:
 5562 22de 6130      		cpi r22,lo8(1)
 5563 22e0 01F0      		breq .L577
 5564               	/* #APP */
 5565               	 ;  269 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5566 22e2 7894      		sei
 5567               	 ;  0 "" 2
 5568               	/* #NOAPP */
 5569 22e4 87E0      		ldi r24,lo8(7)
 5570 22e6 F801      		movw r30,r16
 5571 22e8 8083      		st Z,r24
 5572 22ea 00C0      		rjmp .L558
 5573               	.L577:
 5574 22ec FF20      		tst r15
 5575 22ee 01F0      		breq .L566
 5576               	.L570:
 5577 22f0 CE01      		movw r24,r28
 5578 22f2 60E0      		ldi r22,lo8(0)
 5579 22f4 70E0      		ldi r23,hi8(0)
 5580 22f6 40E1      		ldi r20,lo8(16)
 5581 22f8 0E94 0000 		call OS_EventTaskRdy
 5582 22fc 8981      		ldd r24,Y+1
 5583 22fe 8823      		tst r24
 5584 2300 01F4      		brne .L570
 5585               	.L566:
 5586 2302 EB81      		ldd r30,Y+3
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 99


 5587 2304 F0E0      		ldi r31,lo8(0)
 5588 2306 EE0F      		lsl r30
 5589 2308 FF1F      		rol r31
 5590 230a E050      		subi r30,lo8(-(OSTCBPrioTbl))
 5591 230c F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 5592 230e 1182      		std Z+1,__zero_reg__
 5593 2310 1082      		st Z,__zero_reg__
 5594 2312 1882      		st Y,__zero_reg__
 5595 2314 8091 0000 		lds r24,OSEventFreeList
 5596 2318 9091 0000 		lds r25,(OSEventFreeList)+1
 5597 231c 9D83      		std Y+5,r25
 5598 231e 8C83      		std Y+4,r24
 5599 2320 D093 0000 		sts (OSEventFreeList)+1,r29
 5600 2324 C093 0000 		sts OSEventFreeList,r28
 5601               	/* #APP */
 5602               	 ;  261 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5603 2328 7894      		sei
 5604               	 ;  0 "" 2
 5605               	/* #NOAPP */
 5606 232a F1E0      		ldi r31,lo8(1)
 5607 232c FF16      		cp r15,r31
 5608 232e 01F0      		breq .L578
 5609               	.L568:
 5610 2330 F801      		movw r30,r16
 5611 2332 1082      		st Z,__zero_reg__
 5612 2334 C0E0      		ldi r28,lo8(0)
 5613 2336 D0E0      		ldi r29,hi8(0)
 5614 2338 00C0      		rjmp .L558
 5615               	.L578:
 5616 233a 0E94 0000 		call OS_Sched
 5617 233e 00C0      		rjmp .L568
 5618               	.L574:
 5619 2340 84E0      		ldi r24,lo8(4)
 5620 2342 FA01      		movw r30,r20
 5621 2344 8083      		st Z,r24
 5622 2346 00C0      		rjmp .L558
 5623               	.L576:
 5624 2348 EB81      		ldd r30,Y+3
 5625 234a F0E0      		ldi r31,lo8(0)
 5626 234c EE0F      		lsl r30
 5627 234e FF1F      		rol r31
 5628 2350 E050      		subi r30,lo8(-(OSTCBPrioTbl))
 5629 2352 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 5630 2354 1182      		std Z+1,__zero_reg__
 5631 2356 1082      		st Z,__zero_reg__
 5632 2358 1882      		st Y,__zero_reg__
 5633 235a 8091 0000 		lds r24,OSEventFreeList
 5634 235e 9091 0000 		lds r25,(OSEventFreeList)+1
 5635 2362 9D83      		std Y+5,r25
 5636 2364 8C83      		std Y+4,r24
 5637 2366 D093 0000 		sts (OSEventFreeList)+1,r29
 5638 236a C093 0000 		sts OSEventFreeList,r28
 5639               	/* #APP */
 5640               	 ;  243 "c:/WinAVR-work/lab2/source/os_mutex.c" 1
 5641 236e 7894      		sei
 5642               	 ;  0 "" 2
 5643               	/* #NOAPP */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 100


 5644 2370 F801      		movw r30,r16
 5645 2372 1082      		st Z,__zero_reg__
 5646 2374 C0E0      		ldi r28,lo8(0)
 5647 2376 D0E0      		ldi r29,hi8(0)
 5648 2378 00C0      		rjmp .L558
 5649               		.size	OSMutexDel, .-OSMutexDel
 5650               	.global	OSMboxPostOpt
 5651               		.type	OSMboxPostOpt, @function
 5652               	OSMboxPostOpt:
 5653 237a 0F93      		push r16
 5654 237c 1F93      		push r17
 5655 237e CF93      		push r28
 5656 2380 DF93      		push r29
 5657               	/* prologue: function */
 5658               	/* frame size = 0 */
 5659 2382 EC01      		movw r28,r24
 5660 2384 8B01      		movw r16,r22
 5661 2386 0097      		sbiw r24,0
 5662 2388 01F0      		breq .L592
 5663 238a 6115      		cp r22,__zero_reg__
 5664 238c 7105      		cpc r23,__zero_reg__
 5665 238e 01F0      		breq .L593
 5666 2390 8881      		ld r24,Y
 5667 2392 8130      		cpi r24,lo8(1)
 5668 2394 01F0      		breq .L583
 5669 2396 81E0      		ldi r24,lo8(1)
 5670               	.L581:
 5671               	/* epilogue start */
 5672 2398 DF91      		pop r29
 5673 239a CF91      		pop r28
 5674 239c 1F91      		pop r17
 5675 239e 0F91      		pop r16
 5676 23a0 0895      		ret
 5677               	.L583:
 5678               	/* #APP */
 5679               	 ;  393 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5680 23a2 F894      		cli
 5681               	 ;  0 "" 2
 5682               	/* #NOAPP */
 5683 23a4 8981      		ldd r24,Y+1
 5684 23a6 8823      		tst r24
 5685 23a8 01F0      		breq .L584
 5686 23aa 40FF      		sbrs r20,0
 5687 23ac 00C0      		rjmp .L585
 5688               	.L590:
 5689 23ae CE01      		movw r24,r28
 5690 23b0 B801      		movw r22,r16
 5691 23b2 42E0      		ldi r20,lo8(2)
 5692 23b4 0E94 0000 		call OS_EventTaskRdy
 5693 23b8 8981      		ldd r24,Y+1
 5694 23ba 8823      		tst r24
 5695 23bc 01F4      		brne .L590
 5696               	.L587:
 5697               	/* #APP */
 5698               	 ;  402 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5699 23be 7894      		sei
 5700               	 ;  0 "" 2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 101


 5701               	/* #NOAPP */
 5702 23c0 0E94 0000 		call OS_Sched
 5703 23c4 80E0      		ldi r24,lo8(0)
 5704 23c6 DF91      		pop r29
 5705 23c8 CF91      		pop r28
 5706 23ca 1F91      		pop r17
 5707 23cc 0F91      		pop r16
 5708 23ce 0895      		ret
 5709               	.L584:
 5710 23d0 8C81      		ldd r24,Y+4
 5711 23d2 9D81      		ldd r25,Y+5
 5712 23d4 892B      		or r24,r25
 5713 23d6 01F0      		breq .L588
 5714               	/* #APP */
 5715               	 ;  407 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5716 23d8 7894      		sei
 5717               	 ;  0 "" 2
 5718               	/* #NOAPP */
 5719 23da 84E1      		ldi r24,lo8(20)
 5720 23dc DF91      		pop r29
 5721 23de CF91      		pop r28
 5722 23e0 1F91      		pop r17
 5723 23e2 0F91      		pop r16
 5724 23e4 0895      		ret
 5725               	.L593:
 5726 23e6 83E0      		ldi r24,lo8(3)
 5727 23e8 DF91      		pop r29
 5728 23ea CF91      		pop r28
 5729 23ec 1F91      		pop r17
 5730 23ee 0F91      		pop r16
 5731 23f0 0895      		ret
 5732               	.L592:
 5733 23f2 84E0      		ldi r24,lo8(4)
 5734 23f4 00C0      		rjmp .L581
 5735               	.L585:
 5736 23f6 CE01      		movw r24,r28
 5737 23f8 42E0      		ldi r20,lo8(2)
 5738 23fa 0E94 0000 		call OS_EventTaskRdy
 5739 23fe 00C0      		rjmp .L587
 5740               	.L588:
 5741 2400 7D83      		std Y+5,r23
 5742 2402 6C83      		std Y+4,r22
 5743               	/* #APP */
 5744               	 ;  411 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5745 2404 7894      		sei
 5746               	 ;  0 "" 2
 5747               	/* #NOAPP */
 5748 2406 80E0      		ldi r24,lo8(0)
 5749 2408 00C0      		rjmp .L581
 5750               		.size	OSMboxPostOpt, .-OSMboxPostOpt
 5751               	.global	OSMboxPost
 5752               		.type	OSMboxPost, @function
 5753               	OSMboxPost:
 5754               	/* prologue: function */
 5755               	/* frame size = 0 */
 5756 240a FC01      		movw r30,r24
 5757 240c 0097      		sbiw r24,0
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 102


 5758 240e 01F0      		breq .L602
 5759 2410 6115      		cp r22,__zero_reg__
 5760 2412 7105      		cpc r23,__zero_reg__
 5761 2414 01F0      		breq .L603
 5762 2416 8081      		ld r24,Z
 5763 2418 8130      		cpi r24,lo8(1)
 5764 241a 01F0      		breq .L598
 5765 241c 81E0      		ldi r24,lo8(1)
 5766 241e 0895      		ret
 5767               	.L598:
 5768               	/* #APP */
 5769               	 ;  328 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5770 2420 F894      		cli
 5771               	 ;  0 "" 2
 5772               	/* #NOAPP */
 5773 2422 8181      		ldd r24,Z+1
 5774 2424 8823      		tst r24
 5775 2426 01F4      		brne .L604
 5776 2428 8481      		ldd r24,Z+4
 5777 242a 9581      		ldd r25,Z+5
 5778 242c 892B      		or r24,r25
 5779 242e 01F0      		breq .L600
 5780               	/* #APP */
 5781               	 ;  336 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5782 2430 7894      		sei
 5783               	 ;  0 "" 2
 5784               	/* #NOAPP */
 5785 2432 84E1      		ldi r24,lo8(20)
 5786 2434 0895      		ret
 5787               	.L604:
 5788 2436 CF01      		movw r24,r30
 5789 2438 42E0      		ldi r20,lo8(2)
 5790 243a 0E94 0000 		call OS_EventTaskRdy
 5791               	/* #APP */
 5792               	 ;  331 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5793 243e 7894      		sei
 5794               	 ;  0 "" 2
 5795               	/* #NOAPP */
 5796 2440 0E94 0000 		call OS_Sched
 5797 2444 80E0      		ldi r24,lo8(0)
 5798 2446 0895      		ret
 5799               	.L603:
 5800 2448 83E0      		ldi r24,lo8(3)
 5801 244a 0895      		ret
 5802               	.L602:
 5803 244c 84E0      		ldi r24,lo8(4)
 5804 244e 0895      		ret
 5805               	.L600:
 5806 2450 7583      		std Z+5,r23
 5807 2452 6483      		std Z+4,r22
 5808               	/* #APP */
 5809               	 ;  340 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5810 2454 7894      		sei
 5811               	 ;  0 "" 2
 5812               	/* #NOAPP */
 5813 2456 80E0      		ldi r24,lo8(0)
 5814 2458 0895      		ret
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 103


 5815               		.size	OSMboxPost, .-OSMboxPost
 5816               	.global	OSMboxPend
 5817               		.type	OSMboxPend, @function
 5818               	OSMboxPend:
 5819 245a EF92      		push r14
 5820 245c FF92      		push r15
 5821 245e 0F93      		push r16
 5822 2460 1F93      		push r17
 5823 2462 CF93      		push r28
 5824 2464 DF93      		push r29
 5825               	/* prologue: function */
 5826               	/* frame size = 0 */
 5827 2466 8C01      		movw r16,r24
 5828 2468 7A01      		movw r14,r20
 5829 246a 8091 0000 		lds r24,OSIntNesting
 5830 246e 8823      		tst r24
 5831 2470 01F0      		breq .+2
 5832 2472 00C0      		rjmp .L613
 5833 2474 0115      		cp r16,__zero_reg__
 5834 2476 1105      		cpc r17,__zero_reg__
 5835 2478 01F4      		brne .+2
 5836 247a 00C0      		rjmp .L614
 5837 247c F801      		movw r30,r16
 5838 247e 8081      		ld r24,Z
 5839 2480 8130      		cpi r24,lo8(1)
 5840 2482 01F4      		brne .L615
 5841               	/* #APP */
 5842               	 ;  260 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5843 2484 F894      		cli
 5844               	 ;  0 "" 2
 5845               	/* #NOAPP */
 5846 2486 F801      		movw r30,r16
 5847 2488 C481      		ldd r28,Z+4
 5848 248a D581      		ldd r29,Z+5
 5849 248c 2097      		sbiw r28,0
 5850 248e 01F0      		breq .L610
 5851 2490 1582      		std Z+5,__zero_reg__
 5852 2492 1482      		std Z+4,__zero_reg__
 5853               	/* #APP */
 5854               	 ;  264 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5855 2494 7894      		sei
 5856               	 ;  0 "" 2
 5857               	/* #NOAPP */
 5858 2496 FA01      		movw r30,r20
 5859 2498 1082      		st Z,__zero_reg__
 5860               	.L607:
 5861 249a CE01      		movw r24,r28
 5862               	/* epilogue start */
 5863 249c DF91      		pop r29
 5864 249e CF91      		pop r28
 5865 24a0 1F91      		pop r17
 5866 24a2 0F91      		pop r16
 5867 24a4 FF90      		pop r15
 5868 24a6 EF90      		pop r14
 5869 24a8 0895      		ret
 5870               	.L615:
 5871 24aa 81E0      		ldi r24,lo8(1)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 104


 5872 24ac FA01      		movw r30,r20
 5873 24ae 8083      		st Z,r24
 5874 24b0 C0E0      		ldi r28,lo8(0)
 5875 24b2 D0E0      		ldi r29,hi8(0)
 5876 24b4 00C0      		rjmp .L607
 5877               	.L610:
 5878 24b6 E091 0000 		lds r30,OSTCBCur
 5879 24ba F091 0000 		lds r31,(OSTCBCur)+1
 5880 24be 838D      		ldd r24,Z+27
 5881 24c0 8260      		ori r24,lo8(2)
 5882 24c2 838F      		std Z+27,r24
 5883 24c4 728F      		std Z+26,r23
 5884 24c6 618F      		std Z+25,r22
 5885 24c8 C801      		movw r24,r16
 5886 24ca 0E94 0000 		call OS_EventTaskWait
 5887               	/* #APP */
 5888               	 ;  271 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5889 24ce 7894      		sei
 5890               	 ;  0 "" 2
 5891               	/* #NOAPP */
 5892 24d0 0E94 0000 		call OS_Sched
 5893               	/* #APP */
 5894               	 ;  273 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5895 24d4 F894      		cli
 5896               	 ;  0 "" 2
 5897               	/* #NOAPP */
 5898 24d6 E091 0000 		lds r30,OSTCBCur
 5899 24da F091 0000 		lds r31,(OSTCBCur)+1
 5900 24de C489      		ldd r28,Z+20
 5901 24e0 D589      		ldd r29,Z+21
 5902 24e2 2097      		sbiw r28,0
 5903 24e4 01F0      		breq .L611
 5904 24e6 158A      		std Z+21,__zero_reg__
 5905 24e8 148A      		std Z+20,__zero_reg__
 5906 24ea 138E      		std Z+27,__zero_reg__
 5907 24ec 138A      		std Z+19,__zero_reg__
 5908 24ee 128A      		std Z+18,__zero_reg__
 5909               	/* #APP */
 5910               	 ;  279 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5911 24f0 7894      		sei
 5912               	 ;  0 "" 2
 5913               	/* #NOAPP */
 5914 24f2 F701      		movw r30,r14
 5915 24f4 1082      		st Z,__zero_reg__
 5916 24f6 00C0      		rjmp .L607
 5917               	.L613:
 5918 24f8 82E0      		ldi r24,lo8(2)
 5919 24fa FA01      		movw r30,r20
 5920 24fc 8083      		st Z,r24
 5921 24fe C0E0      		ldi r28,lo8(0)
 5922 2500 D0E0      		ldi r29,hi8(0)
 5923 2502 00C0      		rjmp .L607
 5924               	.L614:
 5925 2504 84E0      		ldi r24,lo8(4)
 5926 2506 FA01      		movw r30,r20
 5927 2508 8083      		st Z,r24
 5928 250a C0E0      		ldi r28,lo8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 105


 5929 250c D0E0      		ldi r29,hi8(0)
 5930 250e 00C0      		rjmp .L607
 5931               	.L611:
 5932 2510 C801      		movw r24,r16
 5933 2512 0E94 0000 		call OS_EventTO
 5934               	/* #APP */
 5935               	 ;  284 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5936 2516 7894      		sei
 5937               	 ;  0 "" 2
 5938               	/* #NOAPP */
 5939 2518 8AE0      		ldi r24,lo8(10)
 5940 251a F701      		movw r30,r14
 5941 251c 8083      		st Z,r24
 5942 251e 00C0      		rjmp .L607
 5943               		.size	OSMboxPend, .-OSMboxPend
 5944               	.global	OSMboxDel
 5945               		.type	OSMboxDel, @function
 5946               	OSMboxDel:
 5947 2520 FF92      		push r15
 5948 2522 0F93      		push r16
 5949 2524 1F93      		push r17
 5950 2526 CF93      		push r28
 5951 2528 DF93      		push r29
 5952               	/* prologue: function */
 5953               	/* frame size = 0 */
 5954 252a EC01      		movw r28,r24
 5955 252c 8A01      		movw r16,r20
 5956 252e 8091 0000 		lds r24,OSIntNesting
 5957 2532 8823      		tst r24
 5958 2534 01F4      		brne .L633
 5959 2536 2097      		sbiw r28,0
 5960 2538 01F0      		breq .L634
 5961 253a 8881      		ld r24,Y
 5962 253c 8130      		cpi r24,lo8(1)
 5963 253e 01F0      		breq .L620
 5964 2540 81E0      		ldi r24,lo8(1)
 5965 2542 FA01      		movw r30,r20
 5966 2544 8083      		st Z,r24
 5967               	.L618:
 5968 2546 CE01      		movw r24,r28
 5969               	/* epilogue start */
 5970 2548 DF91      		pop r29
 5971 254a CF91      		pop r28
 5972 254c 1F91      		pop r17
 5973 254e 0F91      		pop r16
 5974 2550 FF90      		pop r15
 5975 2552 0895      		ret
 5976               	.L633:
 5977 2554 8CE8      		ldi r24,lo8(-116)
 5978 2556 FA01      		movw r30,r20
 5979 2558 8083      		st Z,r24
 5980 255a CE01      		movw r24,r28
 5981 255c DF91      		pop r29
 5982 255e CF91      		pop r28
 5983 2560 1F91      		pop r17
 5984 2562 0F91      		pop r16
 5985 2564 FF90      		pop r15
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 106


 5986 2566 0895      		ret
 5987               	.L634:
 5988 2568 84E0      		ldi r24,lo8(4)
 5989 256a FA01      		movw r30,r20
 5990 256c 8083      		st Z,r24
 5991 256e 00C0      		rjmp .L618
 5992               	.L620:
 5993               	/* #APP */
 5994               	 ;  163 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 5995 2570 F894      		cli
 5996               	 ;  0 "" 2
 5997               	/* #NOAPP */
 5998 2572 F980      		ldd r15,Y+1
 5999 2574 FF20      		tst r15
 6000 2576 01F0      		breq .L621
 6001 2578 FF24      		clr r15
 6002 257a F394      		inc r15
 6003               	.L621:
 6004 257c 6623      		tst r22
 6005 257e 01F4      		brne .L635
 6006 2580 FF20      		tst r15
 6007 2582 01F0      		breq .L636
 6008               	/* #APP */
 6009               	 ;  179 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 6010 2584 7894      		sei
 6011               	 ;  0 "" 2
 6012               	/* #NOAPP */
 6013 2586 88E0      		ldi r24,lo8(8)
 6014 2588 F801      		movw r30,r16
 6015 258a 8083      		st Z,r24
 6016 258c 00C0      		rjmp .L618
 6017               	.L635:
 6018 258e 6130      		cpi r22,lo8(1)
 6019 2590 01F0      		breq .L637
 6020               	/* #APP */
 6021               	 ;  199 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 6022 2592 7894      		sei
 6023               	 ;  0 "" 2
 6024               	/* #NOAPP */
 6025 2594 87E0      		ldi r24,lo8(7)
 6026 2596 F801      		movw r30,r16
 6027 2598 8083      		st Z,r24
 6028 259a 00C0      		rjmp .L618
 6029               	.L637:
 6030 259c FF20      		tst r15
 6031 259e 01F0      		breq .L626
 6032               	.L630:
 6033 25a0 CE01      		movw r24,r28
 6034 25a2 60E0      		ldi r22,lo8(0)
 6035 25a4 70E0      		ldi r23,hi8(0)
 6036 25a6 42E0      		ldi r20,lo8(2)
 6037 25a8 0E94 0000 		call OS_EventTaskRdy
 6038 25ac 8981      		ldd r24,Y+1
 6039 25ae 8823      		tst r24
 6040 25b0 01F4      		brne .L630
 6041               	.L626:
 6042 25b2 1882      		st Y,__zero_reg__
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 107


 6043 25b4 8091 0000 		lds r24,OSEventFreeList
 6044 25b8 9091 0000 		lds r25,(OSEventFreeList)+1
 6045 25bc 9D83      		std Y+5,r25
 6046 25be 8C83      		std Y+4,r24
 6047 25c0 D093 0000 		sts (OSEventFreeList)+1,r29
 6048 25c4 C093 0000 		sts OSEventFreeList,r28
 6049               	/* #APP */
 6050               	 ;  191 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 6051 25c8 7894      		sei
 6052               	 ;  0 "" 2
 6053               	/* #NOAPP */
 6054 25ca F1E0      		ldi r31,lo8(1)
 6055 25cc FF16      		cp r15,r31
 6056 25ce 01F0      		breq .L638
 6057               	.L628:
 6058 25d0 F801      		movw r30,r16
 6059 25d2 1082      		st Z,__zero_reg__
 6060 25d4 C0E0      		ldi r28,lo8(0)
 6061 25d6 D0E0      		ldi r29,hi8(0)
 6062 25d8 00C0      		rjmp .L618
 6063               	.L638:
 6064 25da 0E94 0000 		call OS_Sched
 6065 25de 00C0      		rjmp .L628
 6066               	.L636:
 6067 25e0 1882      		st Y,__zero_reg__
 6068 25e2 8091 0000 		lds r24,OSEventFreeList
 6069 25e6 9091 0000 		lds r25,(OSEventFreeList)+1
 6070 25ea 9D83      		std Y+5,r25
 6071 25ec 8C83      		std Y+4,r24
 6072 25ee D093 0000 		sts (OSEventFreeList)+1,r29
 6073 25f2 C093 0000 		sts OSEventFreeList,r28
 6074               	/* #APP */
 6075               	 ;  175 "c:/WinAVR-work/lab2/source/os_mbox.c" 1
 6076 25f6 7894      		sei
 6077               	 ;  0 "" 2
 6078               	/* #NOAPP */
 6079 25f8 F801      		movw r30,r16
 6080 25fa 1082      		st Z,__zero_reg__
 6081 25fc C0E0      		ldi r28,lo8(0)
 6082 25fe D0E0      		ldi r29,hi8(0)
 6083 2600 00C0      		rjmp .L618
 6084               		.size	OSMboxDel, .-OSMboxDel
 6085               	.global	OSFlagPost
 6086               		.type	OSFlagPost, @function
 6087               	OSFlagPost:
 6088 2602 CF92      		push r12
 6089 2604 DF92      		push r13
 6090 2606 EF92      		push r14
 6091 2608 FF92      		push r15
 6092 260a 0F93      		push r16
 6093 260c 1F93      		push r17
 6094 260e DF93      		push r29
 6095 2610 CF93      		push r28
 6096 2612 0F92      		push __tmp_reg__
 6097 2614 CDB7      		in r28,__SP_L__
 6098 2616 DEB7      		in r29,__SP_H__
 6099               	/* prologue: function */
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 108


 6100               	/* frame size = 1 */
 6101 2618 8C01      		movw r16,r24
 6102 261a 7901      		movw r14,r18
 6103 261c 0097      		sbiw r24,0
 6104 261e 01F4      		brne .+2
 6105 2620 00C0      		rjmp .L664
 6106 2622 FC01      		movw r30,r24
 6107 2624 8081      		ld r24,Z
 6108 2626 8530      		cpi r24,lo8(5)
 6109 2628 01F0      		breq .L642
 6110 262a 81E0      		ldi r24,lo8(1)
 6111 262c F901      		movw r30,r18
 6112 262e 8083      		st Z,r24
 6113 2630 80E0      		ldi r24,lo8(0)
 6114               	.L641:
 6115               	/* epilogue start */
 6116 2632 0F90      		pop __tmp_reg__
 6117 2634 CF91      		pop r28
 6118 2636 DF91      		pop r29
 6119 2638 1F91      		pop r17
 6120 263a 0F91      		pop r16
 6121 263c FF90      		pop r15
 6122 263e EF90      		pop r14
 6123 2640 DF90      		pop r13
 6124 2642 CF90      		pop r12
 6125 2644 0895      		ret
 6126               	.L642:
 6127               	/* #APP */
 6128               	 ;  577 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6129 2646 F894      		cli
 6130               	 ;  0 "" 2
 6131               	/* #NOAPP */
 6132 2648 4423      		tst r20
 6133 264a 01F0      		breq .+2
 6134 264c 00C0      		rjmp .L665
 6135 264e 6095      		com r22
 6136 2650 F801      		movw r30,r16
 6137 2652 8381      		ldd r24,Z+3
 6138 2654 8623      		and r24,r22
 6139 2656 8383      		std Z+3,r24
 6140               	.L646:
 6141 2658 F801      		movw r30,r16
 6142 265a C180      		ldd r12,Z+1
 6143 265c D280      		ldd r13,Z+2
 6144 265e C114      		cp r12,__zero_reg__
 6145 2660 D104      		cpc r13,__zero_reg__
 6146 2662 01F4      		brne .+2
 6147 2664 00C0      		rjmp .L666
 6148 2666 1982      		std Y+1,__zero_reg__
 6149 2668 00C0      		rjmp .L655
 6150               	.L650:
 6151 266a F601      		movw r30,r12
 6152 266c 6085      		ldd r22,Z+8
 6153 266e F801      		movw r30,r16
 6154 2670 8381      		ldd r24,Z+3
 6155 2672 8095      		com r24
 6156 2674 8623      		and r24,r22
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 109


 6157 2676 6817      		cp r22,r24
 6158 2678 01F0      		breq .L661
 6159               	.L649:
 6160 267a F601      		movw r30,r12
 6161 267c 8081      		ld r24,Z
 6162 267e 9181      		ldd r25,Z+1
 6163 2680 9C01      		movw r18,r24
 6164 2682 6901      		movw r12,r18
 6165 2684 2115      		cp r18,__zero_reg__
 6166 2686 3105      		cpc r19,__zero_reg__
 6167 2688 01F0      		breq .L648
 6168               	.L655:
 6169 268a F601      		movw r30,r12
 6170 268c 8185      		ldd r24,Z+9
 6171 268e 8130      		cpi r24,lo8(1)
 6172 2690 01F0      		breq .L651
 6173 2692 8130      		cpi r24,lo8(1)
 6174 2694 00F0      		brlo .L650
 6175 2696 8230      		cpi r24,lo8(2)
 6176 2698 01F0      		breq .L652
 6177 269a 8330      		cpi r24,lo8(3)
 6178 269c 01F4      		brne .L649
 6179 269e F601      		movw r30,r12
 6180 26a0 6085      		ldd r22,Z+8
 6181 26a2 F801      		movw r30,r16
 6182 26a4 8381      		ldd r24,Z+3
 6183 26a6 6823      		and r22,r24
 6184 26a8 01F0      		breq .L649
 6185               	.L661:
 6186 26aa C601      		movw r24,r12
 6187 26ac 0E94 0000 		call OS_FlagTaskRdy
 6188 26b0 8130      		cpi r24,lo8(1)
 6189 26b2 01F4      		brne .L649
 6190 26b4 F1E0      		ldi r31,lo8(1)
 6191 26b6 F983      		std Y+1,r31
 6192 26b8 F601      		movw r30,r12
 6193 26ba 8081      		ld r24,Z
 6194 26bc 9181      		ldd r25,Z+1
 6195 26be 9C01      		movw r18,r24
 6196 26c0 6901      		movw r12,r18
 6197 26c2 2115      		cp r18,__zero_reg__
 6198 26c4 3105      		cpc r19,__zero_reg__
 6199 26c6 01F4      		brne .L655
 6200               	.L648:
 6201               	/* #APP */
 6202               	 ;  636 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6203 26c8 7894      		sei
 6204               	 ;  0 "" 2
 6205               	/* #NOAPP */
 6206 26ca F981      		ldd r31,Y+1
 6207 26cc F130      		cpi r31,lo8(1)
 6208 26ce 01F0      		breq .L667
 6209               	.L656:
 6210               	/* #APP */
 6211               	 ;  640 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6212 26d0 F894      		cli
 6213               	 ;  0 "" 2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 110


 6214               	/* #NOAPP */
 6215 26d2 F801      		movw r30,r16
 6216 26d4 8381      		ldd r24,Z+3
 6217               	/* #APP */
 6218               	 ;  642 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6219 26d6 7894      		sei
 6220               	 ;  0 "" 2
 6221               	/* #NOAPP */
 6222 26d8 F701      		movw r30,r14
 6223 26da 1082      		st Z,__zero_reg__
 6224 26dc 00C0      		rjmp .L641
 6225               	.L665:
 6226 26de 4130      		cpi r20,lo8(1)
 6227 26e0 01F0      		breq .L668
 6228               	/* #APP */
 6229               	 ;  588 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6230 26e2 7894      		sei
 6231               	 ;  0 "" 2
 6232               	/* #NOAPP */
 6233 26e4 89E9      		ldi r24,lo8(-103)
 6234 26e6 F901      		movw r30,r18
 6235 26e8 8083      		st Z,r24
 6236 26ea 80E0      		ldi r24,lo8(0)
 6237 26ec 00C0      		rjmp .L641
 6238               	.L651:
 6239 26ee F801      		movw r30,r16
 6240 26f0 6381      		ldd r22,Z+3
 6241 26f2 6095      		com r22
 6242 26f4 F601      		movw r30,r12
 6243 26f6 8085      		ldd r24,Z+8
 6244 26f8 6823      		and r22,r24
 6245 26fa 01F4      		brne .+2
 6246 26fc 00C0      		rjmp .L649
 6247 26fe 00C0      		rjmp .L661
 6248               	.L652:
 6249 2700 F601      		movw r30,r12
 6250 2702 6085      		ldd r22,Z+8
 6251 2704 F801      		movw r30,r16
 6252 2706 8381      		ldd r24,Z+3
 6253 2708 8623      		and r24,r22
 6254 270a 6817      		cp r22,r24
 6255 270c 01F0      		breq .+2
 6256 270e 00C0      		rjmp .L649
 6257 2710 00C0      		rjmp .L661
 6258               	.L664:
 6259 2712 86E9      		ldi r24,lo8(-106)
 6260 2714 F901      		movw r30,r18
 6261 2716 8083      		st Z,r24
 6262 2718 80E0      		ldi r24,lo8(0)
 6263 271a 00C0      		rjmp .L641
 6264               	.L668:
 6265 271c F801      		movw r30,r16
 6266 271e 8381      		ldd r24,Z+3
 6267 2720 862B      		or r24,r22
 6268 2722 8383      		std Z+3,r24
 6269 2724 00C0      		rjmp .L646
 6270               	.L667:
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 111


 6271 2726 0E94 0000 		call OS_Sched
 6272 272a 00C0      		rjmp .L656
 6273               	.L666:
 6274 272c 1982      		std Y+1,__zero_reg__
 6275 272e 00C0      		rjmp .L648
 6276               		.size	OSFlagPost, .-OSFlagPost
 6277               	.global	OSFlagPend
 6278               		.type	OSFlagPend, @function
 6279               	OSFlagPend:
 6280 2730 8F92      		push r8
 6281 2732 9F92      		push r9
 6282 2734 BF92      		push r11
 6283 2736 CF92      		push r12
 6284 2738 DF92      		push r13
 6285 273a EF92      		push r14
 6286 273c FF92      		push r15
 6287 273e 0F93      		push r16
 6288 2740 1F93      		push r17
 6289 2742 DF93      		push r29
 6290 2744 CF93      		push r28
 6291 2746 CDB7      		in r28,__SP_L__
 6292 2748 DEB7      		in r29,__SP_H__
 6293 274a 2B97      		sbiw r28,11
 6294 274c 0FB6      		in __tmp_reg__,__SREG__
 6295 274e F894      		cli
 6296 2750 DEBF      		out __SP_H__,r29
 6297 2752 0FBE      		out __SREG__,__tmp_reg__
 6298 2754 CDBF      		out __SP_L__,r28
 6299               	/* prologue: function */
 6300               	/* frame size = 11 */
 6301 2756 7C01      		movw r14,r24
 6302 2758 562F      		mov r21,r22
 6303 275a B42E      		mov r11,r20
 6304 275c F901      		movw r30,r18
 6305 275e 6801      		movw r12,r16
 6306 2760 8091 0000 		lds r24,OSIntNesting
 6307 2764 8823      		tst r24
 6308 2766 01F4      		brne .L700
 6309 2768 E114      		cp r14,__zero_reg__
 6310 276a F104      		cpc r15,__zero_reg__
 6311 276c 01F0      		breq .L701
 6312 276e D701      		movw r26,r14
 6313 2770 8C91      		ld r24,X
 6314 2772 8530      		cpi r24,lo8(5)
 6315 2774 01F0      		breq .L673
 6316 2776 81E0      		ldi r24,lo8(1)
 6317 2778 F801      		movw r30,r16
 6318 277a 8083      		st Z,r24
 6319 277c 80E0      		ldi r24,lo8(0)
 6320               	.L671:
 6321               	/* epilogue start */
 6322 277e 2B96      		adiw r28,11
 6323 2780 0FB6      		in __tmp_reg__,__SREG__
 6324 2782 F894      		cli
 6325 2784 DEBF      		out __SP_H__,r29
 6326 2786 0FBE      		out __SREG__,__tmp_reg__
 6327 2788 CDBF      		out __SP_L__,r28
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 112


 6328 278a CF91      		pop r28
 6329 278c DF91      		pop r29
 6330 278e 1F91      		pop r17
 6331 2790 0F91      		pop r16
 6332 2792 FF90      		pop r15
 6333 2794 EF90      		pop r14
 6334 2796 DF90      		pop r13
 6335 2798 CF90      		pop r12
 6336 279a BF90      		pop r11
 6337 279c 9F90      		pop r9
 6338 279e 8F90      		pop r8
 6339 27a0 0895      		ret
 6340               	.L700:
 6341 27a2 82E0      		ldi r24,lo8(2)
 6342 27a4 D801      		movw r26,r16
 6343 27a6 8C93      		st X,r24
 6344 27a8 80E0      		ldi r24,lo8(0)
 6345 27aa 00C0      		rjmp .L671
 6346               	.L701:
 6347 27ac 86E9      		ldi r24,lo8(-106)
 6348 27ae F801      		movw r30,r16
 6349 27b0 8083      		st Z,r24
 6350 27b2 80E0      		ldi r24,lo8(0)
 6351 27b4 00C0      		rjmp .L671
 6352               	.L673:
 6353 27b6 47FD      		sbrc r20,7
 6354 27b8 00C0      		rjmp .L674
 6355 27ba 1B86      		std Y+11,__zero_reg__
 6356               	.L675:
 6357               	/* #APP */
 6358               	 ;  409 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6359 27bc F894      		cli
 6360               	 ;  0 "" 2
 6361               	/* #NOAPP */
 6362 27be A1E0      		ldi r26,lo8(1)
 6363 27c0 BA16      		cp r11,r26
 6364 27c2 01F4      		brne .+2
 6365 27c4 00C0      		rjmp .L678
 6366 27c6 BA16      		cp r11,r26
 6367 27c8 00F4      		brsh .L702
 6368 27ca D701      		movw r26,r14
 6369 27cc 1396      		adiw r26,3
 6370 27ce 4C91      		ld r20,X
 6371 27d0 842F      		mov r24,r20
 6372 27d2 8095      		com r24
 6373 27d4 8523      		and r24,r21
 6374 27d6 8517      		cp r24,r21
 6375 27d8 01F4      		brne .+2
 6376 27da 00C0      		rjmp .L703
 6377 27dc C701      		movw r24,r14
 6378 27de 4E01      		movw r8,r28
 6379 27e0 0894      		sec
 6380 27e2 811C      		adc r8,__zero_reg__
 6381 27e4 911C      		adc r9,__zero_reg__
 6382 27e6 B401      		movw r22,r8
 6383 27e8 452F      		mov r20,r21
 6384 27ea 20E0      		ldi r18,lo8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 113


 6385 27ec 8F01      		movw r16,r30
 6386 27ee 0E94 0000 		call OS_FlagBlock
 6387               	/* #APP */
 6388               	 ;  456 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6389 27f2 7894      		sei
 6390               	 ;  0 "" 2
 6391               	/* #NOAPP */
 6392               	.L683:
 6393 27f4 0E94 0000 		call OS_Sched
 6394               	/* #APP */
 6395               	 ;  484 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6396 27f8 F894      		cli
 6397               	 ;  0 "" 2
 6398               	/* #NOAPP */
 6399 27fa E091 0000 		lds r30,OSTCBCur
 6400 27fe F091 0000 		lds r31,(OSTCBCur)+1
 6401 2802 838D      		ldd r24,Z+27
 6402 2804 85FD      		sbrc r24,5
 6403 2806 00C0      		rjmp .L704
 6404 2808 BB85      		ldd r27,Y+11
 6405 280a B130      		cpi r27,lo8(1)
 6406 280c 01F4      		brne .+2
 6407 280e 00C0      		rjmp .L698
 6408 2810 F701      		movw r30,r14
 6409 2812 4381      		ldd r20,Z+3
 6410               	.L691:
 6411 2814 842F      		mov r24,r20
 6412               	/* #APP */
 6413               	 ;  508 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6414 2816 7894      		sei
 6415               	 ;  0 "" 2
 6416               	/* #NOAPP */
 6417 2818 F601      		movw r30,r12
 6418 281a 1082      		st Z,__zero_reg__
 6419 281c 00C0      		rjmp .L671
 6420               	.L702:
 6421 281e B2E0      		ldi r27,lo8(2)
 6422 2820 BB16      		cp r11,r27
 6423 2822 01F0      		breq .L679
 6424 2824 83E0      		ldi r24,lo8(3)
 6425 2826 B816      		cp r11,r24
 6426 2828 01F4      		brne .+2
 6427 282a 00C0      		rjmp .L705
 6428               	/* #APP */
 6429               	 ;  478 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6430 282c 7894      		sei
 6431               	 ;  0 "" 2
 6432               	/* #NOAPP */
 6433 282e 87E9      		ldi r24,lo8(-105)
 6434 2830 F601      		movw r30,r12
 6435 2832 8083      		st Z,r24
 6436 2834 80E0      		ldi r24,lo8(0)
 6437 2836 00C0      		rjmp .L671
 6438               	.L679:
 6439 2838 D701      		movw r26,r14
 6440 283a 1396      		adiw r26,3
 6441 283c 4C91      		ld r20,X
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 114


 6442 283e 852F      		mov r24,r21
 6443 2840 8423      		and r24,r20
 6444 2842 8517      		cp r24,r21
 6445 2844 01F0      		breq .+2
 6446 2846 00C0      		rjmp .L681
 6447 2848 BB85      		ldd r27,Y+11
 6448 284a B130      		cpi r27,lo8(1)
 6449 284c 01F4      		brne .L682
 6450 284e 852F      		mov r24,r21
 6451 2850 8095      		com r24
 6452 2852 8423      		and r24,r20
 6453 2854 F701      		movw r30,r14
 6454 2856 8383      		std Z+3,r24
 6455 2858 482F      		mov r20,r24
 6456               	.L682:
 6457 285a 842F      		mov r24,r20
 6458               	/* #APP */
 6459               	 ;  418 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6460 285c 7894      		sei
 6461               	 ;  0 "" 2
 6462               	/* #NOAPP */
 6463 285e D601      		movw r26,r12
 6464 2860 1C92      		st X,__zero_reg__
 6465 2862 00C0      		rjmp .L671
 6466               	.L703:
 6467 2864 BB85      		ldd r27,Y+11
 6468 2866 B130      		cpi r27,lo8(1)
 6469 2868 01F4      		brne .L687
 6470 286a 842F      		mov r24,r20
 6471 286c 852B      		or r24,r21
 6472 286e F701      		movw r30,r14
 6473 2870 8383      		std Z+3,r24
 6474 2872 482F      		mov r20,r24
 6475               	.L687:
 6476 2874 842F      		mov r24,r20
 6477               	/* #APP */
 6478               	 ;  451 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6479 2876 7894      		sei
 6480               	 ;  0 "" 2
 6481               	/* #NOAPP */
 6482 2878 D601      		movw r26,r12
 6483 287a 1C92      		st X,__zero_reg__
 6484 287c 00C0      		rjmp .L671
 6485               	.L674:
 6486 287e 8FE7      		ldi r24,lo8(127)
 6487 2880 B822      		and r11,r24
 6488 2882 91E0      		ldi r25,lo8(1)
 6489 2884 9B87      		std Y+11,r25
 6490 2886 00C0      		rjmp .L675
 6491               	.L678:
 6492 2888 D701      		movw r26,r14
 6493 288a 1396      		adiw r26,3
 6494 288c 4C91      		ld r20,X
 6495 288e 642F      		mov r22,r20
 6496 2890 6095      		com r22
 6497 2892 6523      		and r22,r21
 6498 2894 01F4      		brne .+2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 115


 6499 2896 00C0      		rjmp .L688
 6500 2898 BB85      		ldd r27,Y+11
 6501 289a B130      		cpi r27,lo8(1)
 6502 289c 01F4      		brne .L689
 6503 289e 862F      		mov r24,r22
 6504 28a0 842B      		or r24,r20
 6505 28a2 F701      		movw r30,r14
 6506 28a4 8383      		std Z+3,r24
 6507 28a6 482F      		mov r20,r24
 6508               	.L689:
 6509 28a8 842F      		mov r24,r20
 6510               	/* #APP */
 6511               	 ;  467 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6512 28aa 7894      		sei
 6513               	 ;  0 "" 2
 6514               	/* #NOAPP */
 6515 28ac D601      		movw r26,r12
 6516 28ae 1C92      		st X,__zero_reg__
 6517 28b0 00C0      		rjmp .L671
 6518               	.L705:
 6519 28b2 D701      		movw r26,r14
 6520 28b4 1396      		adiw r26,3
 6521 28b6 4C91      		ld r20,X
 6522 28b8 852F      		mov r24,r21
 6523 28ba 8423      		and r24,r20
 6524 28bc 01F4      		brne .+2
 6525 28be 00C0      		rjmp .L684
 6526 28c0 BB85      		ldd r27,Y+11
 6527 28c2 B130      		cpi r27,lo8(1)
 6528 28c4 01F4      		brne .L685
 6529 28c6 8095      		com r24
 6530 28c8 8423      		and r24,r20
 6531 28ca F701      		movw r30,r14
 6532 28cc 8383      		std Z+3,r24
 6533 28ce 482F      		mov r20,r24
 6534               	.L685:
 6535 28d0 842F      		mov r24,r20
 6536               	/* #APP */
 6537               	 ;  434 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6538 28d2 7894      		sei
 6539               	 ;  0 "" 2
 6540               	/* #NOAPP */
 6541 28d4 D601      		movw r26,r12
 6542 28d6 1C92      		st X,__zero_reg__
 6543 28d8 00C0      		rjmp .L671
 6544               	.L704:
 6545 28da C401      		movw r24,r8
 6546 28dc 0E94 0000 		call OS_FlagUnlink
 6547 28e0 E091 0000 		lds r30,OSTCBCur
 6548 28e4 F091 0000 		lds r31,(OSTCBCur)+1
 6549 28e8 138E      		std Z+27,__zero_reg__
 6550               	/* #APP */
 6551               	 ;  488 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6552 28ea 7894      		sei
 6553               	 ;  0 "" 2
 6554               	/* #NOAPP */
 6555 28ec 8AE0      		ldi r24,lo8(10)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 116


 6556 28ee D601      		movw r26,r12
 6557 28f0 8C93      		st X,r24
 6558 28f2 80E0      		ldi r24,lo8(0)
 6559 28f4 00C0      		rjmp .L671
 6560               	.L681:
 6561 28f6 C701      		movw r24,r14
 6562 28f8 4E01      		movw r8,r28
 6563 28fa 0894      		sec
 6564 28fc 811C      		adc r8,__zero_reg__
 6565 28fe 911C      		adc r9,__zero_reg__
 6566 2900 B401      		movw r22,r8
 6567 2902 452F      		mov r20,r21
 6568 2904 22E0      		ldi r18,lo8(2)
 6569 2906 8F01      		movw r16,r30
 6570 2908 0E94 0000 		call OS_FlagBlock
 6571               	/* #APP */
 6572               	 ;  423 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6573 290c 7894      		sei
 6574               	 ;  0 "" 2
 6575               	/* #NOAPP */
 6576 290e 00C0      		rjmp .L683
 6577               	.L698:
 6578 2910 81E0      		ldi r24,lo8(1)
 6579 2912 8B15      		cp r24,r11
 6580 2914 00F0      		brlo .L706
 6581 2916 D701      		movw r26,r14
 6582 2918 1396      		adiw r26,3
 6583 291a 4C91      		ld r20,X
 6584 291c 1397      		sbiw r26,3
 6585 291e 808D      		ldd r24,Z+24
 6586 2920 482B      		or r20,r24
 6587 2922 1396      		adiw r26,3
 6588 2924 4C93      		st X,r20
 6589 2926 00C0      		rjmp .L691
 6590               	.L688:
 6591 2928 C701      		movw r24,r14
 6592 292a 4E01      		movw r8,r28
 6593 292c 0894      		sec
 6594 292e 811C      		adc r8,__zero_reg__
 6595 2930 911C      		adc r9,__zero_reg__
 6596 2932 B401      		movw r22,r8
 6597 2934 452F      		mov r20,r21
 6598 2936 21E0      		ldi r18,lo8(1)
 6599 2938 8F01      		movw r16,r30
 6600 293a 0E94 0000 		call OS_FlagBlock
 6601               	/* #APP */
 6602               	 ;  472 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6603 293e 7894      		sei
 6604               	 ;  0 "" 2
 6605               	/* #NOAPP */
 6606 2940 00C0      		rjmp .L683
 6607               	.L684:
 6608 2942 C701      		movw r24,r14
 6609 2944 4E01      		movw r8,r28
 6610 2946 0894      		sec
 6611 2948 811C      		adc r8,__zero_reg__
 6612 294a 911C      		adc r9,__zero_reg__
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 117


 6613 294c B401      		movw r22,r8
 6614 294e 452F      		mov r20,r21
 6615 2950 23E0      		ldi r18,lo8(3)
 6616 2952 8F01      		movw r16,r30
 6617 2954 0E94 0000 		call OS_FlagBlock
 6618               	/* #APP */
 6619               	 ;  439 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6620 2958 7894      		sei
 6621               	 ;  0 "" 2
 6622               	/* #NOAPP */
 6623 295a 00C0      		rjmp .L683
 6624               	.L706:
 6625 295c 93E0      		ldi r25,lo8(3)
 6626 295e 9B15      		cp r25,r11
 6627 2960 00F4      		brsh .L699
 6628 2962 D701      		movw r26,r14
 6629 2964 1396      		adiw r26,3
 6630 2966 4C91      		ld r20,X
 6631 2968 00C0      		rjmp .L691
 6632               	.L699:
 6633 296a 808D      		ldd r24,Z+24
 6634 296c 8095      		com r24
 6635 296e F701      		movw r30,r14
 6636 2970 4381      		ldd r20,Z+3
 6637 2972 4823      		and r20,r24
 6638 2974 4383      		std Z+3,r20
 6639 2976 00C0      		rjmp .L691
 6640               		.size	OSFlagPend, .-OSFlagPend
 6641               	.global	OSFlagDel
 6642               		.type	OSFlagDel, @function
 6643               	OSFlagDel:
 6644 2978 DF92      		push r13
 6645 297a EF92      		push r14
 6646 297c FF92      		push r15
 6647 297e 0F93      		push r16
 6648 2980 1F93      		push r17
 6649 2982 CF93      		push r28
 6650 2984 DF93      		push r29
 6651               	/* prologue: function */
 6652               	/* frame size = 0 */
 6653 2986 8C01      		movw r16,r24
 6654 2988 7A01      		movw r14,r20
 6655 298a 8091 0000 		lds r24,OSIntNesting
 6656 298e 8823      		tst r24
 6657 2990 01F4      		brne .L725
 6658 2992 0115      		cp r16,__zero_reg__
 6659 2994 1105      		cpc r17,__zero_reg__
 6660 2996 01F0      		breq .L726
 6661 2998 F801      		movw r30,r16
 6662 299a 8081      		ld r24,Z
 6663 299c 8530      		cpi r24,lo8(5)
 6664 299e 01F0      		breq .L711
 6665 29a0 81E0      		ldi r24,lo8(1)
 6666 29a2 FA01      		movw r30,r20
 6667 29a4 8083      		st Z,r24
 6668               	.L709:
 6669 29a6 C801      		movw r24,r16
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 118


 6670               	/* epilogue start */
 6671 29a8 DF91      		pop r29
 6672 29aa CF91      		pop r28
 6673 29ac 1F91      		pop r17
 6674 29ae 0F91      		pop r16
 6675 29b0 FF90      		pop r15
 6676 29b2 EF90      		pop r14
 6677 29b4 DF90      		pop r13
 6678 29b6 0895      		ret
 6679               	.L725:
 6680 29b8 8CE8      		ldi r24,lo8(-116)
 6681 29ba FA01      		movw r30,r20
 6682 29bc 8083      		st Z,r24
 6683 29be 00C0      		rjmp .L709
 6684               	.L726:
 6685 29c0 86E9      		ldi r24,lo8(-106)
 6686 29c2 FA01      		movw r30,r20
 6687 29c4 8083      		st Z,r24
 6688 29c6 00C0      		rjmp .L709
 6689               	.L711:
 6690               	/* #APP */
 6691               	 ;  283 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6692 29c8 F894      		cli
 6693               	 ;  0 "" 2
 6694               	/* #NOAPP */
 6695 29ca F801      		movw r30,r16
 6696 29cc 2181      		ldd r18,Z+1
 6697 29ce 3281      		ldd r19,Z+2
 6698 29d0 DD24      		clr r13
 6699 29d2 2115      		cp r18,__zero_reg__
 6700 29d4 3105      		cpc r19,__zero_reg__
 6701 29d6 01F0      		breq .L712
 6702 29d8 DD24      		clr r13
 6703 29da D394      		inc r13
 6704               	.L712:
 6705 29dc 6623      		tst r22
 6706 29de 01F4      		brne .L727
 6707 29e0 DD20      		tst r13
 6708 29e2 01F0      		breq .L728
 6709               	/* #APP */
 6710               	 ;  299 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6711 29e4 7894      		sei
 6712               	 ;  0 "" 2
 6713               	/* #NOAPP */
 6714 29e6 88E0      		ldi r24,lo8(8)
 6715 29e8 F701      		movw r30,r14
 6716 29ea 8083      		st Z,r24
 6717 29ec 00C0      		rjmp .L709
 6718               	.L727:
 6719 29ee 6130      		cpi r22,lo8(1)
 6720 29f0 01F0      		breq .L724
 6721               	/* #APP */
 6722               	 ;  321 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6723 29f2 7894      		sei
 6724               	 ;  0 "" 2
 6725               	/* #NOAPP */
 6726 29f4 87E0      		ldi r24,lo8(7)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 119


 6727 29f6 F701      		movw r30,r14
 6728 29f8 8083      		st Z,r24
 6729 29fa 00C0      		rjmp .L709
 6730               	.L721:
 6731 29fc CE01      		movw r24,r28
 6732 29fe 60E0      		ldi r22,lo8(0)
 6733 2a00 0E94 0000 		call OS_FlagTaskRdy
 6734 2a04 8881      		ld r24,Y
 6735 2a06 9981      		ldd r25,Y+1
 6736 2a08 9C01      		movw r18,r24
 6737               	.L724:
 6738 2a0a E901      		movw r28,r18
 6739 2a0c 2115      		cp r18,__zero_reg__
 6740 2a0e 3105      		cpc r19,__zero_reg__
 6741 2a10 01F4      		brne .L721
 6742 2a12 F801      		movw r30,r16
 6743 2a14 1082      		st Z,__zero_reg__
 6744 2a16 8091 0000 		lds r24,OSFlagFreeList
 6745 2a1a 9091 0000 		lds r25,(OSFlagFreeList)+1
 6746 2a1e 9283      		std Z+2,r25
 6747 2a20 8183      		std Z+1,r24
 6748 2a22 1093 0000 		sts (OSFlagFreeList)+1,r17
 6749 2a26 0093 0000 		sts OSFlagFreeList,r16
 6750               	/* #APP */
 6751               	 ;  313 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6752 2a2a 7894      		sei
 6753               	 ;  0 "" 2
 6754               	/* #NOAPP */
 6755 2a2c F1E0      		ldi r31,lo8(1)
 6756 2a2e DF16      		cp r13,r31
 6757 2a30 01F0      		breq .L729
 6758               	.L719:
 6759 2a32 F701      		movw r30,r14
 6760 2a34 1082      		st Z,__zero_reg__
 6761 2a36 00E0      		ldi r16,lo8(0)
 6762 2a38 10E0      		ldi r17,hi8(0)
 6763 2a3a 00C0      		rjmp .L709
 6764               	.L729:
 6765 2a3c 0E94 0000 		call OS_Sched
 6766 2a40 00C0      		rjmp .L719
 6767               	.L728:
 6768 2a42 F801      		movw r30,r16
 6769 2a44 1082      		st Z,__zero_reg__
 6770 2a46 8091 0000 		lds r24,OSFlagFreeList
 6771 2a4a 9091 0000 		lds r25,(OSFlagFreeList)+1
 6772 2a4e 9283      		std Z+2,r25
 6773 2a50 8183      		std Z+1,r24
 6774 2a52 1093 0000 		sts (OSFlagFreeList)+1,r17
 6775 2a56 0093 0000 		sts OSFlagFreeList,r16
 6776               	/* #APP */
 6777               	 ;  295 "c:/WinAVR-work/lab2/source/os_flag.c" 1
 6778 2a5a 7894      		sei
 6779               	 ;  0 "" 2
 6780               	/* #NOAPP */
 6781 2a5c F701      		movw r30,r14
 6782 2a5e 1082      		st Z,__zero_reg__
 6783 2a60 00E0      		ldi r16,lo8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 120


 6784 2a62 10E0      		ldi r17,hi8(0)
 6785 2a64 00C0      		rjmp .L709
 6786               		.size	OSFlagDel, .-OSFlagDel
 6787               	.global	OSSchedUnlock
 6788               		.type	OSSchedUnlock, @function
 6789               	OSSchedUnlock:
 6790               	/* prologue: function */
 6791               	/* frame size = 0 */
 6792 2a66 8091 0000 		lds r24,OSRunning
 6793 2a6a 8130      		cpi r24,lo8(1)
 6794 2a6c 01F0      		breq .L735
 6795 2a6e 0895      		ret
 6796               	.L735:
 6797               	/* #APP */
 6798               	 ;  256 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6799 2a70 F894      		cli
 6800               	 ;  0 "" 2
 6801               	/* #NOAPP */
 6802 2a72 8091 0000 		lds r24,OSLockNesting
 6803 2a76 8823      		tst r24
 6804 2a78 01F0      		breq .L732
 6805 2a7a 8150      		subi r24,lo8(-(-1))
 6806 2a7c 8093 0000 		sts OSLockNesting,r24
 6807 2a80 8823      		tst r24
 6808 2a82 01F4      		brne .L733
 6809 2a84 8091 0000 		lds r24,OSIntNesting
 6810 2a88 8823      		tst r24
 6811 2a8a 01F0      		breq .L736
 6812               	.L733:
 6813               	/* #APP */
 6814               	 ;  263 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6815 2a8c 7894      		sei
 6816               	 ;  0 "" 2
 6817               	/* #NOAPP */
 6818 2a8e 0895      		ret
 6819               	.L732:
 6820               	/* #APP */
 6821               	 ;  266 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6822 2a90 7894      		sei
 6823               	 ;  0 "" 2
 6824               	/* #NOAPP */
 6825 2a92 0895      		ret
 6826               	.L736:
 6827               	/* #APP */
 6828               	 ;  260 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6829 2a94 7894      		sei
 6830               	 ;  0 "" 2
 6831               	/* #NOAPP */
 6832 2a96 0E94 0000 		call OS_Sched
 6833 2a9a 0895      		ret
 6834               		.size	OSSchedUnlock, .-OSSchedUnlock
 6835               	.global	OSTimeTick
 6836               		.type	OSTimeTick, @function
 6837               	OSTimeTick:
 6838               	/* prologue: function */
 6839               	/* frame size = 0 */
 6840 2a9c 0E94 0000 		call OSTimeTickHook
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 121


 6841               	/* #APP */
 6842               	 ;  374 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6843 2aa0 F894      		cli
 6844               	 ;  0 "" 2
 6845               	/* #NOAPP */
 6846 2aa2 8091 0000 		lds r24,OSTime
 6847 2aa6 9091 0000 		lds r25,(OSTime)+1
 6848 2aaa A091 0000 		lds r26,(OSTime)+2
 6849 2aae B091 0000 		lds r27,(OSTime)+3
 6850 2ab2 0196      		adiw r24,1
 6851 2ab4 A11D      		adc r26,__zero_reg__
 6852 2ab6 B11D      		adc r27,__zero_reg__
 6853 2ab8 8093 0000 		sts OSTime,r24
 6854 2abc 9093 0000 		sts (OSTime)+1,r25
 6855 2ac0 A093 0000 		sts (OSTime)+2,r26
 6856 2ac4 B093 0000 		sts (OSTime)+3,r27
 6857               	/* #APP */
 6858               	 ;  376 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6859 2ac8 7894      		sei
 6860               	 ;  0 "" 2
 6861               	/* #NOAPP */
 6862 2aca 8091 0000 		lds r24,OSRunning
 6863 2ace 8130      		cpi r24,lo8(1)
 6864 2ad0 01F0      		breq .L744
 6865               	.L742:
 6866 2ad2 0895      		ret
 6867               	.L744:
 6868 2ad4 A091 0000 		lds r26,OSTCBList
 6869 2ad8 B091 0000 		lds r27,(OSTCBList)+1
 6870 2adc 5C96      		adiw r26,28
 6871 2ade 8C91      		ld r24,X
 6872 2ae0 5C97      		sbiw r26,28
 6873 2ae2 8C30      		cpi r24,lo8(12)
 6874 2ae4 01F0      		breq .L742
 6875 2ae6 2091 0000 		lds r18,OSRdyGrp
 6876 2aea 41E0      		ldi r20,lo8(1)
 6877 2aec 50E0      		ldi r21,hi8(1)
 6878 2aee 00C0      		rjmp .L741
 6879               	.L746:
 6880 2af0 9096      		adiw r26,32
 6881 2af2 8C91      		ld r24,X
 6882 2af4 9097      		sbiw r26,32
 6883 2af6 282B      		or r18,r24
 6884 2af8 5E96      		adiw r26,30
 6885 2afa EC91      		ld r30,X
 6886 2afc 5E97      		sbiw r26,30
 6887 2afe F0E0      		ldi r31,lo8(0)
 6888 2b00 E050      		subi r30,lo8(-(OSRdyTbl))
 6889 2b02 F040      		sbci r31,hi8(-(OSRdyTbl))
 6890 2b04 8081      		ld r24,Z
 6891 2b06 5F96      		adiw r26,31
 6892 2b08 9C91      		ld r25,X
 6893 2b0a 5F97      		sbiw r26,31
 6894 2b0c 892B      		or r24,r25
 6895 2b0e 8083      		st Z,r24
 6896               	.L739:
 6897 2b10 1E96      		adiw r26,14
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 122


 6898 2b12 0D90      		ld __tmp_reg__,X+
 6899 2b14 BC91      		ld r27,X
 6900 2b16 A02D      		mov r26,__tmp_reg__
 6901               	/* #APP */
 6902               	 ;  393 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6903 2b18 7894      		sei
 6904               	 ;  0 "" 2
 6905               	/* #NOAPP */
 6906 2b1a 5C96      		adiw r26,28
 6907 2b1c 8C91      		ld r24,X
 6908 2b1e 5C97      		sbiw r26,28
 6909 2b20 8C30      		cpi r24,lo8(12)
 6910 2b22 01F0      		breq .L745
 6911               	.L741:
 6912               	/* #APP */
 6913               	 ;  381 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6914 2b24 F894      		cli
 6915               	 ;  0 "" 2
 6916               	/* #NOAPP */
 6917 2b26 5996      		adiw r26,25
 6918 2b28 8D91      		ld r24,X+
 6919 2b2a 9C91      		ld r25,X
 6920 2b2c 5A97      		sbiw r26,25+1
 6921 2b2e 0097      		sbiw r24,0
 6922 2b30 01F0      		breq .L739
 6923 2b32 0197      		sbiw r24,1
 6924 2b34 5A96      		adiw r26,25+1
 6925 2b36 9C93      		st X,r25
 6926 2b38 8E93      		st -X,r24
 6927 2b3a 5997      		sbiw r26,25
 6928 2b3c 892B      		or r24,r25
 6929 2b3e 01F4      		brne .L739
 6930 2b40 5B96      		adiw r26,27
 6931 2b42 8C91      		ld r24,X
 6932 2b44 5B97      		sbiw r26,27
 6933 2b46 83FF      		sbrs r24,3
 6934 2b48 00C0      		rjmp .L746
 6935 2b4a 5A96      		adiw r26,25+1
 6936 2b4c 5C93      		st X,r21
 6937 2b4e 4E93      		st -X,r20
 6938 2b50 5997      		sbiw r26,25
 6939 2b52 00C0      		rjmp .L739
 6940               	.L745:
 6941 2b54 2093 0000 		sts OSRdyGrp,r18
 6942 2b58 0895      		ret
 6943               		.size	OSTimeTick, .-OSTimeTick
 6944               	.global	OSStart
 6945               		.type	OSStart, @function
 6946               	OSStart:
 6947               	/* prologue: function */
 6948               	/* frame size = 0 */
 6949 2b5a 8091 0000 		lds r24,OSRunning
 6950 2b5e 8111      		cpse r24,__zero_reg__
 6951 2b60 0895      		ret
 6952               	.L750:
 6953 2b62 E091 0000 		lds r30,OSRdyGrp
 6954 2b66 F0E0      		ldi r31,lo8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 123


 6955 2b68 E050      		subi r30,lo8(-(OSUnMapTbl))
 6956 2b6a F040      		sbci r31,hi8(-(OSUnMapTbl))
 6957 2b6c A081      		ld r26,Z
 6958 2b6e EA2F      		mov r30,r26
 6959 2b70 F0E0      		ldi r31,lo8(0)
 6960 2b72 E050      		subi r30,lo8(-(OSRdyTbl))
 6961 2b74 F040      		sbci r31,hi8(-(OSRdyTbl))
 6962 2b76 E081      		ld r30,Z
 6963 2b78 F0E0      		ldi r31,lo8(0)
 6964 2b7a E050      		subi r30,lo8(-(OSUnMapTbl))
 6965 2b7c F040      		sbci r31,hi8(-(OSUnMapTbl))
 6966 2b7e AA0F      		lsl r26
 6967 2b80 AA0F      		lsl r26
 6968 2b82 AA0F      		lsl r26
 6969 2b84 8081      		ld r24,Z
 6970 2b86 A80F      		add r26,r24
 6971 2b88 A093 0000 		sts OSPrioHighRdy,r26
 6972 2b8c A093 0000 		sts OSPrioCur,r26
 6973 2b90 B0E0      		ldi r27,lo8(0)
 6974 2b92 AA0F      		lsl r26
 6975 2b94 BB1F      		rol r27
 6976 2b96 A050      		subi r26,lo8(-(OSTCBPrioTbl))
 6977 2b98 B040      		sbci r27,hi8(-(OSTCBPrioTbl))
 6978 2b9a 8D91      		ld r24,X+
 6979 2b9c 9C91      		ld r25,X
 6980 2b9e 9093 0000 		sts (OSTCBHighRdy)+1,r25
 6981 2ba2 8093 0000 		sts OSTCBHighRdy,r24
 6982 2ba6 9093 0000 		sts (OSTCBCur)+1,r25
 6983 2baa 8093 0000 		sts OSTCBCur,r24
 6984 2bae 0E94 0000 		call OSStartHighRdy
 6985 2bb2 0895      		ret
 6986               		.size	OSStart, .-OSStart
 6987               	.global	OSIntExit
 6988               		.type	OSIntExit, @function
 6989               	OSIntExit:
 6990               	/* prologue: function */
 6991               	/* frame size = 0 */
 6992 2bb4 8091 0000 		lds r24,OSRunning
 6993 2bb8 8130      		cpi r24,lo8(1)
 6994 2bba 01F0      		breq .L756
 6995 2bbc 0895      		ret
 6996               	.L756:
 6997               	/* #APP */
 6998               	 ;  180 "c:/WinAVR-work/lab2/source/os_core.c" 1
 6999 2bbe F894      		cli
 7000               	 ;  0 "" 2
 7001               	/* #NOAPP */
 7002 2bc0 8091 0000 		lds r24,OSIntNesting
 7003 2bc4 8823      		tst r24
 7004 2bc6 01F0      		breq .L753
 7005 2bc8 8150      		subi r24,lo8(-(-1))
 7006 2bca 8093 0000 		sts OSIntNesting,r24
 7007 2bce 8823      		tst r24
 7008 2bd0 01F0      		breq .L753
 7009               	.L754:
 7010               	/* #APP */
 7011               	 ;  193 "c:/WinAVR-work/lab2/source/os_core.c" 1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 124


 7012 2bd2 7894      		sei
 7013               	 ;  0 "" 2
 7014               	/* #NOAPP */
 7015 2bd4 0895      		ret
 7016               	.L753:
 7017 2bd6 8091 0000 		lds r24,OSLockNesting
 7018 2bda 8823      		tst r24
 7019 2bdc 01F4      		brne .L754
 7020 2bde E091 0000 		lds r30,OSRdyGrp
 7021 2be2 F0E0      		ldi r31,lo8(0)
 7022 2be4 E050      		subi r30,lo8(-(OSUnMapTbl))
 7023 2be6 F040      		sbci r31,hi8(-(OSUnMapTbl))
 7024 2be8 8081      		ld r24,Z
 7025 2bea 8093 0000 		sts OSIntExitY,r24
 7026 2bee E82F      		mov r30,r24
 7027 2bf0 F0E0      		ldi r31,lo8(0)
 7028 2bf2 E050      		subi r30,lo8(-(OSRdyTbl))
 7029 2bf4 F040      		sbci r31,hi8(-(OSRdyTbl))
 7030 2bf6 E081      		ld r30,Z
 7031 2bf8 F0E0      		ldi r31,lo8(0)
 7032 2bfa E050      		subi r30,lo8(-(OSUnMapTbl))
 7033 2bfc F040      		sbci r31,hi8(-(OSUnMapTbl))
 7034 2bfe 982F      		mov r25,r24
 7035 2c00 990F      		lsl r25
 7036 2c02 990F      		lsl r25
 7037 2c04 990F      		lsl r25
 7038 2c06 8081      		ld r24,Z
 7039 2c08 980F      		add r25,r24
 7040 2c0a 9093 0000 		sts OSPrioHighRdy,r25
 7041 2c0e 8091 0000 		lds r24,OSPrioCur
 7042 2c12 9817      		cp r25,r24
 7043 2c14 01F0      		breq .L754
 7044 2c16 E92F      		mov r30,r25
 7045 2c18 F0E0      		ldi r31,lo8(0)
 7046 2c1a EE0F      		lsl r30
 7047 2c1c FF1F      		rol r31
 7048 2c1e E050      		subi r30,lo8(-(OSTCBPrioTbl))
 7049 2c20 F040      		sbci r31,hi8(-(OSTCBPrioTbl))
 7050 2c22 8081      		ld r24,Z
 7051 2c24 9181      		ldd r25,Z+1
 7052 2c26 9093 0000 		sts (OSTCBHighRdy)+1,r25
 7053 2c2a 8093 0000 		sts OSTCBHighRdy,r24
 7054 2c2e 8091 0000 		lds r24,OSCtxSwCtr
 7055 2c32 9091 0000 		lds r25,(OSCtxSwCtr)+1
 7056 2c36 A091 0000 		lds r26,(OSCtxSwCtr)+2
 7057 2c3a B091 0000 		lds r27,(OSCtxSwCtr)+3
 7058 2c3e 0196      		adiw r24,1
 7059 2c40 A11D      		adc r26,__zero_reg__
 7060 2c42 B11D      		adc r27,__zero_reg__
 7061 2c44 8093 0000 		sts OSCtxSwCtr,r24
 7062 2c48 9093 0000 		sts (OSCtxSwCtr)+1,r25
 7063 2c4c A093 0000 		sts (OSCtxSwCtr)+2,r26
 7064 2c50 B093 0000 		sts (OSCtxSwCtr)+3,r27
 7065 2c54 0E94 0000 		call OSIntCtxSw
 7066 2c58 00C0      		rjmp .L754
 7067               		.size	OSIntExit, .-OSIntExit
 7068               	.global	OSInit
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 125


 7069               		.type	OSInit, @function
 7070               	OSInit:
 7071 2c5a 6F92      		push r6
 7072 2c5c 7F92      		push r7
 7073 2c5e 8F92      		push r8
 7074 2c60 9F92      		push r9
 7075 2c62 AF92      		push r10
 7076 2c64 BF92      		push r11
 7077 2c66 CF92      		push r12
 7078 2c68 DF92      		push r13
 7079 2c6a EF92      		push r14
 7080 2c6c FF92      		push r15
 7081 2c6e 0F93      		push r16
 7082 2c70 1F93      		push r17
 7083               	/* prologue: function */
 7084               	/* frame size = 0 */
 7085 2c72 0E94 0000 		call OSInitHookBegin
 7086 2c76 1092 0000 		sts OSTime,__zero_reg__
 7087 2c7a 1092 0000 		sts (OSTime)+1,__zero_reg__
 7088 2c7e 1092 0000 		sts (OSTime)+2,__zero_reg__
 7089 2c82 1092 0000 		sts (OSTime)+3,__zero_reg__
 7090 2c86 1092 0000 		sts OSIntNesting,__zero_reg__
 7091 2c8a 1092 0000 		sts OSLockNesting,__zero_reg__
 7092 2c8e 1092 0000 		sts OSTaskCtr,__zero_reg__
 7093 2c92 1092 0000 		sts OSRunning,__zero_reg__
 7094 2c96 1092 0000 		sts OSCtxSwCtr,__zero_reg__
 7095 2c9a 1092 0000 		sts (OSCtxSwCtr)+1,__zero_reg__
 7096 2c9e 1092 0000 		sts (OSCtxSwCtr)+2,__zero_reg__
 7097 2ca2 1092 0000 		sts (OSCtxSwCtr)+3,__zero_reg__
 7098 2ca6 1092 0000 		sts OSIdleCtr,__zero_reg__
 7099 2caa 1092 0000 		sts (OSIdleCtr)+1,__zero_reg__
 7100 2cae 1092 0000 		sts (OSIdleCtr)+2,__zero_reg__
 7101 2cb2 1092 0000 		sts (OSIdleCtr)+3,__zero_reg__
 7102 2cb6 1092 0000 		sts OSIdleCtrRun,__zero_reg__
 7103 2cba 1092 0000 		sts (OSIdleCtrRun)+1,__zero_reg__
 7104 2cbe 1092 0000 		sts (OSIdleCtrRun)+2,__zero_reg__
 7105 2cc2 1092 0000 		sts (OSIdleCtrRun)+3,__zero_reg__
 7106 2cc6 1092 0000 		sts OSIdleCtrMax,__zero_reg__
 7107 2cca 1092 0000 		sts (OSIdleCtrMax)+1,__zero_reg__
 7108 2cce 1092 0000 		sts (OSIdleCtrMax)+2,__zero_reg__
 7109 2cd2 1092 0000 		sts (OSIdleCtrMax)+3,__zero_reg__
 7110 2cd6 1092 0000 		sts OSStatRdy,__zero_reg__
 7111 2cda 1092 0000 		sts OSRdyGrp,__zero_reg__
 7112 2cde 1092 0000 		sts OSRdyTbl,__zero_reg__
 7113 2ce2 1092 0000 		sts OSRdyTbl+1,__zero_reg__
 7114 2ce6 1092 0000 		sts OSPrioCur,__zero_reg__
 7115 2cea 1092 0000 		sts OSPrioHighRdy,__zero_reg__
 7116 2cee 1092 0000 		sts (OSTCBHighRdy)+1,__zero_reg__
 7117 2cf2 1092 0000 		sts OSTCBHighRdy,__zero_reg__
 7118 2cf6 1092 0000 		sts (OSTCBCur)+1,__zero_reg__
 7119 2cfa 1092 0000 		sts OSTCBCur,__zero_reg__
 7120 2cfe 1092 0000 		sts (OSTCBList)+1,__zero_reg__
 7121 2d02 1092 0000 		sts OSTCBList,__zero_reg__
 7122 2d06 E0E0      		ldi r30,lo8(OSTCBPrioTbl)
 7123 2d08 F0E0      		ldi r31,hi8(OSTCBPrioTbl)
 7124               	.L758:
 7125 2d0a 1192      		st Z+,__zero_reg__
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 126


 7126 2d0c 1192      		st Z+,__zero_reg__
 7127 2d0e 20E0      		ldi r18,hi8(OSTCBPrioTbl+26)
 7128 2d10 E030      		cpi r30,lo8(OSTCBPrioTbl+26)
 7129 2d12 F207      		cpc r31,r18
 7130 2d14 01F4      		brne .L758
 7131 2d16 80E0      		ldi r24,lo8(OSTCBTbl+34)
 7132 2d18 90E0      		ldi r25,hi8(OSTCBTbl+34)
 7133               	.L759:
 7134 2d1a FC01      		movw r30,r24
 7135 2d1c 7497      		sbiw r30,20
 7136 2d1e 9183      		std Z+1,r25
 7137 2d20 8083      		st Z,r24
 7138 2d22 8296      		adiw r24,34
 7139 2d24 E0E0      		ldi r30,hi8(OSTCBTbl+442)
 7140 2d26 8030      		cpi r24,lo8(OSTCBTbl+442)
 7141 2d28 9E07      		cpc r25,r30
 7142 2d2a 01F4      		brne .L759
 7143 2d2c 1092 0000 		sts (OSTCBTbl+422)+1,__zero_reg__
 7144 2d30 1092 0000 		sts OSTCBTbl+422,__zero_reg__
 7145 2d34 80E0      		ldi r24,lo8(OSTCBTbl)
 7146 2d36 90E0      		ldi r25,hi8(OSTCBTbl)
 7147 2d38 9093 0000 		sts (OSTCBFreeList)+1,r25
 7148 2d3c 8093 0000 		sts OSTCBFreeList,r24
 7149 2d40 20E0      		ldi r18,lo8(OSEventTbl)
 7150 2d42 30E0      		ldi r19,hi8(OSEventTbl)
 7151 2d44 F901      		movw r30,r18
 7152               	.L760:
 7153 2d46 CF01      		movw r24,r30
 7154 2d48 0896      		adiw r24,8
 7155 2d4a 1082      		st Z,__zero_reg__
 7156 2d4c 9583      		std Z+5,r25
 7157 2d4e 8483      		std Z+4,r24
 7158 2d50 FC01      		movw r30,r24
 7159 2d52 80E0      		ldi r24,hi8(OSEventTbl+72)
 7160 2d54 E030      		cpi r30,lo8(OSEventTbl+72)
 7161 2d56 F807      		cpc r31,r24
 7162 2d58 01F4      		brne .L760
 7163 2d5a 1082      		st Z,__zero_reg__
 7164 2d5c 1582      		std Z+5,__zero_reg__
 7165 2d5e 1482      		std Z+4,__zero_reg__
 7166 2d60 3093 0000 		sts (OSEventFreeList)+1,r19
 7167 2d64 2093 0000 		sts OSEventFreeList,r18
 7168 2d68 0E94 0000 		call OS_FlagInit
 7169 2d6c 0E94 0000 		call OS_MemInit
 7170 2d70 0E94 0000 		call OS_QInit
 7171 2d74 00D0      		rcall .
 7172 2d76 B3E0      		ldi r27,lo8(3)
 7173 2d78 6B2E      		mov r6,r27
 7174 2d7a 712C      		mov r7,__zero_reg__
 7175 2d7c EDB7      		in r30,__SP_L__
 7176 2d7e FEB7      		in r31,__SP_H__
 7177 2d80 7282      		std Z+2,r7
 7178 2d82 6182      		std Z+1,r6
 7179 2d84 80E0      		ldi r24,lo8(gs(OS_TaskIdle))
 7180 2d86 90E0      		ldi r25,hi8(gs(OS_TaskIdle))
 7181 2d88 60E0      		ldi r22,lo8(0)
 7182 2d8a 70E0      		ldi r23,hi8(0)
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 127


 7183 2d8c 40E0      		ldi r20,lo8(OSTaskIdleStk+127)
 7184 2d8e 50E0      		ldi r21,hi8(OSTaskIdleStk+127)
 7185 2d90 2CE0      		ldi r18,lo8(12)
 7186 2d92 0FEF      		ldi r16,lo8(-1)
 7187 2d94 1FEF      		ldi r17,hi8(-1)
 7188 2d96 A0E0      		ldi r26,lo8(OSTaskIdleStk)
 7189 2d98 EA2E      		mov r14,r26
 7190 2d9a A0E0      		ldi r26,hi8(OSTaskIdleStk)
 7191 2d9c FA2E      		mov r15,r26
 7192 2d9e F0E8      		ldi r31,lo8(128)
 7193 2da0 AF2E      		mov r10,r31
 7194 2da2 B12C      		mov r11,__zero_reg__
 7195 2da4 C12C      		mov r12,__zero_reg__
 7196 2da6 D12C      		mov r13,__zero_reg__
 7197 2da8 8824      		clr r8
 7198 2daa 9924      		clr r9
 7199 2dac 0E94 0000 		call OSTaskCreateExt
 7200 2db0 EDB7      		in r30,__SP_L__
 7201 2db2 FEB7      		in r31,__SP_H__
 7202 2db4 7282      		std Z+2,r7
 7203 2db6 6182      		std Z+1,r6
 7204 2db8 80E0      		ldi r24,lo8(gs(OS_TaskStat))
 7205 2dba 90E0      		ldi r25,hi8(gs(OS_TaskStat))
 7206 2dbc 60E0      		ldi r22,lo8(0)
 7207 2dbe 70E0      		ldi r23,hi8(0)
 7208 2dc0 40E0      		ldi r20,lo8(OSTaskStatStk+127)
 7209 2dc2 50E0      		ldi r21,hi8(OSTaskStatStk+127)
 7210 2dc4 2BE0      		ldi r18,lo8(11)
 7211 2dc6 0EEF      		ldi r16,lo8(-2)
 7212 2dc8 1FEF      		ldi r17,hi8(-2)
 7213 2dca E0E0      		ldi r30,lo8(OSTaskStatStk)
 7214 2dcc EE2E      		mov r14,r30
 7215 2dce E0E0      		ldi r30,hi8(OSTaskStatStk)
 7216 2dd0 FE2E      		mov r15,r30
 7217 2dd2 0E94 0000 		call OSTaskCreateExt
 7218 2dd6 0F90      		pop __tmp_reg__
 7219 2dd8 0F90      		pop __tmp_reg__
 7220 2dda 0E94 0000 		call OSInitHookEnd
 7221               	/* epilogue start */
 7222 2dde 1F91      		pop r17
 7223 2de0 0F91      		pop r16
 7224 2de2 FF90      		pop r15
 7225 2de4 EF90      		pop r14
 7226 2de6 DF90      		pop r13
 7227 2de8 CF90      		pop r12
 7228 2dea BF90      		pop r11
 7229 2dec AF90      		pop r10
 7230 2dee 9F90      		pop r9
 7231 2df0 8F90      		pop r8
 7232 2df2 7F90      		pop r7
 7233 2df4 6F90      		pop r6
 7234 2df6 0895      		ret
 7235               		.size	OSInit, .-OSInit
 7236               	.global	OSMapTbl
 7237               		.data
 7238               		.type	OSMapTbl, @object
 7239               		.size	OSMapTbl, 8
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 128


 7240               	OSMapTbl:
 7241 0000 01        		.byte	1
 7242 0001 02        		.byte	2
 7243 0002 04        		.byte	4
 7244 0003 08        		.byte	8
 7245 0004 10        		.byte	16
 7246 0005 20        		.byte	32
 7247 0006 40        		.byte	64
 7248 0007 80        		.byte	-128
 7249               	.global	OSUnMapTbl
 7250               		.type	OSUnMapTbl, @object
 7251               		.size	OSUnMapTbl, 256
 7252               	OSUnMapTbl:
 7253 0008 00        		.byte	0
 7254 0009 00        		.byte	0
 7255 000a 01        		.byte	1
 7256 000b 00        		.byte	0
 7257 000c 02        		.byte	2
 7258 000d 00        		.byte	0
 7259 000e 01        		.byte	1
 7260 000f 00        		.byte	0
 7261 0010 03        		.byte	3
 7262 0011 00        		.byte	0
 7263 0012 01        		.byte	1
 7264 0013 00        		.byte	0
 7265 0014 02        		.byte	2
 7266 0015 00        		.byte	0
 7267 0016 01        		.byte	1
 7268 0017 00        		.byte	0
 7269 0018 04        		.byte	4
 7270 0019 00        		.byte	0
 7271 001a 01        		.byte	1
 7272 001b 00        		.byte	0
 7273 001c 02        		.byte	2
 7274 001d 00        		.byte	0
 7275 001e 01        		.byte	1
 7276 001f 00        		.byte	0
 7277 0020 03        		.byte	3
 7278 0021 00        		.byte	0
 7279 0022 01        		.byte	1
 7280 0023 00        		.byte	0
 7281 0024 02        		.byte	2
 7282 0025 00        		.byte	0
 7283 0026 01        		.byte	1
 7284 0027 00        		.byte	0
 7285 0028 05        		.byte	5
 7286 0029 00        		.byte	0
 7287 002a 01        		.byte	1
 7288 002b 00        		.byte	0
 7289 002c 02        		.byte	2
 7290 002d 00        		.byte	0
 7291 002e 01        		.byte	1
 7292 002f 00        		.byte	0
 7293 0030 03        		.byte	3
 7294 0031 00        		.byte	0
 7295 0032 01        		.byte	1
 7296 0033 00        		.byte	0
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 129


 7297 0034 02        		.byte	2
 7298 0035 00        		.byte	0
 7299 0036 01        		.byte	1
 7300 0037 00        		.byte	0
 7301 0038 04        		.byte	4
 7302 0039 00        		.byte	0
 7303 003a 01        		.byte	1
 7304 003b 00        		.byte	0
 7305 003c 02        		.byte	2
 7306 003d 00        		.byte	0
 7307 003e 01        		.byte	1
 7308 003f 00        		.byte	0
 7309 0040 03        		.byte	3
 7310 0041 00        		.byte	0
 7311 0042 01        		.byte	1
 7312 0043 00        		.byte	0
 7313 0044 02        		.byte	2
 7314 0045 00        		.byte	0
 7315 0046 01        		.byte	1
 7316 0047 00        		.byte	0
 7317 0048 06        		.byte	6
 7318 0049 00        		.byte	0
 7319 004a 01        		.byte	1
 7320 004b 00        		.byte	0
 7321 004c 02        		.byte	2
 7322 004d 00        		.byte	0
 7323 004e 01        		.byte	1
 7324 004f 00        		.byte	0
 7325 0050 03        		.byte	3
 7326 0051 00        		.byte	0
 7327 0052 01        		.byte	1
 7328 0053 00        		.byte	0
 7329 0054 02        		.byte	2
 7330 0055 00        		.byte	0
 7331 0056 01        		.byte	1
 7332 0057 00        		.byte	0
 7333 0058 04        		.byte	4
 7334 0059 00        		.byte	0
 7335 005a 01        		.byte	1
 7336 005b 00        		.byte	0
 7337 005c 02        		.byte	2
 7338 005d 00        		.byte	0
 7339 005e 01        		.byte	1
 7340 005f 00        		.byte	0
 7341 0060 03        		.byte	3
 7342 0061 00        		.byte	0
 7343 0062 01        		.byte	1
 7344 0063 00        		.byte	0
 7345 0064 02        		.byte	2
 7346 0065 00        		.byte	0
 7347 0066 01        		.byte	1
 7348 0067 00        		.byte	0
 7349 0068 05        		.byte	5
 7350 0069 00        		.byte	0
 7351 006a 01        		.byte	1
 7352 006b 00        		.byte	0
 7353 006c 02        		.byte	2
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 130


 7354 006d 00        		.byte	0
 7355 006e 01        		.byte	1
 7356 006f 00        		.byte	0
 7357 0070 03        		.byte	3
 7358 0071 00        		.byte	0
 7359 0072 01        		.byte	1
 7360 0073 00        		.byte	0
 7361 0074 02        		.byte	2
 7362 0075 00        		.byte	0
 7363 0076 01        		.byte	1
 7364 0077 00        		.byte	0
 7365 0078 04        		.byte	4
 7366 0079 00        		.byte	0
 7367 007a 01        		.byte	1
 7368 007b 00        		.byte	0
 7369 007c 02        		.byte	2
 7370 007d 00        		.byte	0
 7371 007e 01        		.byte	1
 7372 007f 00        		.byte	0
 7373 0080 03        		.byte	3
 7374 0081 00        		.byte	0
 7375 0082 01        		.byte	1
 7376 0083 00        		.byte	0
 7377 0084 02        		.byte	2
 7378 0085 00        		.byte	0
 7379 0086 01        		.byte	1
 7380 0087 00        		.byte	0
 7381 0088 07        		.byte	7
 7382 0089 00        		.byte	0
 7383 008a 01        		.byte	1
 7384 008b 00        		.byte	0
 7385 008c 02        		.byte	2
 7386 008d 00        		.byte	0
 7387 008e 01        		.byte	1
 7388 008f 00        		.byte	0
 7389 0090 03        		.byte	3
 7390 0091 00        		.byte	0
 7391 0092 01        		.byte	1
 7392 0093 00        		.byte	0
 7393 0094 02        		.byte	2
 7394 0095 00        		.byte	0
 7395 0096 01        		.byte	1
 7396 0097 00        		.byte	0
 7397 0098 04        		.byte	4
 7398 0099 00        		.byte	0
 7399 009a 01        		.byte	1
 7400 009b 00        		.byte	0
 7401 009c 02        		.byte	2
 7402 009d 00        		.byte	0
 7403 009e 01        		.byte	1
 7404 009f 00        		.byte	0
 7405 00a0 03        		.byte	3
 7406 00a1 00        		.byte	0
 7407 00a2 01        		.byte	1
 7408 00a3 00        		.byte	0
 7409 00a4 02        		.byte	2
 7410 00a5 00        		.byte	0
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 131


 7411 00a6 01        		.byte	1
 7412 00a7 00        		.byte	0
 7413 00a8 05        		.byte	5
 7414 00a9 00        		.byte	0
 7415 00aa 01        		.byte	1
 7416 00ab 00        		.byte	0
 7417 00ac 02        		.byte	2
 7418 00ad 00        		.byte	0
 7419 00ae 01        		.byte	1
 7420 00af 00        		.byte	0
 7421 00b0 03        		.byte	3
 7422 00b1 00        		.byte	0
 7423 00b2 01        		.byte	1
 7424 00b3 00        		.byte	0
 7425 00b4 02        		.byte	2
 7426 00b5 00        		.byte	0
 7427 00b6 01        		.byte	1
 7428 00b7 00        		.byte	0
 7429 00b8 04        		.byte	4
 7430 00b9 00        		.byte	0
 7431 00ba 01        		.byte	1
 7432 00bb 00        		.byte	0
 7433 00bc 02        		.byte	2
 7434 00bd 00        		.byte	0
 7435 00be 01        		.byte	1
 7436 00bf 00        		.byte	0
 7437 00c0 03        		.byte	3
 7438 00c1 00        		.byte	0
 7439 00c2 01        		.byte	1
 7440 00c3 00        		.byte	0
 7441 00c4 02        		.byte	2
 7442 00c5 00        		.byte	0
 7443 00c6 01        		.byte	1
 7444 00c7 00        		.byte	0
 7445 00c8 06        		.byte	6
 7446 00c9 00        		.byte	0
 7447 00ca 01        		.byte	1
 7448 00cb 00        		.byte	0
 7449 00cc 02        		.byte	2
 7450 00cd 00        		.byte	0
 7451 00ce 01        		.byte	1
 7452 00cf 00        		.byte	0
 7453 00d0 03        		.byte	3
 7454 00d1 00        		.byte	0
 7455 00d2 01        		.byte	1
 7456 00d3 00        		.byte	0
 7457 00d4 02        		.byte	2
 7458 00d5 00        		.byte	0
 7459 00d6 01        		.byte	1
 7460 00d7 00        		.byte	0
 7461 00d8 04        		.byte	4
 7462 00d9 00        		.byte	0
 7463 00da 01        		.byte	1
 7464 00db 00        		.byte	0
 7465 00dc 02        		.byte	2
 7466 00dd 00        		.byte	0
 7467 00de 01        		.byte	1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 132


 7468 00df 00        		.byte	0
 7469 00e0 03        		.byte	3
 7470 00e1 00        		.byte	0
 7471 00e2 01        		.byte	1
 7472 00e3 00        		.byte	0
 7473 00e4 02        		.byte	2
 7474 00e5 00        		.byte	0
 7475 00e6 01        		.byte	1
 7476 00e7 00        		.byte	0
 7477 00e8 05        		.byte	5
 7478 00e9 00        		.byte	0
 7479 00ea 01        		.byte	1
 7480 00eb 00        		.byte	0
 7481 00ec 02        		.byte	2
 7482 00ed 00        		.byte	0
 7483 00ee 01        		.byte	1
 7484 00ef 00        		.byte	0
 7485 00f0 03        		.byte	3
 7486 00f1 00        		.byte	0
 7487 00f2 01        		.byte	1
 7488 00f3 00        		.byte	0
 7489 00f4 02        		.byte	2
 7490 00f5 00        		.byte	0
 7491 00f6 01        		.byte	1
 7492 00f7 00        		.byte	0
 7493 00f8 04        		.byte	4
 7494 00f9 00        		.byte	0
 7495 00fa 01        		.byte	1
 7496 00fb 00        		.byte	0
 7497 00fc 02        		.byte	2
 7498 00fd 00        		.byte	0
 7499 00fe 01        		.byte	1
 7500 00ff 00        		.byte	0
 7501 0100 03        		.byte	3
 7502 0101 00        		.byte	0
 7503 0102 01        		.byte	1
 7504 0103 00        		.byte	0
 7505 0104 02        		.byte	2
 7506 0105 00        		.byte	0
 7507 0106 01        		.byte	1
 7508 0107 00        		.byte	0
 7509               		.comm OSCtxSwCtr,4,1
 7510               		.comm OSEventFreeList,2,1
 7511               		.comm OSEventTbl,80,1
 7512               		.comm OSFlagTbl,20,1
 7513               		.comm OSFlagFreeList,2,1
 7514               		.comm OSCPUUsage,1,1
 7515               		.comm OSIdleCtrMax,4,1
 7516               		.comm OSIdleCtrRun,4,1
 7517               		.comm OSStatRdy,1,1
 7518               		.comm OSTaskStatStk,128,1
 7519               		.comm OSIntNesting,1,1
 7520               		.comm OSIntExitY,1,1
 7521               		.comm OSLockNesting,1,1
 7522               		.comm OSPrioCur,1,1
 7523               		.comm OSPrioHighRdy,1,1
 7524               		.comm OSRdyGrp,1,1
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 133


 7525               		.comm OSRdyTbl,2,1
 7526               		.comm OSRunning,1,1
 7527               		.comm OSTaskCtr,1,1
 7528               		.comm OSIdleCtr,4,1
 7529               		.comm OSTaskIdleStk,128,1
 7530               		.comm OSTCBCur,2,1
 7531               		.comm OSTCBFreeList,2,1
 7532               		.comm OSTCBHighRdy,2,1
 7533               		.comm OSTCBList,2,1
 7534               		.comm OSTCBPrioTbl,26,1
 7535               		.comm OSTCBTbl,442,1
 7536               		.comm OSMemFreeList,2,1
 7537               		.comm OSMemTbl,80,1
 7538               		.comm OSQFreeList,2,1
 7539               		.comm OSQTbl,70,1
 7540               		.comm OSTime,4,1
 7541               	.global __do_copy_data
 7542               	.global __do_clear_bss
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 134


DEFINED SYMBOLS
                            *ABS*:00000000 ucos_ii.c
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2      *ABS*:0000003f __SREG__
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3      *ABS*:0000003e __SP_H__
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4      *ABS*:0000003d __SP_L__
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5      *ABS*:00000034 __CCP__
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:7      *ABS*:00000001 __zero_reg__
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:11     .text:00000000 OSIntEnter
                            *COM*:00000001 OSRunning
                            *COM*:00000001 OSIntNesting
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:29     .text:0000001a OSSchedLock
                            *COM*:00000001 OSLockNesting
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:57     .text:00000038 OSVersion
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:67     .text:0000003e OS_Dummy
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:75     .text:00000040 OS_EventTaskRdy
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:7252   .data:00000008 OSUnMapTbl
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:7240   .data:00000000 OSMapTbl
                            *COM*:0000001a OSTCBPrioTbl
                            *COM*:00000001 OSRdyGrp
                            *COM*:00000002 OSRdyTbl
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:173    .text:000000f6 OS_EventTaskWait
                            *COM*:00000002 OSTCBCur
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:231    .text:00000160 OS_EventTO
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:276    .text:000001ae OS_EventWaitListInit
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:288    .text:000001b8 OSFlagAccept
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:444    .text:00000294 OSFlagCreate
                            *COM*:00000002 OSFlagFreeList
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:499    .text:000002e0 OSFlagQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:534    .text:00000308 OS_FlagBlock
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:619    .text:000003a8 OS_FlagInit
                            *COM*:00000014 OSFlagTbl
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:645    .text:000003d0 OS_FlagUnlink
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:694    .text:00000422 OS_FlagTaskRdy
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:757    .text:00000498 OSMboxAccept
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:792    .text:000004ba OSMboxCreate
                            *COM*:00000002 OSEventFreeList
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:841    .text:00000502 OSMboxQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:888    .text:00000540 OSMemCreate
                            *COM*:00000002 OSMemFreeList
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1090   .text:000006ae OSMemGet
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1160   .text:0000070e OSMemPut
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1236   .text:00000778 OSMemQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1315   .text:000007f2 OS_MemInit
                            *COM*:00000050 OSMemTbl
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1370   .text:00000852 OSMutexAccept
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1454   .text:000008d0 OSMutexCreate
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1562   .text:0000097a OSMutexQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1628   .text:000009da OSQAccept
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1702   .text:00000a46 OSQCreate
                            *COM*:00000002 OSQFreeList
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1812   .text:00000afe OSQFlush
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1853   .text:00000b30 OSQQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1935   .text:00000bae OS_QInit
                            *COM*:00000046 OSQTbl
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:1961   .text:00000bec OSSemAccept
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2004   .text:00000c1e OSSemCreate
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 135


C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2053   .text:00000c66 OSSemQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2100   .text:00000ca4 OSTaskDelReq
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2163   .text:00000cf0 OSTaskStkChk
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2308   .text:00000dd8 OSTimeGet
                            *COM*:00000004 OSTime
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2332   .text:00000df2 OSTimeSet
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2354   .text:00000e08 OSTaskQuery
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2411   .text:00000e50 OS_TCBInit
                            *COM*:00000002 OSTCBFreeList
                            *COM*:00000002 OSTCBList
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2561   .text:00000f58 OS_TaskIdle
                            *COM*:00000004 OSIdleCtr
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2591   .text:00000f88 OS_Sched
                            *COM*:00000001 OSPrioHighRdy
                            *COM*:00000001 OSPrioCur
                            *COM*:00000002 OSTCBHighRdy
                            *COM*:00000004 OSCtxSwCtr
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2662   .text:00001016 OSTimeDlyResume
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2752   .text:00001094 OSTimeDly
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2803   .text:000010e4 OSTimeDlyHMSM
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:2957   .text:00001206 OS_TaskStat
                            *COM*:00000001 OSStatRdy
                            *COM*:00000004 OSIdleCtrMax
                            *COM*:00000001 OSCPUUsage
                            *COM*:00000004 OSIdleCtrRun
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3059   .text:000012f0 OSStatInit
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3107   .text:00001340 OSTaskSuspend
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3212   .text:000013ea OSTaskResume
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3305   .text:0000146c OSTaskDel
                            *COM*:00000001 OSTaskCtr
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3504   .text:000015d2 OSTaskCreateExt
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3678   .text:000016ea OSTaskCreate
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:3799   .text:0000179a OSTaskChangePrio
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4015   .text:00001900 OSSemPost
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4079   .text:00001950 OSSemPend
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4196   .text:00001a00 OSSemDel
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4337   .text:00001ae2 OSQPostOpt
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4506   .text:00001bf2 OSQPostFront
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4613   .text:00001c92 OSQPost
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4719   .text:00001d30 OSQPend
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:4890   .text:00001e48 OSQDel
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5055   .text:00001f68 OSMutexPost
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5245   .text:000020b8 OSMutexPend
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5494   .text:00002276 OSMutexDel
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5652   .text:0000237a OSMboxPostOpt
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5753   .text:0000240a OSMboxPost
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5818   .text:0000245a OSMboxPend
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:5946   .text:00002520 OSMboxDel
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6087   .text:00002602 OSFlagPost
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6279   .text:00002730 OSFlagPend
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6643   .text:00002978 OSFlagDel
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6789   .text:00002a66 OSSchedUnlock
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6837   .text:00002a9c OSTimeTick
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6946   .text:00002b5a OSStart
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:6989   .text:00002bb4 OSIntExit
                            *COM*:00000001 OSIntExitY
C:\Users\kin16\AppData\Local\Temp/cc92agPa.s:7070   .text:00002c5a OSInit
GAS LISTING C:\Users\kin16\AppData\Local\Temp/cc92agPa.s 			page 136


                            *COM*:000001ba OSTCBTbl
                            *COM*:00000050 OSEventTbl
                            *COM*:00000080 OSTaskIdleStk
                            *COM*:00000080 OSTaskStatStk

UNDEFINED SYMBOLS
OSTCBInitHook
OSTaskCreateHook
OSTaskIdleHook
OSCtxSw
__mulsi3
__udivmodsi4
OSTaskStatHook
OSTaskDelHook
memset
OSTaskStkInit
OSTimeTickHook
OSStartHighRdy
OSIntCtxSw
OSInitHookBegin
OSInitHookEnd
__do_copy_data
__do_clear_bss
